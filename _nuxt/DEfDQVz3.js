import{c as r,o as s,a as o,y as z,r as c,k as w,B as F,n as f,N as B,x as m,O as D,F as $,q as N,b as O,d as V,p as x,E as G,t as R}from"#entry";import{o as j}from"./p_0qh1ut.js";import{F as T}from"./Dw8P0qyA.js";import{i as U}from"./Bf1dg9Wo.js";function te(n,b){return s(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}const q=["placeholder"],A=["onClick"],E={class:"relative w-12 h-12 mr-4 flex-shrink-0 rounded-lg border border-white/10 overflow-hidden bg-slate-950"},K=["src","alt"],L={class:"flex items-center gap-2"},P={class:"text-xl font-black tracking-tight group-hover:text-yellow-400 transition-colors"},M={key:0,class:"text-[10px] bg-purple-500 text-white px-1.5 py-0.5 rounded uppercase font-black"},W="https://raw.githubusercontent.com/vabe44/31f5d518-epzl-cdn/main",J=z({__name:"HeroSelectInput",props:{placeholder:{type:String,default:"Guess a hero..."},heroes:{type:Array,required:!0},direction:{type:String,default:"up"}},emits:["update:selectedHero"],setup(n,{emit:b}){const g=n,k=b,l=c(""),a=c(!1),d=c(!1),p=c(null);j(p,()=>{a.value=!1});const h=W;function y(u){return`${h}/portraits/${u}.webp`}const _={keys:["name"],threshold:.4,includeScore:!0},i=w(()=>l.value?new T((g.heroes||[]).filter(e=>e.name&&e.id),_).search(l.value).map(e=>e.item):[]),C=w(()=>!d.value&&!l.value);function H(){d.value=!0,window.innerWidth<768&&setTimeout(()=>{p.value?.scrollIntoView({behavior:"smooth",block:"center"})},100)}function I(){d.value=!1}function S(){i.value.length>0&&v(i.value[0])}function v(u){l.value="",a.value=!1,k("update:selectedHero",u)}return(u,t)=>(s(),r("div",{ref_key:"dropdownRef",ref:p,class:"autocomplete-container w-full max-w-lg relative z-50"},[F(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),placeholder:n.placeholder,onFocus:t[1]||(t[1]=()=>{a.value=!0,H()}),onBlur:I,onKeydown:D(S,["enter"]),class:m(["w-full px-6 py-4 text-xl text-white bg-slate-900/90 backdrop-blur-md border-2 border-slate-700 rounded-2xl shadow-2xl focus:outline-none focus:border-yellow-400 transition-all duration-300 ease-in-out",C.value?"guess-input-animated":""]),ref:"guessInputRef"},null,42,q),[[B,l.value]]),a.value&&i.value.length>0?(s(),r("ul",{key:0,class:m(["dropdown absolute z-[60] w-full bg-slate-900/95 backdrop-blur-xl border-2 border-slate-700 rounded-2xl shadow-2xl max-h-80 overflow-y-auto flex custom-scrollbar",n.direction==="up"?"bottom-full mb-2 flex-col-reverse":"top-full mt-2 flex-col"])},[(s(!0),r($,null,N(i.value,e=>(s(),r("li",{key:e.id,onClick:Q=>v(e),class:"px-4 py-3 text-white cursor-pointer hover:bg-slate-800 flex items-center shrink-0 group border-b border-white/5 last:border-0 transition-colors"},[o("div",E,[o("div",{class:"absolute inset-0 opacity-100 z-0",style:G({backgroundImage:`url(${x(h)}/Uncompressed/herocard_colors_${(e.element||e.heroData?.color||"default").toLowerCase()}.png)`,backgroundRepeat:"repeat-x",backgroundSize:"auto 100%"})},null,4),e.id?(s(),r("img",{key:0,src:y(e.id),alt:e.id,class:"w-full h-full object-cover relative z-10 group-hover:scale-110 transition-transform duration-300",loading:"lazy"},null,8,K)):f("",!0)]),o("div",L,[o("span",P,R(e.name),1),e.costume?(s(),r("span",M,"Costume")):f("",!0)])],8,A))),128)),o("li",{class:m(["sticky z-20 bg-slate-900 pb-1 pt-0.5 px-1",n.direction==="up"?"top-0 border-b border-white/10":"bottom-0 border-t border-white/10"])},[o("button",{onClick:t[2]||(t[2]=e=>a.value=!1),class:"w-full py-2 bg-slate-800 hover:bg-slate-700 rounded-xl text-slate-400 hover:text-white flex items-center justify-center gap-2 transition-colors cursor-pointer text-[10px] font-black uppercase tracking-widest"},[O(x(U),{class:"w-4 h-4"}),t[3]||(t[3]=V(" Close Search ",-1))])],2)],2)):f("",!0)],512))}}),oe=Object.assign(J,{__name:"HeroSelectInput"});export{oe as H,te as r};
