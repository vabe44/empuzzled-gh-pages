import{i as I,j as w,aH as S,y as k,K as L,n as R}from"#entry";const W=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const X=Object.prototype.toString,Y=t=>X.call(t)==="[object Object]",$=()=>{};function C(t){return Array.isArray(t)?t:[t]}function F(t,a,r){return I(t,a,{...r,immediate:!0})}const j=W?window:void 0;function P(t){var a;const r=S(t);return(a=r?.$el)!==null&&a!==void 0?a:r}function T(...t){const a=(o,l,u,d)=>(o.addEventListener(l,u,d),()=>o.removeEventListener(l,u,d)),r=w(()=>{const o=C(S(t[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0});return F(()=>{var o,l;return[(o=(l=r.value)===null||l===void 0?void 0:l.map(u=>P(u)))!==null&&o!==void 0?o:[j].filter(u=>u!=null),C(S(r.value?t[1]:t[0])),C(R(r.value?t[2]:t[1])),S(r.value?t[3]:t[2])]},([o,l,u,d],p,c)=>{if(!o?.length||!l?.length||!u?.length)return;const f=Y(d)?{...d}:d,v=o.flatMap(b=>l.flatMap(h=>u.map(y=>a(b,h,y,f))));c(()=>{v.forEach(b=>b())})},{flush:"post"})}function B(t,a,r={}){const{window:o=j,ignore:l=[],capture:u=!0,detectIframe:d=!1,controls:p=!1}=r;if(!o)return p?{stop:$,cancel:$,trigger:$}:$;let c=!0;const f=e=>S(l).some(n=>{if(typeof n=="string")return Array.from(o.document.querySelectorAll(n)).some(i=>i===e.target||e.composedPath().includes(i));{const i=P(n);return i&&(e.target===i||e.composedPath().includes(i))}});function v(e){const n=S(e);return n&&n.$.subTree.shapeFlag===16}function b(e,n){const i=S(e),m=i.$.subTree&&i.$.subTree.children;return m==null||!Array.isArray(m)?!1:m.some(A=>A.el===n.target||n.composedPath().includes(A.el))}const h=e=>{const n=P(t);if(e.target!=null&&!(!(n instanceof Element)&&v(t)&&b(t,e))&&!(!n||n===e.target||e.composedPath().includes(n))){if("detail"in e&&e.detail===0&&(c=!f(e)),!c){c=!0;return}a(e)}};let y=!1;const E=[T(o,"click",e=>{y||(y=!0,setTimeout(()=>{y=!1},0),h(e))},{passive:!0,capture:u}),T(o,"pointerdown",e=>{const n=P(t);c=!f(e)&&!!(n&&!e.composedPath().includes(n))},{passive:!0}),d&&T(o,"blur",e=>{setTimeout(()=>{var n;const i=P(t);((n=o.document.activeElement)===null||n===void 0?void 0:n.tagName)==="IFRAME"&&!i?.contains(o.document.activeElement)&&a(e)},0)},{passive:!0})].filter(Boolean),x=()=>E.forEach(e=>e());return p?{stop:x,cancel:()=>{c=!1},trigger:e=>{c=!0,h(e),c=!1}}:x}function D(t,a={}){const{threshold:r=50,onSwipe:o,onSwipeEnd:l,onSwipeStart:u,passive:d=!0}=a,p=k({x:0,y:0}),c=k({x:0,y:0}),f=w(()=>p.x-c.x),v=w(()=>p.y-c.y),{max:b,abs:h}=Math,y=w(()=>b(h(f.value),h(v.value))>=r),E=L(!1),x=w(()=>y.value?h(f.value)>h(v.value)?f.value>0?"left":"right":v.value>0?"up":"down":"none"),e=s=>[s.touches[0].clientX,s.touches[0].clientY],n=(s,g)=>{p.x=s,p.y=g},i=(s,g)=>{c.x=s,c.y=g},m={passive:d,capture:!d},A=s=>{E.value&&l?.(s,x.value),E.value=!1},O=[T(t,"touchstart",s=>{if(s.touches.length!==1)return;const[g,M]=e(s);n(g,M),i(g,M),u?.(s)},m),T(t,"touchmove",s=>{if(s.touches.length!==1)return;const[g,M]=e(s);i(g,M),m.capture&&!m.passive&&Math.abs(f.value)>Math.abs(v.value)&&s.preventDefault(),!E.value&&y.value&&(E.value=!0),E.value&&o?.(s)},m),T(t,["touchend","touchcancel"],A,m)];return{isSwiping:E,direction:x,coordsStart:p,coordsEnd:c,lengthX:f,lengthY:v,stop:()=>O.forEach(s=>s())}}export{D as a,B as o,P as u};
