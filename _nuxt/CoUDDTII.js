const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CU4U_QcS.js","./BvNr8djN.js","./DlAUqK2U.js","./CJhKH7Ru.js","./AppFooter.BI0_DQlL.css","./DUvd_dVE.js","./Dw8P0qyA.js","./VdAa2YJL.js","./BlogCard.CMun2rW6.css","./C0HGUEz4.js","./AdSense.CKdXpi6v.css","./blog.B-wAiNKY.css","./Cqodktf-.js","./about.Bk4v1n3w.css","./CDTEiF2g.js","./codes.B7d_0oQh.css","./Dl1Ng_X9.js","./index.C5aSJa8N.css","./BA2Zq0yR.js","./B8qjYt7i.js","./CON-FFON.js","./BfgBobOj.js","./HeroSearchModal.CWO-ajrk.css","./BToG3Yeu.js","./CvSP3Lq6.js","./HeroCardImage.ComUzLix.css","./LhpplqSY.js","./HeroGeneralInfo.B1VEIF2e.css","./JJTqmfkD.js","./HeroStatsEmblems.DI02e4Hh.css","./CHZJY8r7.js","./HeroSpecialSkill.B2gTWJGV.css","./dHgr8-U7.js","./HeroFamilyBonus.REujgVZA.css","./DYxFYwMR.js","./HeroPassives.D1Dawmi2.css","./B4003JHb.js","./HeroAetherPower.By2eTgXN.css","./HeroDetailsModal.DTIuecKj.css","./skill.CJXifuJh.css","./Bk8kP-f4.js","./terms.D_jQvv1i.css","./BZFvPpla.js","./shadow.DhX2rF5p.css","./DP0OAz60.js","./classic.LS9Ukt9j.css","./De2vgM_p.js","./contact.CFqbdBsT.css","./DazitHta.js","./calendar.CqbfVeME.css","./pKiroJhj.js","./_...CrrdqRUC.css","./B8JDjsni.js","./disclaimer.e9N51Kpb.css","./BJ0AeUBb.js","./DP9JbWvm.js","./HeroFilters.DH-CuyHg.css","./hero-coach.KyHCCpQT.css","./StgUjjZN.js","./8TtfBYKG.js","./fated-summon.6Va2lCto.css","./wS8Uj-Jt.js","./farming-guide.CDM9UEAx.css","./B73a_O4_.js","./hero-database.C-z7XdoK.css","./Ceyq8vII.js","./Dj0VTWGB.js","./BwiNUDLV.js","./soul-exchange.C5xzGdRf.css","./C6eSZW7Y.js","./privacy-policy.CVJYsen7.css","./BVjx7CfL.js","./BsEKHxXd.js","./_id_.JPq-_rM5.css","./DUITXS7j.js","./index.B61jCAqi.css","./gMOYu-fa.js","./talent-simulator.tn0RQdqM.css","./CxWc-BJ0.js","./featured.MCCzFAQH.css","./NtNHSClk.js","./visiting-outfitter.ClIIw7Aw.css","./DHme1RuN.js","./_id_.BF22mJIn.css","./CRXxKQqa.js","./nQ___iDY.js","./CBkBqsfN.js","./Cuj-PgIX.js","./Dw2bo_06.js","./Bu7J7ayG.js","./CVhVNpv5.js","./B7FhVXLW.js","./7k-5PsHk.js","./ProsePre.D5orA6B_.css","./CzoUPAR8.js","./CyZhhXKD.js","./CgCG3VMt.js","./CfSO45Eb.js","./B6BX568L.js","./CjuZE4k6.js","./Do9w3vp-.js","./NOJiRtAl.js","./gSFhPMiZ.js","./error-404.C4qi79a3.css","./CAvHtQND.js","./error-500.Ddtxhd_F.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Kt(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Te={},ds=[],Zt=()=>{},of=()=>!1,wi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),il=t=>t.startsWith("onUpdate:"),Ve=Object.assign,ol=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},eA=Object.prototype.hasOwnProperty,Se=(t,e)=>eA.call(t,e),ne=Array.isArray,ps=t=>Ns(t)==="[object Map]",Xr=t=>Ns(t)==="[object Set]",th=t=>Ns(t)==="[object Date]",sy=t=>Ns(t)==="[object RegExp]",le=t=>typeof t=="function",Oe=t=>typeof t=="string",un=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",ea=t=>(De(t)||le(t))&&le(t.then)&&le(t.catch),af=Object.prototype.toString,Ns=t=>af.call(t),iy=t=>Ns(t).slice(8,-1),ta=t=>Ns(t)==="[object Object]",al=t=>Oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ms=Kt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tA=Kt("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cl=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},nA=/-\w/g,pt=cl(t=>t.replace(nA,e=>e.slice(1).toUpperCase())),rA=/\B([A-Z])/g,Ot=cl(t=>t.replace(rA,"-$1").toLowerCase()),Ii=cl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Js=cl(t=>t?`on${Ii(t)}`:""),Ct=(t,e)=>!Object.is(t,e),gs=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},cf=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},ko=t=>{const e=parseFloat(t);return isNaN(e)?t:e},No=t=>{const e=Oe(t)?Number(t):NaN;return isNaN(e)?t:e};let Bp;const na=()=>Bp||(Bp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),sA=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function iA(t){return sA.test(t)?`__props.${t}`:`__props[${JSON.stringify(t)}]`}function oA(t,e){return t+JSON.stringify(e,(n,r)=>typeof r=="function"?r.toString():r)}const aA={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},cA={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},lA={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},uA={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},hA={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},fA="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",lf=Kt(fA),dA=lf,qp=2;function pA(t,e=0,n=t.length){if(e=Math.max(0,Math.min(e,t.length)),n=Math.max(0,Math.min(n,t.length)),e>n)return"";let r=t.split(/(\r?\n)/);const s=r.filter((a,l)=>l%2===1);r=r.filter((a,l)=>l%2===0);let i=0;const o=[];for(let a=0;a<r.length;a++)if(i+=r[a].length+(s[a]&&s[a].length||0),i>=e){for(let l=a-qp;l<=a+qp||n>i;l++){if(l<0||l>=r.length)continue;const u=l+1;o.push(`${u}${" ".repeat(Math.max(3-String(u).length,0))}|  ${r[l]}`);const h=r[l].length,d=s[l]&&s[l].length||0;if(l===a){const p=e-(i-(h+d)),g=Math.max(1,n>i?h-p:n-e);o.push("   |  "+" ".repeat(p)+"^".repeat(g))}else if(l>a){if(n>i){const p=Math.max(Math.min(n-i,h),1);o.push("   |  "+"^".repeat(p))}i+=h+d}}break}return o.join(`
`)}function Ai(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Oe(r)?oy(r):Ai(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Oe(t)||De(t))return t}const mA=/;(?![^(]*\))/g,gA=/:([^]+)/,_A=/\/\*[^]*?\*\//g;function oy(t){const e={};return t.replace(_A,"").split(mA).forEach(n=>{if(n){const r=n.split(gA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function yA(t){if(!t)return"";if(Oe(t))return t;let e="";for(const n in t){const r=t[n];if(Oe(r)||typeof r=="number"){const s=n.startsWith("--")?n:Ot(n);e+=`${s}:${r};`}}return e}function bi(t){let e="";if(Oe(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const r=bi(t[n]);r&&(e+=r+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function uf(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Oe(e)&&(t.class=bi(e)),n&&(t.style=Ai(n)),t}const EA="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",vA="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",TA="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",wA="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",IA=Kt(EA),AA=Kt(vA),bA=Kt(TA),RA=Kt(wA),ay="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cy=Kt(ay),SA=Kt(ay+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function hf(t){return!!t||t===""}const PA=/[>/="'\u0009\u000a\u000c\u0020]/,_u={};function CA(t){if(_u.hasOwnProperty(t))return _u[t];const e=PA.test(t);return e&&console.error(`unsafe attribute name: ${t}`),_u[t]=!e}const kA={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},NA=Kt("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),OA=Kt("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),DA=Kt("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function VA(t){if(t==null)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"}const xA=/["'&<>]/;function MA(t){const e=""+t,n=xA.exec(e);if(!n)return e;let r="",s,i,o=0;for(i=n.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==i&&(r+=e.slice(o,i)),o=i+1,r+=s}return o!==i?r+e.slice(o,i):r}const LA=/^-?>|<!--|-->|--!>|<!-$/g;function FA(t){return t.replace(LA,"")}const ly=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function UA(t,e){return t.replace(ly,n=>e?n==='"'?'\\\\\\"':`\\\\${n}`:`\\${n}`)}function $A(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Xn(t[r],e[r]);return n}function Xn(t,e){if(t===e)return!0;let n=th(t),r=th(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=un(t),r=un(e),n||r)return t===e;if(n=ne(t),r=ne(e),n||r)return n&&r?$A(t,e):!1;if(n=De(t),r=De(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Xn(t[o],e[o]))return!1}}return String(t)===String(e)}function ra(t,e){return t.findIndex(n=>Xn(n,e))}const uy=t=>!!(t&&t.__v_isRef===!0),ff=t=>Oe(t)?t:t==null?"":ne(t)||De(t)&&(t.toString===af||!le(t.toString))?uy(t)?ff(t.value):JSON.stringify(t,hy,2):String(t),hy=(t,e)=>uy(e)?hy(t,e.value):ps(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[yu(r,i)+" =>"]=s,n),{})}:Xr(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>yu(n))}:un(e)?yu(e):De(e)&&!ne(e)&&!ta(e)?String(e):e,yu=(t,e="")=>{var n;return un(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function fy(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}const DF=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:ds,EMPTY_OBJ:Te,NO:of,NOOP:Zt,PatchFlagNames:cA,PatchFlags:aA,ShapeFlags:lA,SlotFlags:uA,camelize:pt,capitalize:Ii,cssVarNameEscapeSymbolsRE:ly,def:cf,escapeHtml:MA,escapeHtmlComment:FA,extend:Ve,genCacheKey:oA,genPropsAccessExp:iA,generateCodeFrame:pA,getEscapedCssVarName:UA,getGlobalThis:na,hasChanged:Ct,hasOwn:Se,hyphenate:Ot,includeBooleanAttr:hf,invokeArrayFns:gs,isArray:ne,isBooleanAttr:SA,isBuiltInDirective:tA,isDate:th,isFunction:le,isGloballyAllowed:lf,isGloballyWhitelisted:dA,isHTMLTag:IA,isIntegerKey:al,isKnownHtmlAttr:NA,isKnownMathMLAttr:DA,isKnownSvgAttr:OA,isMap:ps,isMathMLTag:bA,isModelListener:il,isObject:De,isOn:wi,isPlainObject:ta,isPromise:ea,isRegExp:sy,isRenderableAttrValue:VA,isReservedProp:ms,isSSRSafeAttrName:CA,isSVGTag:AA,isSet:Xr,isSpecialBooleanAttr:cy,isString:Oe,isSymbol:un,isVoidTag:RA,looseEqual:Xn,looseIndexOf:ra,looseToNumber:ko,makeMap:Kt,normalizeClass:bi,normalizeCssVarValue:fy,normalizeProps:uf,normalizeStyle:Ai,objectToString:af,parseStringStyle:oy,propsToAttrMap:kA,remove:ol,slotFlagsText:hA,stringifyStyle:yA,toDisplayString:ff,toHandlerKey:Js,toNumber:No,toRawType:iy,toTypeString:Ns},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let St;class df{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=St,!e&&St&&(this.index=(St.scopes||(St.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=St;try{return St=this,e()}finally{St=n}}}on(){++this._on===1&&(this.prevScope=St,St=this)}off(){this._on>0&&--this._on===0&&(St=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function dy(t){return new df(t)}function sa(){return St}function oi(t,e=!1){St&&St.cleanups.push(t)}let Ue;const Eu=new WeakSet;class Oo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,St&&St.active&&St.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Eu.has(this)&&(Eu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||my(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wp(this),gy(this);const e=Ue,n=gn;Ue=this,gn=!0;try{return this.fn()}finally{_y(this),Ue=e,gn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gf(e);this.deps=this.depsTail=void 0,Wp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Eu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){nh(this)&&this.run()}get dirty(){return nh(this)}}let py=0,mo,go;function my(t,e=!1){if(t.flags|=8,e){t.next=go,go=t;return}t.next=mo,mo=t}function pf(){py++}function mf(){if(--py>0)return;if(go){let e=go;for(go=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;mo;){let e=mo;for(mo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function gy(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function _y(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),gf(r),HA(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function nh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(yy(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function yy(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Do)||(t.globalVersion=Do,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!nh(t))))return;t.flags|=2;const e=t.dep,n=Ue,r=gn;Ue=t,gn=!0;try{gy(t);const s=t.fn(t._value);(e.version===0||Ct(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ue=n,gn=r,_y(t),t.flags&=-3}}function gf(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)gf(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function HA(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function jA(t,e){t.effect instanceof Oo&&(t=t.effect.fn);const n=new Oo(t);e&&Ve(n,e);try{n.run()}catch(s){throw n.stop(),s}const r=n.run.bind(n);return r.effect=n,r}function BA(t){t.effect.stop()}let gn=!0;const Ey=[];function Zn(){Ey.push(gn),gn=!1}function er(){const t=Ey.pop();gn=t===void 0?!0:t}function Wp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ue;Ue=void 0;try{e()}finally{Ue=n}}}let Do=0;class qA{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ll{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ue||!gn||Ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ue)n=this.activeLink=new qA(Ue,this),Ue.deps?(n.prevDep=Ue.depsTail,Ue.depsTail.nextDep=n,Ue.depsTail=n):Ue.deps=Ue.depsTail=n,vy(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ue.depsTail,n.nextDep=void 0,Ue.depsTail.nextDep=n,Ue.depsTail=n,Ue.deps===n&&(Ue.deps=r)}return n}trigger(e){this.version++,Do++,this.notify(e)}notify(e){pf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mf()}}}function vy(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)vy(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const mc=new WeakMap,_s=Symbol(""),rh=Symbol(""),Vo=Symbol("");function kt(t,e,n){if(gn&&Ue){let r=mc.get(t);r||mc.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new ll),s.map=r,s.key=n),s.track()}}function qn(t,e,n,r,s,i){const o=mc.get(t);if(!o){Do++;return}const a=l=>{l&&l.trigger()};if(pf(),e==="clear")o.forEach(a);else{const l=ne(t),u=l&&al(n);if(l&&n==="length"){const h=Number(r);o.forEach((d,p)=>{(p==="length"||p===Vo||!un(p)&&p>=h)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Vo)),e){case"add":l?u&&a(o.get("length")):(a(o.get(_s)),ps(t)&&a(o.get(rh)));break;case"delete":l||(a(o.get(_s)),ps(t)&&a(o.get(rh)));break;case"set":ps(t)&&a(o.get(_s));break}}mf()}function WA(t,e){const n=mc.get(t);return n&&n.get(e)}function Hs(t){const e=be(t);return e===t?e:(kt(e,"iterate",Vo),en(t)?e:e.map(yt))}function ul(t){return kt(t=be(t),"iterate",Vo),t}const KA={__proto__:null,[Symbol.iterator](){return vu(this,Symbol.iterator,yt)},concat(...t){return Hs(this).concat(...t.map(e=>ne(e)?Hs(e):e))},entries(){return vu(this,"entries",t=>(t[1]=yt(t[1]),t))},every(t,e){return $n(this,"every",t,e,void 0,arguments)},filter(t,e){return $n(this,"filter",t,e,n=>n.map(yt),arguments)},find(t,e){return $n(this,"find",t,e,yt,arguments)},findIndex(t,e){return $n(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return $n(this,"findLast",t,e,yt,arguments)},findLastIndex(t,e){return $n(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return $n(this,"forEach",t,e,void 0,arguments)},includes(...t){return Tu(this,"includes",t)},indexOf(...t){return Tu(this,"indexOf",t)},join(t){return Hs(this).join(t)},lastIndexOf(...t){return Tu(this,"lastIndexOf",t)},map(t,e){return $n(this,"map",t,e,void 0,arguments)},pop(){return Xi(this,"pop")},push(...t){return Xi(this,"push",t)},reduce(t,...e){return Kp(this,"reduce",t,e)},reduceRight(t,...e){return Kp(this,"reduceRight",t,e)},shift(){return Xi(this,"shift")},some(t,e){return $n(this,"some",t,e,void 0,arguments)},splice(...t){return Xi(this,"splice",t)},toReversed(){return Hs(this).toReversed()},toSorted(t){return Hs(this).toSorted(t)},toSpliced(...t){return Hs(this).toSpliced(...t)},unshift(...t){return Xi(this,"unshift",t)},values(){return vu(this,"values",yt)}};function vu(t,e,n){const r=ul(t),s=r[e]();return r!==t&&!en(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const zA=Array.prototype;function $n(t,e,n,r,s,i){const o=ul(t),a=o!==t&&!en(t),l=o[e];if(l!==zA[e]){const d=l.apply(t,i);return a?yt(d):d}let u=n;o!==t&&(a?u=function(d,p){return n.call(this,yt(d),p,t)}:n.length>2&&(u=function(d,p){return n.call(this,d,p,t)}));const h=l.call(o,u,r);return a&&s?s(h):h}function Kp(t,e,n,r){const s=ul(t);let i=n;return s!==t&&(en(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,yt(a),l,t)}),s[e](i,...r)}function Tu(t,e,n){const r=be(t);kt(r,"iterate",Vo);const s=r[e](...n);return(s===-1||s===!1)&&dl(n[0])?(n[0]=be(n[0]),r[e](...n)):s}function Xi(t,e,n=[]){Zn(),pf();const r=be(t)[e].apply(t,n);return mf(),er(),r}const GA=Kt("__proto__,__v_isRef,__isVue"),Ty=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(un));function QA(t){un(t)||(t=String(t));const e=be(this);return kt(e,"has",t),e.hasOwnProperty(t)}class wy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Py:Sy:i?Ry:by).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ne(e);if(!s){let l;if(o&&(l=KA[n]))return l;if(n==="hasOwnProperty")return QA}const a=Reflect.get(e,n,Je(e)?e:r);return(un(n)?Ty.has(n):GA(n))||(s||kt(e,"get",n),i)?a:Je(a)?o&&al(n)?a:a.value:De(a)?s?_f(a):Ln(a):a}}class Iy extends wy{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Vn(i);if(!en(r)&&!Vn(r)&&(i=be(i),r=be(r)),!ne(e)&&Je(i)&&!Je(r))return l||(i.value=r),!0}const o=ne(e)&&al(n)?Number(n)<e.length:Se(e,n),a=Reflect.set(e,n,r,Je(e)?e:s);return e===be(s)&&(o?Ct(r,i)&&qn(e,"set",n,r):qn(e,"add",n,r)),a}deleteProperty(e,n){const r=Se(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&qn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!un(n)||!Ty.has(n))&&kt(e,"has",n),r}ownKeys(e){return kt(e,"iterate",ne(e)?"length":_s),Reflect.ownKeys(e)}}class Ay extends wy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const YA=new Iy,JA=new Ay,XA=new Iy(!0),ZA=new Ay(!0),sh=t=>t,Na=t=>Reflect.getPrototypeOf(t);function eb(t,e,n){return function(...r){const s=this.__v_raw,i=be(s),o=ps(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?sh:e?gc:yt;return!e&&kt(i,"iterate",l?rh:_s),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function Oa(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tb(t,e){const n={get(s){const i=this.__v_raw,o=be(i),a=be(s);t||(Ct(s,a)&&kt(o,"get",s),kt(o,"get",a));const{has:l}=Na(o),u=e?sh:t?gc:yt;if(l.call(o,s))return u(i.get(s));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&kt(be(s),"iterate",_s),s.size},has(s){const i=this.__v_raw,o=be(i),a=be(s);return t||(Ct(s,a)&&kt(o,"has",s),kt(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=be(a),u=e?sh:t?gc:yt;return!t&&kt(l,"iterate",_s),a.forEach((h,d)=>s.call(i,u(h),u(d),o))}};return Ve(n,t?{add:Oa("add"),set:Oa("set"),delete:Oa("delete"),clear:Oa("clear")}:{add(s){!e&&!en(s)&&!Vn(s)&&(s=be(s));const i=be(this);return Na(i).has.call(i,s)||(i.add(s),qn(i,"add",s,s)),this},set(s,i){!e&&!en(i)&&!Vn(i)&&(i=be(i));const o=be(this),{has:a,get:l}=Na(o);let u=a.call(o,s);u||(s=be(s),u=a.call(o,s));const h=l.call(o,s);return o.set(s,i),u?Ct(i,h)&&qn(o,"set",s,i):qn(o,"add",s,i),this},delete(s){const i=be(this),{has:o,get:a}=Na(i);let l=o.call(i,s);l||(s=be(s),l=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return l&&qn(i,"delete",s,void 0),u},clear(){const s=be(this),i=s.size!==0,o=s.clear();return i&&qn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=eb(s,t,e)}),n}function hl(t,e){const n=tb(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Se(n,s)&&s in r?n:r,s,i)}const nb={get:hl(!1,!1)},rb={get:hl(!1,!0)},sb={get:hl(!0,!1)},ib={get:hl(!0,!0)},by=new WeakMap,Ry=new WeakMap,Sy=new WeakMap,Py=new WeakMap;function ob(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ab(t){return t.__v_skip||!Object.isExtensible(t)?0:ob(iy(t))}function Ln(t){return Vn(t)?t:fl(t,!1,YA,nb,by)}function Pn(t){return fl(t,!1,XA,rb,Ry)}function _f(t){return fl(t,!0,JA,sb,Sy)}function cb(t){return fl(t,!0,ZA,ib,Py)}function fl(t,e,n,r,s){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ab(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function Mr(t){return Vn(t)?Mr(t.__v_raw):!!(t&&t.__v_isReactive)}function Vn(t){return!!(t&&t.__v_isReadonly)}function en(t){return!!(t&&t.__v_isShallow)}function dl(t){return t?!!t.__v_raw:!1}function be(t){const e=t&&t.__v_raw;return e?be(e):t}function Cy(t){return!Se(t,"__v_skip")&&Object.isExtensible(t)&&cf(t,"__v_skip",!0),t}const yt=t=>De(t)?Ln(t):t,gc=t=>De(t)?_f(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function Be(t){return ky(t,!1)}function tn(t){return ky(t,!0)}function ky(t,e){return Je(t)?t:new lb(t,e)}class lb{constructor(e,n){this.dep=new ll,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:be(e),this._value=n?e:yt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||en(e)||Vn(e);e=r?e:be(e),Ct(e,n)&&(this._rawValue=e,this._value=r?e:yt(e),this.dep.trigger())}}function ub(t){t.dep&&t.dep.trigger()}function $e(t){return Je(t)?t.value:t}function yf(t){return le(t)?t():$e(t)}const hb={get:(t,e,n)=>e==="__v_raw"?t:$e(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Ef(t){return Mr(t)?t:new Proxy(t,hb)}class fb{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new ll,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Ny(t){return new fb(t)}function db(t){const e=ne(t)?new Array(t.length):{};for(const n in t)e[n]=Oy(t,n);return e}class pb{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return WA(be(this._object),this._key)}}class mb{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function vf(t,e,n){return Je(t)?t:le(t)?new mb(t):De(t)&&arguments.length>1?Oy(t,e,n):Be(t)}function Oy(t,e,n){const r=t[e];return Je(r)?r:new pb(t,e,n)}class gb{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ll(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Do-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return my(this,!0),!0}get value(){const e=this.dep.track();return yy(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function _b(t,e,n=!1){let r,s;return le(t)?r=t:(r=t.get,s=t.set),new gb(r,s,n)}const yb={GET:"get",HAS:"has",ITERATE:"iterate"},Eb={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Da={},_c=new WeakMap;let Sr;function vb(){return Sr}function Dy(t,e=!1,n=Sr){if(n){let r=_c.get(n);r||_c.set(n,r=[]),r.push(t)}}function Tb(t,e,n=Te){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=k=>s?k:en(k)||s===!1||s===0?Wn(k,1):Wn(k);let h,d,p,g,_=!1,E=!1;if(Je(t)?(d=()=>t.value,_=en(t)):Mr(t)?(d=()=>u(t),_=!0):ne(t)?(E=!0,_=t.some(k=>Mr(k)||en(k)),d=()=>t.map(k=>{if(Je(k))return k.value;if(Mr(k))return u(k);if(le(k))return l?l(k,2):k()})):le(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){Zn();try{p()}finally{er()}}const k=Sr;Sr=h;try{return l?l(t,3,[g]):t(g)}finally{Sr=k}}:d=Zt,e&&s){const k=d,V=s===!0?1/0:s;d=()=>Wn(k(),V)}const R=sa(),D=()=>{h.stop(),R&&R.active&&ol(R.effects,h)};if(i&&e){const k=e;e=(...V)=>{k(...V),D()}}let N=E?new Array(t.length).fill(Da):Da;const w=k=>{if(!(!(h.flags&1)||!h.dirty&&!k))if(e){const V=h.run();if(s||_||(E?V.some((F,I)=>Ct(F,N[I])):Ct(V,N))){p&&p();const F=Sr;Sr=h;try{const I=[V,N===Da?void 0:E&&N[0]===Da?[]:N,g];N=V,l?l(e,3,I):e(...I)}finally{Sr=F}}}else h.run()};return a&&a(w),h=new Oo(d),h.scheduler=o?()=>o(w,!1):w,g=k=>Dy(k,!1,h),p=h.onStop=()=>{const k=_c.get(h);if(k){if(l)l(k,4);else for(const V of k)V();_c.delete(h)}},e?r?w(!0):N=h.run():o?o(w.bind(null,!0),!0):h.run(),D.pause=h.pause.bind(h),D.resume=h.resume.bind(h),D.stop=D,D}function Wn(t,e=1/0,n){if(e<=0||!De(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Je(t))Wn(t.value,e,n);else if(ne(t))for(let r=0;r<t.length;r++)Wn(t[r],e,n);else if(Xr(t)||ps(t))t.forEach(r=>{Wn(r,e,n)});else if(ta(t)){for(const r in t)Wn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Wn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Vy=[];function wb(t){Vy.push(t)}function Ib(){Vy.pop()}function Ab(t,e){}const bb={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},Rb={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ri(t,e,n,r){try{return r?t(...r):t()}catch(s){Os(s,e,n)}}function hn(t,e,n,r){if(le(t)){const s=Ri(t,e,n,r);return s&&ea(s)&&s.catch(i=>{Os(i,e,n)}),s}if(ne(t)){const s=[];for(let i=0;i<t.length;i++)s.push(hn(t[i],e,n,r));return s}}function Os(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Te;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,u)===!1)return}a=a.parent}if(i){Zn(),Ri(i,null,10,[t,l,u]),er();return}}Sb(t,n,s,r,o)}function Sb(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Lt=[];let An=-1;const Xs=[];let Pr=null,Bs=0;const xy=Promise.resolve();let yc=null;function qr(t){const e=yc||xy;return t?e.then(this?t.bind(this):t):e}function Pb(t){let e=An+1,n=Lt.length;for(;e<n;){const r=e+n>>>1,s=Lt[r],i=Mo(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Tf(t){if(!(t.flags&1)){const e=Mo(t),n=Lt[Lt.length-1];!n||!(t.flags&2)&&e>=Mo(n)?Lt.push(t):Lt.splice(Pb(e),0,t),t.flags|=1,My()}}function My(){yc||(yc=xy.then(Ly))}function xo(t){ne(t)?Xs.push(...t):Pr&&t.id===-1?Pr.splice(Bs+1,0,t):t.flags&1||(Xs.push(t),t.flags|=1),My()}function zp(t,e,n=An+1){for(;n<Lt.length;n++){const r=Lt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Lt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ec(t){if(Xs.length){const e=[...new Set(Xs)].sort((n,r)=>Mo(n)-Mo(r));if(Xs.length=0,Pr){Pr.push(...e);return}for(Pr=e,Bs=0;Bs<Pr.length;Bs++){const n=Pr[Bs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Pr=null,Bs=0}}const Mo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ly(t){try{for(An=0;An<Lt.length;An++){const e=Lt[An];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ri(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;An<Lt.length;An++){const e=Lt[An];e&&(e.flags&=-2)}An=-1,Lt.length=0,Ec(),yc=null,(Lt.length||Xs.length)&&Ly()}}let qs,Va=[];function Fy(t,e){var n,r;qs=t,qs?(qs.enabled=!0,Va.forEach(({event:s,args:i})=>qs.emit(s,...i)),Va=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Fy(i,e)}),setTimeout(()=>{qs||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Va=[])},3e3)):Va=[]}let Tt=null,pl=null;function Lo(t){const e=Tt;return Tt=t,pl=t&&t.type.__scopeId||null,e}function Cb(t){pl=t}function kb(){pl=null}const Nb=t=>ml;function ml(t,e=Tt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&$o(-1);const i=Lo(e);let o;try{o=t(...s)}finally{Lo(i),r._d&&$o(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ob(t,e){if(Tt===null)return t;const n=ca(Tt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Te]=e[s];i&&(le(i)&&(i={mounted:i,updated:i}),i.deep&&Wn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function bn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Zn(),hn(l,n,8,[t.el,a,t,e]),er())}}const Uy=Symbol("_vte"),$y=t=>t.__isTeleport,_o=t=>t&&(t.disabled||t.disabled===""),Gp=t=>t&&(t.defer||t.defer===""),Qp=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Yp=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ih=(t,e)=>{const n=t&&t.to;return Oe(n)?e?e(n):null:n},Hy={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:h,pc:d,pbc:p,o:{insert:g,querySelector:_,createText:E,createComment:R}}=u,D=_o(e.props);let{shapeFlag:N,children:w,dynamicChildren:k}=e;if(t==null){const V=e.el=E(""),F=e.anchor=E("");g(V,n,r),g(F,n,r);const I=(y,A)=>{N&16&&(s&&s.isCE&&(s.ce._teleportTarget=y),h(w,y,A,s,i,o,a,l))},T=()=>{const y=e.target=ih(e.props,_),A=jy(y,e,E,g);y&&(o!=="svg"&&Qp(y)?o="svg":o!=="mathml"&&Yp(y)&&(o="mathml"),D||(I(y,A),Ja(e,!1)))};D&&(I(n,F),Ja(e,!0)),Gp(e.props)?(e.el.__isMounted=!1,ct(()=>{T(),delete e.el.__isMounted},i)):T()}else{if(Gp(e.props)&&t.el.__isMounted===!1){ct(()=>{Hy.process(t,e,n,r,s,i,o,a,l,u)},i);return}e.el=t.el,e.targetStart=t.targetStart;const V=e.anchor=t.anchor,F=e.target=t.target,I=e.targetAnchor=t.targetAnchor,T=_o(t.props),y=T?n:F,A=T?V:I;if(o==="svg"||Qp(F)?o="svg":(o==="mathml"||Yp(F))&&(o="mathml"),k?(p(t.dynamicChildren,k,y,s,i,o,a),xf(t,e,!0)):l||d(t,e,y,A,s,i,o,a,!1),D)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):xa(e,n,V,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=ih(e.props,_);P&&xa(e,P,null,u,0)}else T&&xa(e,F,I,u,1);Ja(e,D)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:h,target:d,props:p}=t;if(d&&(s(u),s(h)),i&&s(l),o&16){const g=i||!_o(p);for(let _=0;_<a.length;_++){const E=a[_];r(E,e,n,g,!!E.dynamicChildren)}}},move:xa,hydrate:Db};function xa(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:h}=t,d=i===2;if(d&&r(o,e,n),(!d||_o(h))&&l&16)for(let p=0;p<u.length;p++)s(u[p],e,n,2);d&&r(a,e,n)}function Db(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:h}},d){function p(E,R,D,N){R.anchor=d(o(E),R,a(E),n,r,s,i),R.targetStart=D,R.targetAnchor=N}const g=e.target=ih(e.props,l),_=_o(e.props);if(g){const E=g._lpa||g.firstChild;if(e.shapeFlag&16)if(_)p(t,e,E,E&&o(E));else{e.anchor=o(t);let R=E;for(;R;){if(R&&R.nodeType===8){if(R.data==="teleport start anchor")e.targetStart=R;else if(R.data==="teleport anchor"){e.targetAnchor=R,g._lpa=e.targetAnchor&&o(e.targetAnchor);break}}R=o(R)}e.targetAnchor||jy(g,e,h,u),d(E&&o(E),e,g,n,r,s,i)}Ja(e,_)}else _&&e.shapeFlag&16&&p(t,e,t,o(t));return e.anchor&&o(e.anchor)}const Vb=Hy;function Ja(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function jy(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[Uy]=i,t&&(r(s,t),r(i,t)),i}const Bn=Symbol("_leaveCb"),Ma=Symbol("_enterCb");function wf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xn(()=>{t.isMounted=!0}),Si(()=>{t.isUnmounting=!0}),t}const rn=[Function,Array],If={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rn,onEnter:rn,onAfterEnter:rn,onEnterCancelled:rn,onBeforeLeave:rn,onLeave:rn,onAfterLeave:rn,onLeaveCancelled:rn,onBeforeAppear:rn,onAppear:rn,onAfterAppear:rn,onAppearCancelled:rn},By=t=>{const e=t.subTree;return e.component?By(e.component):e},xb={name:"BaseTransition",props:If,setup(t,{slots:e}){const n=mt(),r=wf();return()=>{const s=e.default&&gl(e.default(),!0);if(!s||!s.length)return;const i=qy(s),o=be(t),{mode:a}=o;if(r.isLeaving)return wu(i);const l=Jp(i);if(!l)return wu(i);let u=ai(l,o,r,n,d=>u=d);l.type!==et&&tr(l,u);let h=n.subTree&&Jp(n.subTree);if(h&&h.type!==et&&!pn(h,l)&&By(n).type!==et){let d=ai(h,o,r,n);if(tr(h,d),a==="out-in"&&l.type!==et)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},wu(i);a==="in-out"&&l.type!==et?d.delayLeave=(p,g,_)=>{const E=Ky(r,h);E[String(h.key)]=h,p[Bn]=()=>{g(),p[Bn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{_(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function qy(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==et){e=n;break}}return e}const Wy=xb;function Ky(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ai(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:g,onAfterLeave:_,onLeaveCancelled:E,onBeforeAppear:R,onAppear:D,onAfterAppear:N,onAppearCancelled:w}=e,k=String(t.key),V=Ky(n,t),F=(y,A)=>{y&&hn(y,r,9,A)},I=(y,A)=>{const P=A[1];F(y,A),ne(y)?y.every(C=>C.length<=1)&&P():y.length<=1&&P()},T={mode:o,persisted:a,beforeEnter(y){let A=l;if(!n.isMounted)if(i)A=R||l;else return;y[Bn]&&y[Bn](!0);const P=V[k];P&&pn(t,P)&&P.el[Bn]&&P.el[Bn](),F(A,[y])},enter(y){let A=u,P=h,C=d;if(!n.isMounted)if(i)A=D||u,P=N||h,C=w||d;else return;let b=!1;const ue=y[Ma]=ye=>{b||(b=!0,ye?F(C,[y]):F(P,[y]),T.delayedLeave&&T.delayedLeave(),y[Ma]=void 0)};A?I(A,[y,ue]):ue()},leave(y,A){const P=String(t.key);if(y[Ma]&&y[Ma](!0),n.isUnmounting)return A();F(p,[y]);let C=!1;const b=y[Bn]=ue=>{C||(C=!0,A(),ue?F(E,[y]):F(_,[y]),y[Bn]=void 0,V[P]===t&&delete V[P])};V[P]=t,g?I(g,[y,b]):b()},clone(y){const A=ai(y,e,n,r,s);return s&&s(A),A}};return T}function wu(t){if(ia(t))return t=nn(t),t.children=null,t}function Jp(t){if(!ia(t))return $y(t.type)&&t.children?qy(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&le(n.default))return n.default()}}function tr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,tr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function gl(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===lt?(o.patchFlag&128&&s++,r=r.concat(gl(o.children,e,a))):(e||o.type!==et)&&r.push(a!=null?nn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function lr(t,e){return le(t)?Ve({name:t.name},e,{setup:t}):t}function Mb(){const t=mt();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Af(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Lb(t){const e=mt(),n=tn(null);if(e){const s=e.refs===Te?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}const vc=new WeakMap;function Zs(t,e,n,r,s=!1){if(ne(t)){t.forEach((_,E)=>Zs(_,e&&(ne(e)?e[E]:e),n,r,s));return}if(Lr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Zs(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?ca(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===Te?a.refs={}:a.refs,d=a.setupState,p=be(d),g=d===Te?of:_=>Se(p,_);if(u!=null&&u!==l){if(Xp(e),Oe(u))h[u]=null,g(u)&&(d[u]=null);else if(Je(u)){u.value=null;const _=e;_.k&&(h[_.k]=null)}}if(le(l))Ri(l,a,12,[o,h]);else{const _=Oe(l),E=Je(l);if(_||E){const R=()=>{if(t.f){const D=_?g(l)?d[l]:h[l]:l.value;if(s)ne(D)&&ol(D,i);else if(ne(D))D.includes(i)||D.push(i);else if(_)h[l]=[i],g(l)&&(d[l]=h[l]);else{const N=[i];l.value=N,t.k&&(h[t.k]=N)}}else _?(h[l]=o,g(l)&&(d[l]=o)):E&&(l.value=o,t.k&&(h[t.k]=o))};if(o){const D=()=>{R(),vc.delete(t)};D.id=-1,vc.set(t,D),ct(D,n)}else Xp(t),R()}}}function Xp(t){const e=vc.get(t);e&&(e.flags|=8,vc.delete(t))}let Zp=!1;const js=()=>{Zp||(console.error("Hydration completed but contains mismatches."),Zp=!0)},Fb=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Ub=t=>t.namespaceURI.includes("MathML"),La=t=>{if(t.nodeType===1){if(Fb(t))return"svg";if(Ub(t))return"mathml"}},Ys=t=>t.nodeType===8;function $b(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=t,h=(w,k)=>{if(!k.hasChildNodes()){n(null,w,k),Ec(),k._vnode=w;return}d(k.firstChild,w,null,null,null),Ec(),k._vnode=w},d=(w,k,V,F,I,T=!1)=>{T=T||!!k.dynamicChildren;const y=Ys(w)&&w.data==="[",A=()=>E(w,k,V,F,I,y),{type:P,ref:C,shapeFlag:b,patchFlag:ue}=k;let ye=w.nodeType;k.el=w,ue===-2&&(T=!1,k.dynamicChildren=null);let re=null;switch(P){case Fr:ye!==3?k.children===""?(l(k.el=s(""),o(w),w),re=w):re=A():(w.data!==k.children&&(js(),w.data=k.children),re=i(w));break;case et:N(w)?(re=i(w),D(k.el=w.content.firstChild,w,V)):ye!==8||y?re=A():re=i(w);break;case vs:if(y&&(w=i(w),ye=w.nodeType),ye===1||ye===3){re=w;const pe=!k.children.length;for(let te=0;te<k.staticCount;te++)pe&&(k.children+=re.nodeType===1?re.outerHTML:re.data),te===k.staticCount-1&&(k.anchor=re),re=i(re);return y?i(re):re}else A();break;case lt:y?re=_(w,k,V,F,I,T):re=A();break;default:if(b&1)(ye!==1||k.type.toLowerCase()!==w.tagName.toLowerCase())&&!N(w)?re=A():re=p(w,k,V,F,I,T);else if(b&6){k.slotScopeIds=I;const pe=o(w);if(y?re=R(w):Ys(w)&&w.data==="teleport start"?re=R(w,w.data,"teleport end"):re=i(w),e(k,pe,null,V,F,La(pe),T),Lr(k)&&!k.type.__asyncResolved){let te;y?(te=Ke(lt),te.anchor=re?re.previousSibling:pe.lastChild):te=w.nodeType===3?Ff(""):Ke("div"),te.el=w,k.component.subTree=te}}else b&64?ye!==8?re=A():re=k.type.hydrate(w,k,V,F,I,T,t,g):b&128&&(re=k.type.hydrate(w,k,V,F,La(o(w)),I,T,t,d))}return C!=null&&Zs(C,null,F,k),re},p=(w,k,V,F,I,T)=>{T=T||!!k.dynamicChildren;const{type:y,props:A,patchFlag:P,shapeFlag:C,dirs:b,transition:ue}=k,ye=y==="input"||y==="option";if(ye||P!==-1){b&&bn(k,null,V,"created");let re=!1;if(N(w)){re=mE(null,ue)&&V&&V.vnode.props&&V.vnode.props.appear;const te=w.content.firstChild;if(re){const Me=te.getAttribute("class");Me&&(te.$cls=Me),ue.beforeEnter(te)}D(te,w,V),k.el=w=te}if(C&16&&!(A&&(A.innerHTML||A.textContent))){let te=g(w.firstChild,k,w,V,F,I,T);for(;te;){Fa(w,1)||js();const Me=te;te=te.nextSibling,a(Me)}}else if(C&8){let te=k.children;te[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(te=te.slice(1)),w.textContent!==te&&(Fa(w,0)||js(),w.textContent=k.children)}if(A){if(ye||!T||P&48){const te=w.tagName.includes("-");for(const Me in A)(ye&&(Me.endsWith("value")||Me==="indeterminate")||wi(Me)&&!ms(Me)||Me[0]==="."||te)&&r(w,Me,null,A[Me],void 0,V)}else if(A.onClick)r(w,"onClick",null,A.onClick,void 0,V);else if(P&4&&Mr(A.style))for(const te in A.style)A.style[te]}let pe;(pe=A&&A.onVnodeBeforeMount)&&Ut(pe,V,k),b&&bn(k,null,V,"beforeMount"),((pe=A&&A.onVnodeMounted)||b||re)&&bE(()=>{pe&&Ut(pe,V,k),re&&ue.enter(w),b&&bn(k,null,V,"mounted")},F)}return w.nextSibling},g=(w,k,V,F,I,T,y)=>{y=y||!!k.dynamicChildren;const A=k.children,P=A.length;for(let C=0;C<P;C++){const b=y?A[C]:A[C]=jt(A[C]),ue=b.type===Fr;w?(ue&&!y&&C+1<P&&jt(A[C+1]).type===Fr&&(l(s(w.data.slice(b.children.length)),V,i(w)),w.data=b.children),w=d(w,b,F,I,T,y)):ue&&!b.children?l(b.el=s(""),V):(Fa(V,1)||js(),n(null,b,V,null,F,I,La(V),T))}return w},_=(w,k,V,F,I,T)=>{const{slotScopeIds:y}=k;y&&(I=I?I.concat(y):y);const A=o(w),P=g(i(w),k,A,V,F,I,T);return P&&Ys(P)&&P.data==="]"?i(k.anchor=P):(js(),l(k.anchor=u("]"),A,P),P)},E=(w,k,V,F,I,T)=>{if(Fa(w.parentElement,1)||js(),k.el=null,T){const P=R(w);for(;;){const C=i(w);if(C&&C!==P)a(C);else break}}const y=i(w),A=o(w);return a(w),n(null,k,A,y,V,F,La(A),I),V&&(V.vnode.el=k.el,Tl(V,k.el)),y},R=(w,k="[",V="]")=>{let F=0;for(;w;)if(w=i(w),w&&Ys(w)&&(w.data===k&&F++,w.data===V)){if(F===0)return i(w);F--}return w},D=(w,k,V)=>{const F=k.parentNode;F&&F.replaceChild(w,k);let I=V;for(;I;)I.vnode.el===k&&(I.vnode.el=I.subTree.el=w),I=I.parent},N=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[h,d]}const em="data-allow-mismatch",Hb={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Fa(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(em);)t=t.parentElement;const n=t&&t.getAttribute(em);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(Hb[e])}}const jb=na().requestIdleCallback||(t=>setTimeout(t,1)),Bb=na().cancelIdleCallback||(t=>clearTimeout(t)),qb=(t=1e4)=>e=>{const n=jb(e,{timeout:t});return()=>Bb(n)};function Wb(t){const{top:e,left:n,bottom:r,right:s}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||r>0&&r<i)&&(n>0&&n<o||s>0&&s<o)}const Kb=t=>(e,n)=>{const r=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){r.disconnect(),e();break}},t);return n(s=>{if(s instanceof Element){if(Wb(s))return e(),r.disconnect(),!1;r.observe(s)}}),()=>r.disconnect()},zb=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},Gb=(t=[])=>(e,n)=>{Oe(t)&&(t=[t]);let r=!1;const s=o=>{r||(r=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{n(o=>{for(const a of t)o.removeEventListener(a,s)})};return n(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),i};function Qb(t,e){if(Ys(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Ys(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Lr=t=>!!t.type.__asyncLoader;function xe(t){le(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,h,d=0;const p=()=>(d++,u=null,g()),g=()=>{let _;return u||(_=u=e().catch(E=>{if(E=E instanceof Error?E:new Error(String(E)),l)return new Promise((R,D)=>{l(E,()=>R(p()),()=>D(E),d+1)});throw E}).then(E=>_!==u&&u?u:(E&&(E.__esModule||E[Symbol.toStringTag]==="Module")&&(E=E.default),h=E,E)))};return lr({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(_,E,R){let D=!1;(E.bu||(E.bu=[])).push(()=>D=!0);const N=()=>{D||R()},w=i?()=>{const k=i(N,V=>Qb(_,V));k&&(E.bum||(E.bum=[])).push(k)}:N;h?w():g().then(()=>!E.isUnmounted&&w())},get __asyncResolved(){return h},setup(){const _=Et;if(Af(_),h)return()=>Iu(h,_);const E=w=>{u=null,Os(w,_,13,!r)};if(a&&_.suspense||ci)return g().then(w=>()=>Iu(w,_)).catch(w=>(E(w),()=>r?Ke(r,{error:w}):null));const R=Be(!1),D=Be(),N=Be(!!s);return s&&setTimeout(()=>{N.value=!1},s),o!=null&&setTimeout(()=>{if(!R.value&&!D.value){const w=new Error(`Async component timed out after ${o}ms.`);E(w),D.value=w}},o),g().then(()=>{R.value=!0,_.parent&&ia(_.parent.vnode)&&_.parent.update()}).catch(w=>{E(w),D.value=w}),()=>{if(R.value&&h)return Iu(h,_);if(D.value&&r)return Ke(r,{error:D.value});if(n&&!N.value)return Ke(n)}}})}function Iu(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=Ke(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const ia=t=>t.type.__isKeepAlive,Yb={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=mt(),r=n.ctx;if(!r.renderer)return()=>{const N=e.default&&e.default();return N&&N.length===1?N[0]:N};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:d}}}=r,p=d("div");r.activate=(N,w,k,V,F)=>{const I=N.component;u(N,w,k,0,a),l(I.vnode,N,w,k,I,a,V,N.slotScopeIds,F),ct(()=>{I.isDeactivated=!1,I.a&&gs(I.a);const T=N.props&&N.props.onVnodeMounted;T&&Ut(T,I.parent,N)},a)},r.deactivate=N=>{const w=N.component;wc(w.m),wc(w.a),u(N,p,null,1,a),ct(()=>{w.da&&gs(w.da);const k=N.props&&N.props.onVnodeUnmounted;k&&Ut(k,w.parent,N),w.isDeactivated=!0},a)};function g(N){Au(N),h(N,n,a,!0)}function _(N){s.forEach((w,k)=>{const V=gh(w.type);V&&!N(V)&&E(k)})}function E(N){const w=s.get(N);w&&(!o||!pn(w,o))?g(w):o&&Au(o),s.delete(N),i.delete(N)}an(()=>[t.include,t.exclude],([N,w])=>{N&&_(k=>io(N,k)),w&&_(k=>!io(w,k))},{flush:"post",deep:!0});let R=null;const D=()=>{R!=null&&(Ic(n.subTree.type)?ct(()=>{s.set(R,Ua(n.subTree))},n.subTree.suspense):s.set(R,Ua(n.subTree)))};return xn(D),yl(D),Si(()=>{s.forEach(N=>{const{subTree:w,suspense:k}=n,V=Ua(w);if(N.type===V.type&&N.key===V.key){Au(V);const F=V.component.da;F&&ct(F,k);return}g(N)})}),()=>{if(R=null,!e.default)return o=null;const N=e.default(),w=N[0];if(N.length>1)return o=null,N;if(!nr(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let k=Ua(w);if(k.type===et)return o=null,k;const V=k.type,F=gh(Lr(k)?k.type.__asyncResolved||{}:V),{include:I,exclude:T,max:y}=t;if(I&&(!F||!io(I,F))||T&&F&&io(T,F))return k.shapeFlag&=-257,o=k,w;const A=k.key==null?V:k.key,P=s.get(A);return k.el&&(k=nn(k),w.shapeFlag&128&&(w.ssContent=k)),R=A,P?(k.el=P.el,k.component=P.component,k.transition&&tr(k,k.transition),k.shapeFlag|=512,i.delete(A),i.add(A)):(i.add(A),y&&i.size>parseInt(y,10)&&E(i.values().next().value)),k.shapeFlag|=256,o=k,Ic(w.type)?w:k}}},zy=Yb;function io(t,e){return ne(t)?t.some(n=>io(n,e)):Oe(t)?t.split(",").includes(e):sy(t)?(t.lastIndex=0,t.test(e)):!1}function bf(t,e){Gy(t,"a",e)}function Rf(t,e){Gy(t,"da",e)}function Gy(t,e,n=Et){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(_l(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ia(s.parent.vnode)&&Jb(r,e,n,s),s=s.parent}}function Jb(t,e,n,r){const s=_l(e,t,r,!0);El(()=>{ol(r[e],s)},n)}function Au(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ua(t){return t.shapeFlag&128?t.ssContent:t}function _l(t,e,n=Et,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Zn();const a=bs(n),l=hn(e,n,t,o);return a(),er(),l});return r?s.unshift(i):s.push(i),i}}const ur=t=>(e,n=Et)=>{(!ci||t==="sp")&&_l(t,(...r)=>e(...r),n)},Qy=ur("bm"),xn=ur("m"),Sf=ur("bu"),yl=ur("u"),Si=ur("bum"),El=ur("um"),Yy=ur("sp"),Jy=ur("rtg"),Xy=ur("rtc");function Pf(t,e=Et){_l("ec",t,e)}const Cf="components",Xb="directives";function Zb(t,e){return kf(Cf,t,!0,e)||t}const Zy=Symbol.for("v-ndc");function eE(t){return Oe(t)?kf(Cf,t,!1)||t:t||Zy}function eR(t){return kf(Xb,t)}function kf(t,e,n=!0,r=!1){const s=Tt||Et;if(s){const i=s.type;if(t===Cf){const a=gh(i,!1);if(a&&(a===e||a===pt(e)||a===Ii(pt(e))))return i}const o=tm(s[t]||i[t],e)||tm(s.appContext[t],e);return!o&&r?i:o}}function tm(t,e){return t&&(t[e]||t[pt(e)]||t[Ii(pt(e))])}function tR(t,e,n,r){let s;const i=n&&n[r],o=ne(t);if(o||Oe(t)){const a=o&&Mr(t);let l=!1,u=!1;a&&(l=!en(t),u=Vn(t),t=ul(t)),s=new Array(t.length);for(let h=0,d=t.length;h<d;h++)s[h]=e(l?u?gc(yt(t[h])):yt(t[h]):t[h],h,void 0,i&&i[h])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if(De(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const h=a[l];s[l]=e(t[h],h,l,i&&i[l])}}else s=[];return n&&(n[r]=s),s}function nR(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ne(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function rR(t,e,n={},r,s){if(Tt.ce||Tt.parent&&Lr(Tt.parent)&&Tt.parent.ce)return e!=="default"&&(n.name=e),Ht(),Sn(lt,null,[Ke("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),Ht();const o=i&&Nf(i(n)),a=n.key||o&&o.key,l=Sn(lt,{key:(a&&!un(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Nf(t){return t.some(e=>nr(e)?!(e.type===et||e.type===lt&&!Nf(e.children)):!0)?t:null}function sR(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Js(r)]=t[r];return n}const oh=t=>t?OE(t)?ca(t):oh(t.parent):null,yo=Ve(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>oh(t.parent),$root:t=>oh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Of(t),$forceUpdate:t=>t.f||(t.f=()=>{Tf(t.update)}),$nextTick:t=>t.n||(t.n=qr.bind(t.proxy)),$watch:t=>VR.bind(t)}),bu=(t,e)=>t!==Te&&!t.__isScriptSetup&&Se(t,e),ah={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(bu(r,e))return o[e]=1,r[e];if(s!==Te&&Se(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Se(u,e))return o[e]=3,i[e];if(n!==Te&&Se(n,e))return o[e]=4,n[e];ch&&(o[e]=0)}}const h=yo[e];let d,p;if(h)return e==="$attrs"&&kt(t.attrs,"get",""),h(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Te&&Se(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Se(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return bu(s,e)?(s[e]=n,!0):r!==Te&&Se(r,e)?(r[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},a){let l,u;return!!(n[a]||t!==Te&&a[0]!=="$"&&Se(t,a)||bu(e,a)||(l=i[0])&&Se(l,a)||Se(r,a)||Se(yo,a)||Se(s.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},iR=Ve({},ah,{get(t,e){if(e!==Symbol.unscopables)return ah.get(t,e,t)},has(t,e){return e[0]!=="_"&&!lf(e)}});function oR(){return null}function aR(){return null}function cR(t){}function lR(t){}function uR(){return null}function hR(){}function fR(t,e){return null}function dR(){return tE().slots}function pR(){return tE().attrs}function tE(t){const e=mt();return e.setupContext||(e.setupContext=xE(e))}function Fo(t){return ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function mR(t,e){const n=Fo(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?ne(s)||le(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}function gR(t,e){return!t||!e?t||e:ne(t)&&ne(e)?t.concat(e):Ve({},Fo(t),Fo(e))}function _R(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function yR(t){const e=mt();let n=t();return dh(),ea(n)&&(n=n.catch(r=>{throw bs(e),r})),[n,()=>bs(e)]}let ch=!0;function ER(t){const e=Of(t),n=t.proxy,r=t.ctx;ch=!1,e.beforeCreate&&nm(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:d,mounted:p,beforeUpdate:g,updated:_,activated:E,deactivated:R,beforeDestroy:D,beforeUnmount:N,destroyed:w,unmounted:k,render:V,renderTracked:F,renderTriggered:I,errorCaptured:T,serverPrefetch:y,expose:A,inheritAttrs:P,components:C,directives:b,filters:ue}=e;if(u&&vR(u,r,null),o)for(const pe in o){const te=o[pe];le(te)&&(r[pe]=te.bind(n))}if(s){const pe=s.call(n,n);De(pe)&&(t.data=Ln(pe))}if(ch=!0,i)for(const pe in i){const te=i[pe],Me=le(te)?te.bind(n,n):le(te.get)?te.get.bind(n,n):Zt,vn=!le(te)&&le(te.set)?te.set.bind(n):Zt,Gt=He({get:Me,set:vn});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>Gt.value,set:gt=>Gt.value=gt})}if(a)for(const pe in a)nE(a[pe],r,n,pe);if(l){const pe=le(l)?l.call(n):l;Reflect.ownKeys(pe).forEach(te=>{Es(te,pe[te])})}h&&nm(h,t,"c");function re(pe,te){ne(te)?te.forEach(Me=>pe(Me.bind(n))):te&&pe(te.bind(n))}if(re(Qy,d),re(xn,p),re(Sf,g),re(yl,_),re(bf,E),re(Rf,R),re(Pf,T),re(Xy,F),re(Jy,I),re(Si,N),re(El,k),re(Yy,y),ne(A))if(A.length){const pe=t.exposed||(t.exposed={});A.forEach(te=>{Object.defineProperty(pe,te,{get:()=>n[te],set:Me=>n[te]=Me,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===Zt&&(t.render=V),P!=null&&(t.inheritAttrs=P),C&&(t.components=C),b&&(t.directives=b),y&&Af(t)}function vR(t,e,n=Zt){ne(t)&&(t=lh(t));for(const r in t){const s=t[r];let i;De(s)?"default"in s?i=wt(s.from||r,s.default,!0):i=wt(s.from||r):i=wt(s),Je(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function nm(t,e,n){hn(ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function nE(t,e,n,r){let s=r.includes(".")?TE(n,r):()=>n[r];if(Oe(t)){const i=e[t];le(i)&&an(s,i)}else if(le(t))an(s,t.bind(n));else if(De(t))if(ne(t))t.forEach(i=>nE(i,e,n,r));else{const i=le(t.handler)?t.handler.bind(n):e[t.handler];le(i)&&an(s,i,t)}}function Of(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>Tc(l,u,o,!0)),Tc(l,e,o)),De(e)&&i.set(e,l),l}function Tc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Tc(t,i,n,!0),s&&s.forEach(o=>Tc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=TR[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const TR={data:rm,props:sm,emits:sm,methods:oo,computed:oo,beforeCreate:Mt,created:Mt,beforeMount:Mt,mounted:Mt,beforeUpdate:Mt,updated:Mt,beforeDestroy:Mt,beforeUnmount:Mt,destroyed:Mt,unmounted:Mt,activated:Mt,deactivated:Mt,errorCaptured:Mt,serverPrefetch:Mt,components:oo,directives:oo,watch:IR,provide:rm,inject:wR};function rm(t,e){return e?t?function(){return Ve(le(t)?t.call(this,this):t,le(e)?e.call(this,this):e)}:e:t}function wR(t,e){return oo(lh(t),lh(e))}function lh(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mt(t,e){return t?[...new Set([].concat(t,e))]:e}function oo(t,e){return t?Ve(Object.create(null),t,e):e}function sm(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:Ve(Object.create(null),Fo(t),Fo(e??{})):e}function IR(t,e){if(!t)return e;if(!e)return t;const n=Ve(Object.create(null),t);for(const r in e)n[r]=Mt(t[r],e[r]);return n}function rE(){return{app:null,config:{isNativeTag:of,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AR=0;function bR(t,e){return function(r,s=null){le(r)||(r=Ve({},r)),s!=null&&!De(s)&&(s=null);const i=rE(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:AR++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:LE,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&le(h.install)?(o.add(h),h.install(u,...d)):le(h)&&(o.add(h),h(u,...d))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,d){return d?(i.components[h]=d,u):i.components[h]},directive(h,d){return d?(i.directives[h]=d,u):i.directives[h]},mount(h,d,p){if(!l){const g=u._ceVNode||Ke(r,s);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(g,h):t(g,h,p),l=!0,u._container=h,h.__vue_app__=u,ca(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(hn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,d){return i.provides[h]=d,u},runWithContext(h){const d=ys;ys=u;try{return h()}finally{ys=d}}};return u}}let ys=null;function Es(t,e){if(Et){let n=Et.provides;const r=Et.parent&&Et.parent.provides;r===n&&(n=Et.provides=Object.create(r)),n[t]=e}}function wt(t,e,n=!1){const r=mt();if(r||ys){let s=ys?ys._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&le(e)?e.call(r&&r.proxy):e}}function oa(){return!!(mt()||ys)}const sE={},iE=()=>Object.create(sE),oE=t=>Object.getPrototypeOf(t)===sE;function RR(t,e,n,r=!1){const s={},i=iE();t.propsDefaults=Object.create(null),aE(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Pn(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function SR(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=be(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(vl(t.emitsOptions,p))continue;const g=e[p];if(l)if(Se(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const _=pt(p);s[_]=uh(l,a,_,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{aE(t,e,s,i)&&(u=!0);let h;for(const d in a)(!e||!Se(e,d)&&((h=Ot(d))===d||!Se(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=uh(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!Se(e,d))&&(delete i[d],u=!0)}u&&qn(t.attrs,"set","")}function aE(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ms(l))continue;const u=e[l];let h;s&&Se(s,h=pt(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:vl(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=be(n),u=a||Te;for(let h=0;h<i.length;h++){const d=i[h];n[d]=uh(s,l,d,u[d],t,!Se(u,d))}}return o}function uh(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Se(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&le(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=bs(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ot(n))&&(r=!0))}return r}const PR=new WeakMap;function cE(t,e,n=!1){const r=n?PR:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!le(t)){const h=d=>{l=!0;const[p,g]=cE(d,e,!0);Ve(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return De(t)&&r.set(t,ds),ds;if(ne(i))for(let h=0;h<i.length;h++){const d=pt(i[h]);im(d)&&(o[d]=Te)}else if(i)for(const h in i){const d=pt(h);if(im(d)){const p=i[h],g=o[d]=ne(p)||le(p)?{type:p}:Ve({},p),_=g.type;let E=!1,R=!0;if(ne(_))for(let D=0;D<_.length;++D){const N=_[D],w=le(N)&&N.name;if(w==="Boolean"){E=!0;break}else w==="String"&&(R=!1)}else E=le(_)&&_.name==="Boolean";g[0]=E,g[1]=R,(E||Se(g,"default"))&&a.push(d)}}const u=[o,a];return De(t)&&r.set(t,u),u}function im(t){return t[0]!=="$"&&!ms(t)}const Df=t=>t==="_"||t==="_ctx"||t==="$stable",Vf=t=>ne(t)?t.map(jt):[jt(t)],CR=(t,e,n)=>{if(e._n)return e;const r=ml((...s)=>Vf(e(...s)),n);return r._c=!1,r},lE=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Df(s))continue;const i=t[s];if(le(i))e[s]=CR(s,i,r);else if(i!=null){const o=Vf(i);e[s]=()=>o}}},uE=(t,e)=>{const n=Vf(e);t.slots.default=()=>n},hE=(t,e,n)=>{for(const r in e)(n||!Df(r))&&(t[r]=e[r])},kR=(t,e,n)=>{const r=t.slots=iE();if(t.vnode.shapeFlag&32){const s=e._;s?(hE(r,e,n),n&&cf(r,"_",s,!0)):lE(e,r)}else e&&uE(t,e)},NR=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Te;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:hE(s,e,n):(i=!e.$stable,lE(e,s)),o=e}else e&&(uE(t,e),o={default:1});if(i)for(const a in s)!Df(a)&&o[a]==null&&delete s[a]},ct=bE;function fE(t){return pE(t)}function dE(t){return pE(t,$b)}function pE(t,e){const n=na();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:p,setScopeId:g=Zt,insertStaticContent:_}=t,E=(S,O,M,B=null,U=null,q=null,z=void 0,W=null,G=!!O.dynamicChildren)=>{if(S===O)return;S&&!pn(S,O)&&(B=H(S),gt(S,U,q,!0),S=null),O.patchFlag===-2&&(G=!1,O.dynamicChildren=null);const{type:K,ref:ae,shapeFlag:X}=O;switch(K){case Fr:R(S,O,M,B);break;case et:D(S,O,M,B);break;case vs:S==null&&N(O,M,B,z);break;case lt:C(S,O,M,B,U,q,z,W,G);break;default:X&1?V(S,O,M,B,U,q,z,W,G):X&6?b(S,O,M,B,U,q,z,W,G):(X&64||X&128)&&K.process(S,O,M,B,U,q,z,W,G,ie)}ae!=null&&U?Zs(ae,S&&S.ref,q,O||S,!O):ae==null&&S&&S.ref!=null&&Zs(S.ref,null,q,S,!0)},R=(S,O,M,B)=>{if(S==null)r(O.el=a(O.children),M,B);else{const U=O.el=S.el;O.children!==S.children&&u(U,O.children)}},D=(S,O,M,B)=>{S==null?r(O.el=l(O.children||""),M,B):O.el=S.el},N=(S,O,M,B)=>{[S.el,S.anchor]=_(S.children,O,M,B,S.el,S.anchor)},w=({el:S,anchor:O},M,B)=>{let U;for(;S&&S!==O;)U=p(S),r(S,M,B),S=U;r(O,M,B)},k=({el:S,anchor:O})=>{let M;for(;S&&S!==O;)M=p(S),s(S),S=M;s(O)},V=(S,O,M,B,U,q,z,W,G)=>{O.type==="svg"?z="svg":O.type==="math"&&(z="mathml"),S==null?F(O,M,B,U,q,z,W,G):y(S,O,U,q,z,W,G)},F=(S,O,M,B,U,q,z,W)=>{let G,K;const{props:ae,shapeFlag:X,transition:se,dirs:de}=S;if(G=S.el=o(S.type,q,ae&&ae.is,ae),X&8?h(G,S.children):X&16&&T(S.children,G,null,B,U,Ru(S,q),z,W),de&&bn(S,null,B,"created"),I(G,S,S.scopeId,z,B),ae){for(const Ce in ae)Ce!=="value"&&!ms(Ce)&&i(G,Ce,null,ae[Ce],q,B);"value"in ae&&i(G,"value",null,ae.value,q),(K=ae.onVnodeBeforeMount)&&Ut(K,B,S)}de&&bn(S,null,B,"beforeMount");const Ee=mE(U,se);Ee&&se.beforeEnter(G),r(G,O,M),((K=ae&&ae.onVnodeMounted)||Ee||de)&&ct(()=>{K&&Ut(K,B,S),Ee&&se.enter(G),de&&bn(S,null,B,"mounted")},U)},I=(S,O,M,B,U)=>{if(M&&g(S,M),B)for(let q=0;q<B.length;q++)g(S,B[q]);if(U){let q=U.subTree;if(O===q||Ic(q.type)&&(q.ssContent===O||q.ssFallback===O)){const z=U.vnode;I(S,z,z.scopeId,z.slotScopeIds,U.parent)}}},T=(S,O,M,B,U,q,z,W,G=0)=>{for(let K=G;K<S.length;K++){const ae=S[K]=W?Cr(S[K]):jt(S[K]);E(null,ae,O,M,B,U,q,z,W)}},y=(S,O,M,B,U,q,z)=>{const W=O.el=S.el;let{patchFlag:G,dynamicChildren:K,dirs:ae}=O;G|=S.patchFlag&16;const X=S.props||Te,se=O.props||Te;let de;if(M&&os(M,!1),(de=se.onVnodeBeforeUpdate)&&Ut(de,M,O,S),ae&&bn(O,S,M,"beforeUpdate"),M&&os(M,!0),(X.innerHTML&&se.innerHTML==null||X.textContent&&se.textContent==null)&&h(W,""),K?A(S.dynamicChildren,K,W,M,B,Ru(O,U),q):z||te(S,O,W,null,M,B,Ru(O,U),q,!1),G>0){if(G&16)P(W,X,se,M,U);else if(G&2&&X.class!==se.class&&i(W,"class",null,se.class,U),G&4&&i(W,"style",X.style,se.style,U),G&8){const Ee=O.dynamicProps;for(let Ce=0;Ce<Ee.length;Ce++){const Pe=Ee[Ce],bt=X[Pe],it=se[Pe];(it!==bt||Pe==="value")&&i(W,Pe,bt,it,U,M)}}G&1&&S.children!==O.children&&h(W,O.children)}else!z&&K==null&&P(W,X,se,M,U);((de=se.onVnodeUpdated)||ae)&&ct(()=>{de&&Ut(de,M,O,S),ae&&bn(O,S,M,"updated")},B)},A=(S,O,M,B,U,q,z)=>{for(let W=0;W<O.length;W++){const G=S[W],K=O[W],ae=G.el&&(G.type===lt||!pn(G,K)||G.shapeFlag&198)?d(G.el):M;E(G,K,ae,null,B,U,q,z,!0)}},P=(S,O,M,B,U)=>{if(O!==M){if(O!==Te)for(const q in O)!ms(q)&&!(q in M)&&i(S,q,O[q],null,U,B);for(const q in M){if(ms(q))continue;const z=M[q],W=O[q];z!==W&&q!=="value"&&i(S,q,W,z,U,B)}"value"in M&&i(S,"value",O.value,M.value,U)}},C=(S,O,M,B,U,q,z,W,G)=>{const K=O.el=S?S.el:a(""),ae=O.anchor=S?S.anchor:a("");let{patchFlag:X,dynamicChildren:se,slotScopeIds:de}=O;de&&(W=W?W.concat(de):de),S==null?(r(K,M,B),r(ae,M,B),T(O.children||[],M,ae,U,q,z,W,G)):X>0&&X&64&&se&&S.dynamicChildren?(A(S.dynamicChildren,se,M,U,q,z,W),(O.key!=null||U&&O===U.subTree)&&xf(S,O,!0)):te(S,O,M,ae,U,q,z,W,G)},b=(S,O,M,B,U,q,z,W,G)=>{O.slotScopeIds=W,S==null?O.shapeFlag&512?U.ctx.activate(O,M,B,z,G):ue(O,M,B,U,q,z,G):ye(S,O,G)},ue=(S,O,M,B,U,q,z)=>{const W=S.component=NE(S,B,U);if(ia(S)&&(W.ctx.renderer=ie),DE(W,!1,z),W.asyncDep){if(U&&U.registerDep(W,re,z),!S.el){const G=W.subTree=Ke(et);D(null,G,O,M),S.placeholder=G.el}}else re(W,S,O,M,U,q,z)},ye=(S,O,M)=>{const B=O.component=S.component;if(HR(S,O,M))if(B.asyncDep&&!B.asyncResolved){pe(B,O,M);return}else B.next=O,B.update();else O.el=S.el,B.vnode=O},re=(S,O,M,B,U,q,z)=>{const W=()=>{if(S.isMounted){let{next:X,bu:se,u:de,parent:Ee,vnode:Ce}=S;{const ot=gE(S);if(ot){X&&(X.el=Ce.el,pe(S,X,z)),ot.asyncDep.then(()=>{S.isUnmounted||W()});return}}let Pe=X,bt;os(S,!1),X?(X.el=Ce.el,pe(S,X,z)):X=Ce,se&&gs(se),(bt=X.props&&X.props.onVnodeBeforeUpdate)&&Ut(bt,Ee,X,Ce),os(S,!0);const it=Xa(S),Ft=S.subTree;S.subTree=it,E(Ft,it,d(Ft.el),H(Ft),S,U,q),X.el=it.el,Pe===null&&Tl(S,it.el),de&&ct(de,U),(bt=X.props&&X.props.onVnodeUpdated)&&ct(()=>Ut(bt,Ee,X,Ce),U)}else{let X;const{el:se,props:de}=O,{bm:Ee,m:Ce,parent:Pe,root:bt,type:it}=S,Ft=Lr(O);if(os(S,!1),Ee&&gs(Ee),!Ft&&(X=de&&de.onVnodeBeforeMount)&&Ut(X,Pe,O),os(S,!0),se&&Le){const ot=()=>{S.subTree=Xa(S),Le(se,S.subTree,S,U,null)};Ft&&it.__asyncHydrate?it.__asyncHydrate(se,S,ot):ot()}else{bt.ce&&bt.ce._def.shadowRoot!==!1&&bt.ce._injectChildStyle(it);const ot=S.subTree=Xa(S);E(null,ot,M,B,S,U,q),O.el=ot.el}if(Ce&&ct(Ce,U),!Ft&&(X=de&&de.onVnodeMounted)){const ot=O;ct(()=>Ut(X,Pe,ot),U)}(O.shapeFlag&256||Pe&&Lr(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&S.a&&ct(S.a,U),S.isMounted=!0,O=M=B=null}};S.scope.on();const G=S.effect=new Oo(W);S.scope.off();const K=S.update=G.run.bind(G),ae=S.job=G.runIfDirty.bind(G);ae.i=S,ae.id=S.uid,G.scheduler=()=>Tf(ae),os(S,!0),K()},pe=(S,O,M)=>{O.component=S;const B=S.vnode.props;S.vnode=O,S.next=null,SR(S,O.props,B,M),NR(S,O.children,M),Zn(),zp(S),er()},te=(S,O,M,B,U,q,z,W,G=!1)=>{const K=S&&S.children,ae=S?S.shapeFlag:0,X=O.children,{patchFlag:se,shapeFlag:de}=O;if(se>0){if(se&128){vn(K,X,M,B,U,q,z,W,G);return}else if(se&256){Me(K,X,M,B,U,q,z,W,G);return}}de&8?(ae&16&&At(K,U,q),X!==K&&h(M,X)):ae&16?de&16?vn(K,X,M,B,U,q,z,W,G):At(K,U,q,!0):(ae&8&&h(M,""),de&16&&T(X,M,B,U,q,z,W,G))},Me=(S,O,M,B,U,q,z,W,G)=>{S=S||ds,O=O||ds;const K=S.length,ae=O.length,X=Math.min(K,ae);let se;for(se=0;se<X;se++){const de=O[se]=G?Cr(O[se]):jt(O[se]);E(S[se],de,M,null,U,q,z,W,G)}K>ae?At(S,U,q,!0,!1,X):T(O,M,B,U,q,z,W,G,X)},vn=(S,O,M,B,U,q,z,W,G)=>{let K=0;const ae=O.length;let X=S.length-1,se=ae-1;for(;K<=X&&K<=se;){const de=S[K],Ee=O[K]=G?Cr(O[K]):jt(O[K]);if(pn(de,Ee))E(de,Ee,M,null,U,q,z,W,G);else break;K++}for(;K<=X&&K<=se;){const de=S[X],Ee=O[se]=G?Cr(O[se]):jt(O[se]);if(pn(de,Ee))E(de,Ee,M,null,U,q,z,W,G);else break;X--,se--}if(K>X){if(K<=se){const de=se+1,Ee=de<ae?O[de].el:B;for(;K<=se;)E(null,O[K]=G?Cr(O[K]):jt(O[K]),M,Ee,U,q,z,W,G),K++}}else if(K>se)for(;K<=X;)gt(S[K],U,q,!0),K++;else{const de=K,Ee=K,Ce=new Map;for(K=Ee;K<=se;K++){const Xe=O[K]=G?Cr(O[K]):jt(O[K]);Xe.key!=null&&Ce.set(Xe.key,K)}let Pe,bt=0;const it=se-Ee+1;let Ft=!1,ot=0;const Un=new Array(it);for(K=0;K<it;K++)Un[K]=0;for(K=de;K<=X;K++){const Xe=S[K];if(bt>=it){gt(Xe,U,q,!0);continue}let Qt;if(Xe.key!=null)Qt=Ce.get(Xe.key);else for(Pe=Ee;Pe<=se;Pe++)if(Un[Pe-Ee]===0&&pn(Xe,O[Pe])){Qt=Pe;break}Qt===void 0?gt(Xe,U,q,!0):(Un[Qt-Ee]=K+1,Qt>=ot?ot=Qt:Ft=!0,E(Xe,O[Qt],M,null,U,q,z,W,G),bt++)}const Ls=Ft?OR(Un):ds;for(Pe=Ls.length-1,K=it-1;K>=0;K--){const Xe=Ee+K,Qt=O[Xe],ts=O[Xe+1],Li=Xe+1<ae?ts.el||ts.placeholder:B;Un[K]===0?E(null,Qt,M,Li,U,q,z,W,G):Ft&&(Pe<0||K!==Ls[Pe]?Gt(Qt,M,Li,2):Pe--)}}},Gt=(S,O,M,B,U=null)=>{const{el:q,type:z,transition:W,children:G,shapeFlag:K}=S;if(K&6){Gt(S.component.subTree,O,M,B);return}if(K&128){S.suspense.move(O,M,B);return}if(K&64){z.move(S,O,M,ie);return}if(z===lt){r(q,O,M);for(let X=0;X<G.length;X++)Gt(G[X],O,M,B);r(S.anchor,O,M);return}if(z===vs){w(S,O,M);return}if(B!==2&&K&1&&W)if(B===0)W.beforeEnter(q),r(q,O,M),ct(()=>W.enter(q),U);else{const{leave:X,delayLeave:se,afterLeave:de}=W,Ee=()=>{S.ctx.isUnmounted?s(q):r(q,O,M)},Ce=()=>{q._isLeaving&&q[Bn](!0),X(q,()=>{Ee(),de&&de()})};se?se(q,Ee,Ce):Ce()}else r(q,O,M)},gt=(S,O,M,B=!1,U=!1)=>{const{type:q,props:z,ref:W,children:G,dynamicChildren:K,shapeFlag:ae,patchFlag:X,dirs:se,cacheIndex:de}=S;if(X===-2&&(U=!1),W!=null&&(Zn(),Zs(W,null,M,S,!0),er()),de!=null&&(O.renderCache[de]=void 0),ae&256){O.ctx.deactivate(S);return}const Ee=ae&1&&se,Ce=!Lr(S);let Pe;if(Ce&&(Pe=z&&z.onVnodeBeforeUnmount)&&Ut(Pe,O,S),ae&6)gr(S.component,M,B);else{if(ae&128){S.suspense.unmount(M,B);return}Ee&&bn(S,null,O,"beforeUnmount"),ae&64?S.type.remove(S,O,M,ie,B):K&&!K.hasOnce&&(q!==lt||X>0&&X&64)?At(K,O,M,!1,!0):(q===lt&&X&384||!U&&ae&16)&&At(G,O,M),B&&Fn(S)}(Ce&&(Pe=z&&z.onVnodeUnmounted)||Ee)&&ct(()=>{Pe&&Ut(Pe,O,S),Ee&&bn(S,null,O,"unmounted")},M)},Fn=S=>{const{type:O,el:M,anchor:B,transition:U}=S;if(O===lt){dn(M,B);return}if(O===vs){k(S);return}const q=()=>{s(M),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(S.shapeFlag&1&&U&&!U.persisted){const{leave:z,delayLeave:W}=U,G=()=>z(M,q);W?W(S.el,q,G):G()}else q()},dn=(S,O)=>{let M;for(;S!==O;)M=p(S),s(S),S=M;s(O)},gr=(S,O,M)=>{const{bum:B,scope:U,job:q,subTree:z,um:W,m:G,a:K}=S;wc(G),wc(K),B&&gs(B),U.stop(),q&&(q.flags|=8,gt(z,S,O,M)),W&&ct(W,O),ct(()=>{S.isUnmounted=!0},O)},At=(S,O,M,B=!1,U=!1,q=0)=>{for(let z=q;z<S.length;z++)gt(S[z],O,M,B,U)},H=S=>{if(S.shapeFlag&6)return H(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const O=p(S.anchor||S.el),M=O&&O[Uy];return M?p(M):O};let Z=!1;const Y=(S,O,M)=>{S==null?O._vnode&&gt(O._vnode,null,null,!0):E(O._vnode||null,S,O,null,null,null,M),O._vnode=S,Z||(Z=!0,zp(),Ec(),Z=!1)},ie={p:E,um:gt,m:Gt,r:Fn,mt:ue,mc:T,pc:te,pbc:A,n:H,o:t};let Re,Le;return e&&([Re,Le]=e(ie)),{render:Y,hydrate:Re,createApp:bR(Y,Re)}}function Ru({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function os({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function mE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xf(t,e,n=!1){const r=t.children,s=e.children;if(ne(r)&&ne(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Cr(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&xf(o,a)),a.type===Fr&&a.patchFlag!==-1&&(a.el=o.el),a.type===et&&!a.el&&(a.el=o.el)}}function OR(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function gE(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:gE(e)}function wc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const _E=Symbol.for("v-scx"),yE=()=>wt(_E);function EE(t,e){return aa(t,null,e)}function DR(t,e){return aa(t,null,{flush:"post"})}function vE(t,e){return aa(t,null,{flush:"sync"})}function an(t,e,n){return aa(t,e,n)}function aa(t,e,n=Te){const{immediate:r,deep:s,flush:i,once:o}=n,a=Ve({},n),l=e&&r||!e&&i!=="post";let u;if(ci){if(i==="sync"){const g=yE();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Zt,g.resume=Zt,g.pause=Zt,g}}const h=Et;a.call=(g,_,E)=>hn(g,h,_,E);let d=!1;i==="post"?a.scheduler=g=>{ct(g,h&&h.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,_)=>{_?g():Tf(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const p=Tb(t,e,a);return ci&&(u?u.push(p):l&&p()),p}function VR(t,e,n){const r=this.proxy,s=Oe(t)?t.includes(".")?TE(r,t):()=>r[t]:t.bind(r,r);let i;le(e)?i=e:(i=e.handler,n=e);const o=bs(this),a=aa(s,i.bind(r),n);return o(),a}function TE(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function xR(t,e,n=Te){const r=mt(),s=pt(e),i=Ot(e),o=wE(t,s),a=Ny((l,u)=>{let h,d=Te,p;return vE(()=>{const g=t[s];Ct(h,g)&&(h=g,u())}),{get(){return l(),n.get?n.get(h):h},set(g){const _=n.set?n.set(g):g;if(!Ct(_,h)&&!(d!==Te&&Ct(g,d)))return;const E=r.vnode.props;E&&(e in E||s in E||i in E)&&(`onUpdate:${e}`in E||`onUpdate:${s}`in E||`onUpdate:${i}`in E)||(h=g,u()),r.emit(`update:${e}`,_),Ct(g,_)&&Ct(g,d)&&!Ct(_,p)&&u(),d=g,p=_}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Te:a,done:!1}:{done:!0}}}},a}const wE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${pt(e)}Modifiers`]||t[`${Ot(e)}Modifiers`];function MR(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Te;let s=n;const i=e.startsWith("update:"),o=i&&wE(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>Oe(h)?h.trim():h)),o.number&&(s=n.map(ko)));let a,l=r[a=Js(e)]||r[a=Js(pt(e))];!l&&i&&(l=r[a=Js(Ot(e))]),l&&hn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,hn(u,t,6,s)}}const LR=new WeakMap;function IE(t,e,n=!1){const r=n?LR:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!le(t)){const l=u=>{const h=IE(u,e,!0);h&&(a=!0,Ve(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(De(t)&&r.set(t,null),null):(ne(i)?i.forEach(l=>o[l]=null):Ve(o,i),De(t)&&r.set(t,o),o)}function vl(t,e){return!t||!wi(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,Ot(e))||Se(t,e))}function Xa(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:d,data:p,setupState:g,ctx:_,inheritAttrs:E}=t,R=Lo(t);let D,N;try{if(n.shapeFlag&4){const k=s||r,V=k;D=jt(u.call(V,k,h,d,g,p,_)),N=a}else{const k=e;D=jt(k.length>1?k(d,{attrs:a,slots:o,emit:l}):k(d,null)),N=e.props?a:UR(a)}}catch(k){Eo.length=0,Os(k,t,1),D=Ke(et)}let w=D;if(N&&E!==!1){const k=Object.keys(N),{shapeFlag:V}=w;k.length&&V&7&&(i&&k.some(il)&&(N=$R(N,i)),w=nn(w,N,!1,!0))}return n.dirs&&(w=nn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&tr(w,n.transition),D=w,Lo(R),D}function FR(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(nr(s)){if(s.type!==et||s.children==="v-if"){if(n)return;n=s}}else return}return n}const UR=t=>{let e;for(const n in t)(n==="class"||n==="style"||wi(n))&&((e||(e={}))[n]=t[n]);return e},$R=(t,e)=>{const n={};for(const r in t)(!il(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function HR(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?om(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(o[p]!==r[p]&&!vl(u,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?om(r,o,u):!0:!!o;return!1}function om(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!vl(n,i))return!0}return!1}function Tl({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ic=t=>t.__isSuspense;let hh=0;const jR={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,u){if(t==null)BR(e,n,r,s,i,o,a,l,u);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}qR(t,e,n,r,s,o,a,l,u)}},hydrate:WR,normalize:KR},Mf=jR;function Uo(t,e){const n=t.props&&t.props[e];le(n)&&n()}function BR(t,e,n,r,s,i,o,a,l){const{p:u,o:{createElement:h}}=l,d=h("div"),p=t.suspense=AE(t,s,r,e,d,n,i,o,a,l);u(null,p.pendingBranch=t.ssContent,d,null,r,p,i,o),p.deps>0?(Uo(t,"onPending"),Uo(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,i,o),ei(p,t.ssFallback)):p.resolve(!1,!0)}function qR(t,e,n,r,s,i,o,a,{p:l,um:u,o:{createElement:h}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:_,pendingBranch:E,isInFallback:R,isHydrating:D}=d;if(E)d.pendingBranch=p,pn(E,p)?(l(E,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():R&&(D||(l(_,g,n,r,s,null,i,o,a),ei(d,g)))):(d.pendingId=hh++,D?(d.isHydrating=!1,d.activeBranch=E):u(E,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),R?(l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():(l(_,g,n,r,s,null,i,o,a),ei(d,g))):_&&pn(_,p)?(l(_,p,n,r,s,d,i,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0&&d.resolve()));else if(_&&pn(_,p))l(_,p,n,r,s,d,i,o,a),ei(d,p);else if(Uo(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=hh++,l(null,p,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0)d.resolve();else{const{timeout:N,pendingId:w}=d;N>0?setTimeout(()=>{d.pendingId===w&&d.fallback(g)},N):N===0&&d.fallback(g)}}function AE(t,e,n,r,s,i,o,a,l,u,h=!1){const{p:d,m:p,um:g,n:_,o:{parentNode:E,remove:R}}=u;let D;const N=zR(t);N&&e&&e.pendingBranch&&(D=e.pendingId,e.deps++);const w=t.props?No(t.props.timeout):void 0,k=i,V={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:hh++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(F=!1,I=!1){const{vnode:T,activeBranch:y,pendingBranch:A,pendingId:P,effects:C,parentComponent:b,container:ue}=V;let ye=!1;V.isHydrating?V.isHydrating=!1:F||(ye=y&&A.transition&&A.transition.mode==="out-in",ye&&(y.transition.afterLeave=()=>{P===V.pendingId&&(p(A,ue,i===k?_(y):i,0),xo(C))}),y&&(E(y.el)===ue&&(i=_(y)),g(y,b,V,!0)),ye||p(A,ue,i,0)),ei(V,A),V.pendingBranch=null,V.isInFallback=!1;let re=V.parent,pe=!1;for(;re;){if(re.pendingBranch){re.effects.push(...C),pe=!0;break}re=re.parent}!pe&&!ye&&xo(C),V.effects=[],N&&e&&e.pendingBranch&&D===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),Uo(T,"onResolve")},fallback(F){if(!V.pendingBranch)return;const{vnode:I,activeBranch:T,parentComponent:y,container:A,namespace:P}=V;Uo(I,"onFallback");const C=_(T),b=()=>{V.isInFallback&&(d(null,F,A,C,y,null,P,a,l),ei(V,F))},ue=F.transition&&F.transition.mode==="out-in";ue&&(T.transition.afterLeave=b),V.isInFallback=!0,g(T,y,null,!0),ue||b()},move(F,I,T){V.activeBranch&&p(V.activeBranch,F,I,T),V.container=F},next(){return V.activeBranch&&_(V.activeBranch)},registerDep(F,I,T){const y=!!V.pendingBranch;y&&V.deps++;const A=F.vnode.el;F.asyncDep.catch(P=>{Os(P,F,0)}).then(P=>{if(F.isUnmounted||V.isUnmounted||V.pendingId!==F.suspenseId)return;F.asyncResolved=!0;const{vnode:C}=F;ph(F,P,!1),A&&(C.el=A);const b=!A&&F.subTree.el;I(F,C,E(A||F.subTree.el),A?null:_(F.subTree),V,o,T),b&&R(b),Tl(F,C.el),y&&--V.deps===0&&V.resolve()})},unmount(F,I){V.isUnmounted=!0,V.activeBranch&&g(V.activeBranch,n,F,I),V.pendingBranch&&g(V.pendingBranch,n,F,I)}};return V}function WR(t,e,n,r,s,i,o,a,l){const u=e.suspense=AE(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),h}function KR(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=am(r?n.default:n),t.ssFallback=r?am(n.fallback):Ke(et)}function am(t){let e;if(le(t)){const n=As&&t._c;n&&(t._d=!1,Ht()),t=t(),n&&(t._d=!0,e=Dt,RE())}return ne(t)&&(t=FR(t)),t=jt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function bE(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):xo(t)}function ei(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Tl(r,s))}function zR(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const lt=Symbol.for("v-fgt"),Fr=Symbol.for("v-txt"),et=Symbol.for("v-cmt"),vs=Symbol.for("v-stc"),Eo=[];let Dt=null;function Ht(t=!1){Eo.push(Dt=t?null:[])}function RE(){Eo.pop(),Dt=Eo[Eo.length-1]||null}let As=1;function $o(t,e=!1){As+=t,t<0&&Dt&&e&&(Dt.hasOnce=!0)}function SE(t){return t.dynamicChildren=As>0?Dt||ds:null,RE(),As>0&&Dt&&Dt.push(t),t}function Ac(t,e,n,r,s,i){return SE(wl(t,e,n,r,s,i,!0))}function Sn(t,e,n,r,s){return SE(Ke(t,e,n,r,s,!0))}function nr(t){return t?t.__v_isVNode===!0:!1}function pn(t,e){return t.type===e.type&&t.key===e.key}function GR(t){}const PE=({key:t})=>t??null,Za=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Oe(t)||Je(t)||le(t)?{i:Tt,r:t,k:e,f:!!n}:t:null);function wl(t,e=null,n=null,r=0,s=null,i=t===lt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&PE(e),ref:e&&Za(e),scopeId:pl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Tt};return a?(Uf(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Oe(n)?8:16),As>0&&!o&&Dt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Dt.push(l),l}const Ke=QR;function QR(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Zy)&&(t=et),nr(t)){const a=nn(t,e,!0);return n&&Uf(a,n),As>0&&!i&&Dt&&(a.shapeFlag&6?Dt[Dt.indexOf(t)]=a:Dt.push(a)),a.patchFlag=-2,a}if(nS(t)&&(t=t.__vccOpts),e){e=Lf(e);let{class:a,style:l}=e;a&&!Oe(a)&&(e.class=bi(a)),De(l)&&(dl(l)&&!ne(l)&&(l=Ve({},l)),e.style=Ai(l))}const o=Oe(t)?1:Ic(t)?128:$y(t)?64:De(t)?4:le(t)?2:0;return wl(t,e,n,r,s,o,i,!0)}function Lf(t){return t?dl(t)||oE(t)?Ve({},t):t:null}function nn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?kE(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&PE(u),ref:e&&e.ref?n&&i?ne(i)?i.concat(Za(e)):[i,Za(e)]:Za(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==lt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&nn(t.ssContent),ssFallback:t.ssFallback&&nn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&tr(h,l.clone(h)),h}function Ff(t=" ",e=0){return Ke(Fr,null,t,e)}function CE(t,e){const n=Ke(vs,null,t);return n.staticCount=e,n}function ec(t="",e=!1){return e?(Ht(),Sn(et,null,t)):Ke(et,null,t)}function jt(t){return t==null||typeof t=="boolean"?Ke(et):ne(t)?Ke(lt,null,t.slice()):nr(t)?Cr(t):Ke(Fr,null,String(t))}function Cr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:nn(t)}function Uf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Uf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!oE(e)?e._ctx=Tt:s===3&&Tt&&(Tt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else le(e)?(e={default:e,_ctx:Tt},n=32):(e=String(e),r&64?(n=16,e=[Ff(e)]):n=8);t.children=e,t.shapeFlag|=n}function kE(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=bi([e.class,r.class]));else if(s==="style")e.style=Ai([e.style,r.style]);else if(wi(s)){const i=e[s],o=r[s];o&&i!==o&&!(ne(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Ut(t,e,n,r=null){hn(t,e,7,[n,r])}const YR=rE();let JR=0;function NE(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||YR,i={uid:JR++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new df(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cE(r,s),emitsOptions:IE(r,s),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:r.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=MR.bind(null,i),t.ce&&t.ce(i),i}let Et=null;const mt=()=>Et||Tt;let bc,fh;{const t=na(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};bc=e("__VUE_INSTANCE_SETTERS__",n=>Et=n),fh=e("__VUE_SSR_SETTERS__",n=>ci=n)}const bs=t=>{const e=Et;return bc(t),t.scope.on(),()=>{t.scope.off(),bc(e)}},dh=()=>{Et&&Et.scope.off(),bc(null)};function OE(t){return t.vnode.shapeFlag&4}let ci=!1;function DE(t,e=!1,n=!1){e&&fh(e);const{props:r,children:s}=t.vnode,i=OE(t);RR(t,r,i,e),kR(t,s,n||e);const o=i?XR(t,e):void 0;return e&&fh(!1),o}function XR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ah);const{setup:r}=n;if(r){Zn();const s=t.setupContext=r.length>1?xE(t):null,i=bs(t),o=Ri(r,t,0,[t.props,s]),a=ea(o);if(er(),i(),(a||t.sp)&&!Lr(t)&&Af(t),a){if(o.then(dh,dh),e)return o.then(l=>{ph(t,l,e)}).catch(l=>{Os(l,t,0)});t.asyncDep=o}else ph(t,o,e)}else VE(t,e)}function ph(t,e,n){le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=Ef(e)),VE(t,n)}let Rc,mh;function ZR(t){Rc=t,mh=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,iR))}}const eS=()=>!Rc;function VE(t,e,n){const r=t.type;if(!t.render){if(!e&&Rc&&!r.render){const s=r.template||Of(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Ve(Ve({isCustomElement:i,delimiters:a},o),l);r.render=Rc(s,u)}}t.render=r.render||Zt,mh&&mh(t)}{const s=bs(t);Zn();try{ER(t)}finally{er(),s()}}}const tS={get(t,e){return kt(t,"get",""),t[e]}};function xE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,tS),slots:t.slots,emit:t.emit,expose:e}}function ca(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ef(Cy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in yo)return yo[n](t)},has(e,n){return n in e||n in yo}})):t.proxy}function gh(t,e=!0){return le(t)?t.displayName||t.name:t.name||e&&t.__name}function nS(t){return le(t)&&"__vccOpts"in t}const He=(t,e)=>_b(t,e,ci);function rt(t,e,n){const r=(i,o,a)=>{$o(-1);try{return Ke(i,o,a)}finally{$o(1)}},s=arguments.length;return s===2?De(e)&&!ne(e)?nr(e)?r(t,null,[e]):r(t,e):r(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&nr(n)&&(n=[n]),r(t,e,n))}function rS(){}function sS(t,e,n,r){const s=n[r];if(s&&ME(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=r,n[r]=i}function ME(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Ct(n[r],e[r]))return!1;return As>0&&Dt&&Dt.push(t),!0}const LE="3.5.21",iS=Zt,oS=Rb,aS=qs,cS=Fy,lS={createComponentInstance:NE,setupComponent:DE,renderComponentRoot:Xa,setCurrentRenderingInstance:Lo,isVNode:nr,normalizeVNode:jt,getComponentPublicInstance:ca,ensureValidVNode:Nf,pushWarningContext:wb,popWarningContext:Ib},uS=lS,hS=null,fS=null,dS=null;/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _h;const cm=typeof window<"u"&&window.trustedTypes;if(cm)try{_h=cm.createPolicy("vue",{createHTML:t=>t})}catch{}const FE=_h?t=>_h.createHTML(t):t=>t,pS="http://www.w3.org/2000/svg",mS="http://www.w3.org/1998/Math/MathML",jn=typeof document<"u"?document:null,lm=jn&&jn.createElement("template"),gS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?jn.createElementNS(pS,t):e==="mathml"?jn.createElementNS(mS,t):n?jn.createElement(t,{is:n}):jn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>jn.createTextNode(t),createComment:t=>jn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>jn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{lm.innerHTML=FE(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=lm.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ir="transition",Zi="animation",li=Symbol("_vtc"),UE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$E=Ve({},If,UE),_S=t=>(t.displayName="Transition",t.props=$E,t),HE=_S((t,{slots:e})=>rt(Wy,jE(t),e)),as=(t,e=[])=>{ne(t)?t.forEach(n=>n(...e)):t&&t(...e)},um=t=>t?ne(t)?t.some(e=>e.length>1):t.length>1:!1;function jE(t){const e={};for(const C in t)C in UE||(e[C]=t[C]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,_=yS(s),E=_&&_[0],R=_&&_[1],{onBeforeEnter:D,onEnter:N,onEnterCancelled:w,onLeave:k,onLeaveCancelled:V,onBeforeAppear:F=D,onAppear:I=N,onAppearCancelled:T=w}=e,y=(C,b,ue,ye)=>{C._enterCancelled=ye,Rr(C,b?h:a),Rr(C,b?u:o),ue&&ue()},A=(C,b)=>{C._isLeaving=!1,Rr(C,d),Rr(C,g),Rr(C,p),b&&b()},P=C=>(b,ue)=>{const ye=C?I:N,re=()=>y(b,C,ue);as(ye,[b,re]),hm(()=>{Rr(b,C?l:i),In(b,C?h:a),um(ye)||fm(b,r,E,re)})};return Ve(e,{onBeforeEnter(C){as(D,[C]),In(C,i),In(C,o)},onBeforeAppear(C){as(F,[C]),In(C,l),In(C,u)},onEnter:P(!1),onAppear:P(!0),onLeave(C,b){C._isLeaving=!0;const ue=()=>A(C,b);In(C,d),C._enterCancelled?(In(C,p),yh()):(yh(),In(C,p)),hm(()=>{C._isLeaving&&(Rr(C,d),In(C,g),um(k)||fm(C,r,R,ue))}),as(k,[C,ue])},onEnterCancelled(C){y(C,!1,void 0,!0),as(w,[C])},onAppearCancelled(C){y(C,!0,void 0,!0),as(T,[C])},onLeaveCancelled(C){A(C),as(V,[C])}})}function yS(t){if(t==null)return null;if(De(t))return[Su(t.enter),Su(t.leave)];{const e=Su(t);return[e,e]}}function Su(t){return No(t)}function In(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[li]||(t[li]=new Set)).add(e)}function Rr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[li];n&&(n.delete(e),n.size||(t[li]=void 0))}function hm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ES=0;function fm(t,e,n,r){const s=t._endId=++ES,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=BE(t,e);if(!o)return r();const u=o+"end";let h=0;const d=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},a+1),t.addEventListener(u,p)}function BE(t,e){const n=window.getComputedStyle(t),r=_=>(n[_]||"").split(", "),s=r(`${Ir}Delay`),i=r(`${Ir}Duration`),o=dm(s,i),a=r(`${Zi}Delay`),l=r(`${Zi}Duration`),u=dm(a,l);let h=null,d=0,p=0;e===Ir?o>0&&(h=Ir,d=o,p=i.length):e===Zi?u>0&&(h=Zi,d=u,p=l.length):(d=Math.max(o,u),h=d>0?o>u?Ir:Zi:null,p=h?h===Ir?i.length:l.length:0);const g=h===Ir&&/\b(?:transform|all)(?:,|$)/.test(r(`${Ir}Property`).toString());return{type:h,timeout:d,propCount:p,hasTransform:g}}function dm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>pm(n)+pm(t[r])))}function pm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function yh(){return document.body.offsetHeight}function vS(t,e,n){const r=t[li];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Sc=Symbol("_vod"),qE=Symbol("_vsh"),WE={name:"show",beforeMount(t,{value:e},{transition:n}){t[Sc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):eo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),eo(t,!0),r.enter(t)):r.leave(t,()=>{eo(t,!1)}):eo(t,e))},beforeUnmount(t,{value:e}){eo(t,e)}};function eo(t,e){t.style.display=e?t[Sc]:"none",t[qE]=!e}function TS(){WE.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const KE=Symbol("");function wS(t){const e=mt();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Pc(i,s))},r=()=>{const s=t(e.proxy);e.ce?Pc(e.ce,s):Eh(e.subTree,s),n(s)};Sf(()=>{xo(r)}),xn(()=>{an(r,Zt,{flush:"post"});const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),El(()=>s.disconnect())})}function Eh(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Eh(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Pc(t.el,e);else if(t.type===lt)t.children.forEach(n=>Eh(n,e));else if(t.type===vs){let{el:n,anchor:r}=t;for(;n&&(Pc(n,e),n!==r);)n=n.nextSibling}}function Pc(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e){const i=fy(e[s]);n.setProperty(`--${s}`,i),r+=`--${s}: ${i};`}n[KE]=r}}const IS=/(?:^|;)\s*display\s*:/;function AS(t,e,n){const r=t.style,s=Oe(n);let i=!1;if(n&&!s){if(e)if(Oe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&tc(r,a,"")}else for(const o in e)n[o]==null&&tc(r,o,"");for(const o in n)o==="display"&&(i=!0),tc(r,o,n[o])}else if(s){if(e!==n){const o=r[KE];o&&(n+=";"+o),r.cssText=n,i=IS.test(n)}}else e&&t.removeAttribute("style");Sc in t&&(t[Sc]=i?r.display:"",t[qE]&&(r.display="none"))}const mm=/\s*!important$/;function tc(t,e,n){if(ne(n))n.forEach(r=>tc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=bS(t,e);mm.test(n)?t.setProperty(Ot(r),n.replace(mm,""),"important"):t[r]=n}}const gm=["Webkit","Moz","ms"],Pu={};function bS(t,e){const n=Pu[e];if(n)return n;let r=pt(e);if(r!=="filter"&&r in t)return Pu[e]=r;r=Ii(r);for(let s=0;s<gm.length;s++){const i=gm[s]+r;if(i in t)return Pu[e]=i}return e}const _m="http://www.w3.org/1999/xlink";function ym(t,e,n,r,s,i=cy(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(_m,e.slice(6,e.length)):t.setAttributeNS(_m,e,n):n==null||i&&!hf(n)?t.removeAttribute(e):t.setAttribute(e,i?"":un(n)?String(n):n)}function Em(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?FE(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=hf(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Kn(t,e,n,r){t.addEventListener(e,n,r)}function RS(t,e,n,r){t.removeEventListener(e,n,r)}const vm=Symbol("_vei");function SS(t,e,n,r,s=null){const i=t[vm]||(t[vm]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=PS(e);if(r){const u=i[e]=NS(r,s);Kn(t,a,u,l)}else o&&(RS(t,a,o,l),i[e]=void 0)}}const Tm=/(?:Once|Passive|Capture)$/;function PS(t){let e;if(Tm.test(t)){e={};let r;for(;r=t.match(Tm);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ot(t.slice(2)),e]}let Cu=0;const CS=Promise.resolve(),kS=()=>Cu||(CS.then(()=>Cu=0),Cu=Date.now());function NS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hn(OS(r,n.value),e,5,[r])};return n.value=t,n.attached=kS(),n}function OS(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const wm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,DS=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?vS(t,r,o):e==="style"?AS(t,n,r):wi(e)?il(e)||SS(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):VS(t,e,r,o))?(Em(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ym(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Oe(r))?Em(t,pt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ym(t,e,r,o))};function VS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&wm(e)&&le(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return wm(e)&&Oe(n)?!1:e in t}const Im={};function zE(t,e,n){let r=lr(t,e);ta(r)&&(r=Ve({},r,e));class s extends Il{constructor(o){super(r,o,n)}}return s.def=r,s}const xS=((t,e)=>zE(t,e,jf)),MS=typeof HTMLElement<"u"?HTMLElement:class{};class Il extends MS{constructor(e,n={},r=Nc){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Nc?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Il){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,qr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=r;let a;if(i&&!ne(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=No(this._props[l])),(a||(a=Object.create(null)))[pt(l)]=!0)}this._numberProps=a,this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>{r.configureApp=this._def.configureApp,e(this._def=r,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)Se(this,r)||Object.defineProperty(this,r,{get:()=>$e(n[r])})}_resolveProps(e){const{props:n}=e,r=ne(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(pt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):Im;const s=pt(e);n&&this._numberProps&&this._numberProps[s]&&(r=No(r)),this._setProp(s,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,s=!1){if(n!==this._props[e]&&(n===Im?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),s&&this._instance&&this._update(),r)){const i=this._ob;i&&i.disconnect(),n===!0?this.setAttribute(Ot(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ot(e),n+""):n||this.removeAttribute(Ot(e)),i&&i.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),sv(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Ke(this._def,Ve(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,ta(o[0])?Ve({detail:o},o[0]):{detail:o}))};r.emit=(i,...o)=>{s(i,o),Ot(i)!==i&&s(Ot(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const s=e[r],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",h=document.createTreeWalker(l,1);l.setAttribute(u,"");let d;for(;d=h.nextNode();)d.setAttribute(u,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function GE(t){const e=mt(),n=e&&e.ce;return n||null}function LS(){const t=GE();return t&&t.shadowRoot}function FS(t="$style"){{const e=mt();if(!e)return Te;const n=e.type.__cssModules;if(!n)return Te;const r=n[t];return r||Te}}const QE=new WeakMap,YE=new WeakMap,Cc=Symbol("_moveCb"),Am=Symbol("_enterCb"),US=t=>(delete t.props.mode,t),$S=US({name:"TransitionGroup",props:Ve({},$E,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=mt(),r=wf();let s,i;return yl(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!WS(s[0].el,n.vnode.el,o)){s=[];return}s.forEach(jS),s.forEach(BS);const a=s.filter(qS);yh(),a.forEach(l=>{const u=l.el,h=u.style;In(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const d=u[Cc]=p=>{p&&p.target!==u||(!p||p.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",d),u[Cc]=null,Rr(u,o))};u.addEventListener("transitionend",d)}),s=[]}),()=>{const o=be(t),a=jE(o);let l=o.tag||lt;if(s=[],i)for(let u=0;u<i.length;u++){const h=i[u];h.el&&h.el instanceof Element&&(s.push(h),tr(h,ai(h,a,r,n)),QE.set(h,h.el.getBoundingClientRect()))}i=e.default?gl(e.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null&&tr(h,ai(h,a,r,n))}return Ke(l,null,i)}}}),HS=$S;function jS(t){const e=t.el;e[Cc]&&e[Cc](),e[Am]&&e[Am]()}function BS(t){YE.set(t,t.el.getBoundingClientRect())}function qS(t){const e=QE.get(t),n=YE.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function WS(t,e,n){const r=t.cloneNode(),s=t[li];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=BE(r);return i.removeChild(r),o}const Wr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>gs(e,n):e};function KS(t){t.target.composing=!0}function bm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cn=Symbol("_assign"),kc={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[cn]=Wr(s);const i=r||s.props&&s.props.type==="number";Kn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=ko(a)),t[cn](a)}),n&&Kn(t,"change",()=>{t.value=t.value.trim()}),e||(Kn(t,"compositionstart",KS),Kn(t,"compositionend",bm),Kn(t,"change",bm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[cn]=Wr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?ko(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},$f={deep:!0,created(t,e,n){t[cn]=Wr(n),Kn(t,"change",()=>{const r=t._modelValue,s=ui(t),i=t.checked,o=t[cn];if(ne(r)){const a=ra(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Xr(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(XE(t,i))})},mounted:Rm,beforeUpdate(t,e,n){t[cn]=Wr(n),Rm(t,e,n)}};function Rm(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(ne(e))s=ra(e,r.props.value)>-1;else if(Xr(e))s=e.has(r.props.value);else{if(e===n)return;s=Xn(e,XE(t,!0))}t.checked!==s&&(t.checked=s)}const Hf={created(t,{value:e},n){t.checked=Xn(e,n.props.value),t[cn]=Wr(n),Kn(t,"change",()=>{t[cn](ui(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[cn]=Wr(r),e!==n&&(t.checked=Xn(e,r.props.value))}},JE={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Xr(e);Kn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?ko(ui(o)):ui(o));t[cn](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,qr(()=>{t._assigning=!1})}),t[cn]=Wr(r)},mounted(t,{value:e}){Sm(t,e)},beforeUpdate(t,e,n){t[cn]=Wr(n)},updated(t,{value:e}){t._assigning||Sm(t,e)}};function Sm(t,e){const n=t.multiple,r=ne(e);if(!(n&&!r&&!Xr(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=ui(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=ra(e,a)>-1}else o.selected=e.has(a);else if(Xn(ui(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ui(t){return"_value"in t?t._value:t.value}function XE(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const ZE={created(t,e,n){$a(t,e,n,null,"created")},mounted(t,e,n){$a(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){$a(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){$a(t,e,n,r,"updated")}};function ev(t,e){switch(t){case"SELECT":return JE;case"TEXTAREA":return kc;default:switch(e){case"checkbox":return $f;case"radio":return Hf;default:return kc}}}function $a(t,e,n,r,s){const o=ev(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}function zS(){kc.getSSRProps=({value:t})=>({value:t}),Hf.getSSRProps=({value:t},e)=>{if(e.props&&Xn(e.props.value,t))return{checked:!0}},$f.getSSRProps=({value:t},e)=>{if(ne(t)){if(e.props&&ra(t,e.props.value)>-1)return{checked:!0}}else if(Xr(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},ZE.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=ev(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const GS=["ctrl","shift","alt","meta"],QS={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>GS.some(n=>t[`${n}Key`]&&!e.includes(n))},YS=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=QS[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},JS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},XS=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=Ot(s.key);if(e.some(o=>o===i||JS[o]===i))return t(s)}))},tv=Ve({patchProp:DS},gS);let vo,Pm=!1;function nv(){return vo||(vo=fE(tv))}function rv(){return vo=Pm?vo:dE(tv),Pm=!0,vo}const sv=((...t)=>{nv().render(...t)}),ZS=((...t)=>{rv().hydrate(...t)}),Nc=((...t)=>{const e=nv().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=ov(r);if(!s)return;const i=e._component;!le(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,iv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e}),jf=((...t)=>{const e=rv().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=ov(r);if(s)return n(s,!0,iv(s))},e});function iv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ov(t){return Oe(t)?document.querySelector(t):t}let Cm=!1;const eP=()=>{Cm||(Cm=!0,zS(),TS())},VF=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Wy,BaseTransitionPropsValidators:If,Comment:et,DeprecationTypes:dS,EffectScope:df,ErrorCodes:bb,ErrorTypeStrings:oS,Fragment:lt,KeepAlive:zy,ReactiveEffect:Oo,Static:vs,Suspense:Mf,Teleport:Vb,Text:Fr,TrackOpTypes:yb,Transition:HE,TransitionGroup:HS,TriggerOpTypes:Eb,VueElement:Il,assertNumber:Ab,callWithAsyncErrorHandling:hn,callWithErrorHandling:Ri,camelize:pt,capitalize:Ii,cloneVNode:nn,compatUtils:fS,computed:He,createApp:Nc,createBlock:Sn,createCommentVNode:ec,createElementBlock:Ac,createElementVNode:wl,createHydrationRenderer:dE,createPropsRestProxy:_R,createRenderer:fE,createSSRApp:jf,createSlots:nR,createStaticVNode:CE,createTextVNode:Ff,createVNode:Ke,customRef:Ny,defineAsyncComponent:xe,defineComponent:lr,defineCustomElement:zE,defineEmits:aR,defineExpose:cR,defineModel:hR,defineOptions:lR,defineProps:oR,defineSSRCustomElement:xS,defineSlots:uR,devtools:aS,effect:jA,effectScope:dy,getCurrentInstance:mt,getCurrentScope:sa,getCurrentWatcher:vb,getTransitionRawChildren:gl,guardReactiveProps:Lf,h:rt,handleError:Os,hasInjectionContext:oa,hydrate:ZS,hydrateOnIdle:qb,hydrateOnInteraction:Gb,hydrateOnMediaQuery:zb,hydrateOnVisible:Kb,initCustomFormatter:rS,initDirectivesForSSR:eP,inject:wt,isMemoSame:ME,isProxy:dl,isReactive:Mr,isReadonly:Vn,isRef:Je,isRuntimeOnly:eS,isShallow:en,isVNode:nr,markRaw:Cy,mergeDefaults:mR,mergeModels:gR,mergeProps:kE,nextTick:qr,normalizeClass:bi,normalizeProps:uf,normalizeStyle:Ai,onActivated:bf,onBeforeMount:Qy,onBeforeUnmount:Si,onBeforeUpdate:Sf,onDeactivated:Rf,onErrorCaptured:Pf,onMounted:xn,onRenderTracked:Xy,onRenderTriggered:Jy,onScopeDispose:oi,onServerPrefetch:Yy,onUnmounted:El,onUpdated:yl,onWatcherCleanup:Dy,openBlock:Ht,popScopeId:kb,provide:Es,proxyRefs:Ef,pushScopeId:Cb,queuePostFlushCb:xo,reactive:Ln,readonly:_f,ref:Be,registerRuntimeCompiler:ZR,render:sv,renderList:tR,renderSlot:rR,resolveComponent:Zb,resolveDirective:eR,resolveDynamicComponent:eE,resolveFilter:hS,resolveTransitionHooks:ai,setBlockTracking:$o,setDevtoolsHook:cS,setTransitionHooks:tr,shallowReactive:Pn,shallowReadonly:cb,shallowRef:tn,ssrContextKey:_E,ssrUtils:uS,stop:BA,toDisplayString:ff,toHandlerKey:Js,toHandlers:sR,toRaw:be,toRef:vf,toRefs:db,toValue:yf,transformVNodeArgs:GR,triggerRef:ub,unref:$e,useAttrs:pR,useCssModule:FS,useCssVars:wS,useHost:GE,useId:Mb,useModel:xR,useSSRContext:yE,useShadowRoot:LS,useSlots:dR,useTemplateRef:Lb,useTransitionState:wf,vModelCheckbox:$f,vModelDynamic:ZE,vModelRadio:Hf,vModelSelect:JE,vModelText:kc,vShow:WE,version:LE,warn:iS,watch:an,watchEffect:EE,watchPostEffect:DR,watchSyncEffect:vE,withAsyncContext:yR,withCtx:ml,withDefaults:fR,withDirectives:Ob,withKeys:XS,withMemo:sS,withModifiers:YS,withScopeId:Nb},Symbol.toStringTag,{value:"Module"})),tP=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,nP=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,rP=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function sP(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){iP(t);return}return e}function iP(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Oc(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!rP.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(tP.test(t)||nP.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,sP)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const av=/#/g,cv=/&/g,lv=/\//g,oP=/=/g,aP=/\?/g,Al=/\+/g,cP=/%5e/gi,lP=/%60/gi,uP=/%7c/gi,hP=/%20/gi,fP=/%252f/gi;function uv(t){return encodeURI(""+t).replace(uP,"|")}function vh(t){return uv(typeof t=="string"?t:JSON.stringify(t)).replace(Al,"%2B").replace(hP,"+").replace(av,"%23").replace(cv,"%26").replace(lP,"`").replace(cP,"^").replace(lv,"%2F")}function ku(t){return vh(t).replace(oP,"%3D")}function dP(t){return uv(t).replace(av,"%23").replace(aP,"%3F").replace(fP,"%2F").replace(cv,"%26").replace(Al,"%2B")}function xF(t){return dP(t).replace(lv,"%2F")}function Dc(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function pP(t){return Dc(t.replace(Al," "))}function mP(t){return Dc(t.replace(Al," "))}function hv(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=pP(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=mP(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function gP(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${ku(t)}=${vh(n)}`).join("&"):`${ku(t)}=${vh(e)}`:ku(t)}function _P(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>gP(e,t[e])).filter(Boolean).join("&")}const yP=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,fv=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,EP=/^([/\\]\s*){2,}[^/\\]/,vP=/^[\s\0]*(blob|data|javascript|vbscript):$/i,TP=/\/$|\/\?|\/#/,wP=/^\.?\//;function Ds(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?yP.test(t):fv.test(t)||(e.acceptRelative?EP.test(t):!1)}function IP(t){return!!t&&vP.test(t)}function Th(t="",e){return e?TP.test(t):t.endsWith("/")}function Vc(t="",e){if(!e)return(Th(t)?t.slice(0,-1):t)||"/";if(!Th(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function AP(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Th(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function bP(t=""){return t.startsWith("/")}function MF(t=""){return bP(t)?t:"/"+t}function RP(t,e){if(dv(e)||Ds(t))return t;const n=Vc(e);return t.startsWith(n)?t:pv(n,t)}function km(t,e){if(dv(e))return t;const n=Vc(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function Bf(t,e){const n=_v(t),r={...hv(n.search),...e};return n.search=_P(r),NP(n)}function dv(t){return!t||t==="/"}function SP(t){return t&&t!=="/"}function pv(t,...e){let n=t||"";for(const r of e.filter(s=>SP(s)))if(n){const s=r.replace(wP,"");n=AP(n)+s}else n=r;return n}function mv(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&Ds(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function PP(t){return CP(t,"https://")}function CP(t,e){let n=t.match(fv);return n||(n=t.match(/^\/{2,}/)),n?e+t.slice(n[0].length):e+t}function kP(t,e){return Dc(Vc(t))===Dc(Vc(e))}const gv=Symbol.for("ufo:protocolRelative");function _v(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,p=""]=n;return{protocol:d.toLowerCase(),pathname:p,href:d+p,auth:"",host:"",search:"",hash:""}}if(!Ds(t,{acceptRelative:!0}))return Nm(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:h}=Nm(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:u,hash:h,[gv]:!r}}function Nm(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function NP(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[gv]?(t.protocol||"")+"//":"")+s+i+e+n+r}class OP extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function DP(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new OP(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[u]}});return a}const VP=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Om(t="GET"){return VP.has(t.toUpperCase())}function xP(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const MP=new Set(["image/svg","application/xml","application/xhtml","application/html"]),LP=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function FP(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return LP.test(e)?"json":MP.has(e)||e.startsWith("text/")?"text":"blob"}function UP(t,e,n,r){const s=$P(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function $P(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Ha(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const HP=new Set([408,409,425,429,500,502,503,504]),jP=new Set([101,204,205,304]);function yv(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let h;typeof a.options.retry=="number"?h=a.options.retry:h=Om(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(h>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):HP.has(d))){const p=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return p>0&&await new Promise(g=>setTimeout(g,p)),i(a.request,{...a.options,retry:h-1})}}const u=DP(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(l,u={}){const h={request:l,options:UP(l,u,t.defaults,n),response:void 0,error:void 0};h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&await Ha(h,h.options.onRequest),typeof h.request=="string"&&(h.options.baseURL&&(h.request=RP(h.request,h.options.baseURL)),h.options.query&&(h.request=Bf(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&Om(h.options.method)&&(xP(h.options.body)?(h.options.body=typeof h.options.body=="string"?h.options.body:JSON.stringify(h.options.body),h.options.headers=new n(h.options.headers||{}),h.options.headers.has("content-type")||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")):("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half")));let d;if(!h.options.signal&&h.options.timeout){const g=new r;d=setTimeout(()=>{const _=new Error("[TimeoutError]: The operation was aborted due to timeout");_.name="TimeoutError",_.code=23,g.abort(_)},h.options.timeout),h.options.signal=g.signal}try{h.response=await e(h.request,h.options)}catch(g){return h.error=g,h.options.onRequestError&&await Ha(h,h.options.onRequestError),await s(h)}finally{d&&clearTimeout(d)}if((h.response.body||h.response._bodyInit)&&!jP.has(h.response.status)&&h.options.method!=="HEAD"){const g=(h.options.parseResponse?"json":h.options.responseType)||FP(h.response.headers.get("content-type")||"");switch(g){case"json":{const _=await h.response.text(),E=h.options.parseResponse||Oc;h.response._data=E(_);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[g]()}}return h.options.onResponse&&await Ha(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await Ha(h,h.options.onResponseError),await s(h)):h.response},o=async function(l,u){return(await i(l,u))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},l={})=>yv({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const xc=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),BP=xc.fetch?(...t)=>xc.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),qP=xc.Headers,WP=xc.AbortController,KP=yv({fetch:BP,Headers:qP,AbortController:WP}),zP=KP,GP=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,qf=()=>GP().app,QP=()=>qf().baseURL,YP=()=>qf().buildAssetsDir,Wf=(...t)=>mv(Ev(),YP(),...t),Ev=(...t)=>{const e=qf(),n=e.cdnURL||e.baseURL;return t.length?mv(n,...t):n};globalThis.__buildAssetsURL=Wf,globalThis.__publicAssetsURL=Ev;globalThis.$fetch||(globalThis.$fetch=zP.create({baseURL:QP()}));"global"in globalThis||(globalThis.global=globalThis);function wh(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?wh(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const JP={run:t=>t()},XP=()=>JP,vv=typeof console.createTask<"u"?console.createTask:XP;function ZP(t,e){const n=e.shift(),r=vv(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function e0(t,e){const n=e.shift(),r=vv(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function Nu(t,e){for(const n of[...t])n(e)}class t0{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=wh(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=wh(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(ZP,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(e0,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Nu(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&Nu(this._after,s)}):(this._after&&s&&Nu(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function Tv(){return new t0}function n0(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},u=()=>e===o?l:void 0;Ih.add(u);try{const h=s?s.run(o,a):a();return n||(e=void 0),await h}finally{Ih.delete(u)}}}}function r0(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=n0({...t,...r})),e[n]}}}const Mc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Dm="__unctx__",s0=Mc[Dm]||(Mc[Dm]=r0()),i0=(t,e={})=>s0.get(t,e),Vm="__unctx_async_handlers__",Ih=Mc[Vm]||(Mc[Vm]=new Set);function ti(t){const e=[];for(const s of Ih){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const xm=!1,o0=!1,Mm={id:"__nuxt-loader"},LF={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},FF={deep:!1},a0="#__nuxt",wv="nuxt-app",Lm=36e5,c0="vite:preloadError";function Iv(t=wv){return i0(t,{asyncContext:!1})}const l0="__nuxt_plugin";function u0(t){let e=0;const n={_id:t.id||wv||"nuxt-app",_scope:dy(),provide:void 0,versions:{get nuxt(){return"4.1.2"},get vue(){return n.vueApp.version}},payload:Pn({...t.ssrContext?.payload||{},data:Pn({}),state:Ln({}),once:new Set,_errors:Pn({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!sa()?n._scope.run(()=>Fm(n,s)):Fm(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Pn({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=Tv(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;ja(n,o,i),ja(n.vueApp.config.globalProperties,o,i)},ja(n.vueApp,"$nuxt",n),ja(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(c0,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=ze;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function h0(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function f0(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function d0(t,e){const n=new Set,r=[],s=[];let i,o=0;async function a(l){const u=l.dependsOn?.filter(h=>e.some(d=>d._name===h)&&!n.has(h))??[];if(u.length>0)r.push([new Set(u),l]);else{const h=f0(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([d,p])=>{d.has(l._name)&&(d.delete(l._name),d.size===0&&(o++,await a(p)))})))}).catch(d=>{if(!l.parallel&&!t.payload.error)throw d;i||=d});l.parallel?s.push(h):await h}}for(const l of e)h0(t,l);for(const l of e)await a(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw t.payload.error||i}function zt(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[l0]:!0,_name:e})}function Fm(t,e,n){const r=()=>e();return Iv(t._id).set(t),t.vueApp.runWithContext(r)}function p0(t){let e;return oa()&&(e=mt()?.appContext.app.$nuxt),e||=Iv(t).tryUse(),e||null}function ze(t){const e=p0(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function la(t){return ze().$config}function ja(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function m0(t,e){return{ctx:{table:t},matchAll:n=>bv(n,t)}}function Av(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,Av(s)])):new Map(Object.entries(t[n]));return e}function g0(t){return m0(Av(t))}function bv(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Um(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Um(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...bv(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Um(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function Ou(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Ah(t,e,n=".",r){if(!Ou(e))return Ah(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Ou(o)&&Ou(s[i])?s[i]=Ah(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function _0(t){return(...e)=>e.reduce((n,r)=>Ah(n,r,"",t),{})}const bl=_0();function y0(t,e){try{return e in t}catch{return!1}}class $m extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:bh(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=Rv(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function E0(t){if(typeof t=="string")return new $m(t);if(v0(t))return t;const e=new $m(t.message??t.statusMessage??"",{cause:t.cause||t});if(y0(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=bh(t.statusCode,e.statusCode):t.status&&(e.statusCode=bh(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;Rv(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function v0(t){return t?.constructor?.__h3_error__===!0}const T0=/[^\u0009\u0020-\u007E]/g;function Rv(t=""){return t.replace(T0,"")}function bh(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const w0=Symbol("layout-meta"),Rl=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Wt=()=>ze()?.$router,Kf=()=>oa()?wt(Rl,ze()._route):ze()._route;const I0=()=>{try{if(ze()._processingMiddleware)return!0}catch{return!1}return!1},UF=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?A0(t):Wt().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:u={}}=e.open,h=[];for(const[d,p]of Object.entries(u))p!==void 0&&h.push(`${d.toLowerCase()}=${p}`);return open(n,l,h.join(", ")),Promise.resolve()}const r=Ds(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&IP(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=I0();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:u,hash:h}=_v(t);return{path:l,...u&&{query:hv(u)},...h&&{hash:h},replace:!0}}return{...t,replace:!0}}return t}const o=Wt(),a=ze();return s?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function A0(t){return Bf(t.path||"",t.query||{})+(t.hash||"")}const Sv="__nuxt_error",Sl=()=>vf(ze().payload,"error"),ls=t=>{const e=Ts(t);try{const n=ze(),r=Sl();n.hooks.callHook("app:error",e),r.value||=e}catch{throw e}return e},b0=async(t={})=>{const e=ze(),n=Sl();e.callHook("app:error:cleared",t),t.redirect&&await Wt().replace(t.redirect),n.value=void 0},Pv=t=>!!t&&typeof t=="object"&&Sv in t,Ts=t=>{const e=E0(t);return Object.defineProperty(e,Sv,{value:!0,configurable:!1,writable:!1}),e};function R0(t){const e=P0(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const S0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function P0(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=S0.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const C0=-1,k0=-2,N0=-3,O0=-4,D0=-5,V0=-6;function x0(t,e){return M0(JSON.parse(t),e)}function M0(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===C0)return;if(i===N0)return NaN;if(i===O0)return 1/0;if(i===D0)return-1/0;if(i===V0)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],u=e?.[l];if(u)return r[i]=u(s(a[1]));switch(l){case"Date":r[i]=new Date(a[1]);break;case"Set":const h=new Set;r[i]=h;for(let g=1;g<a.length;g+=1)h.add(s(a[g]));break;case"Map":const d=new Map;r[i]=d;for(let g=1;g<a.length;g+=2)d.set(s(a[g]),s(a[g+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const p=Object.create(null);r[i]=p;for(let g=1;g<a.length;g+=2)p[a[g]]=s(a[g+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const g=globalThis[l],_=new g(s(a[1]));r[i]=a[2]!==void 0?_.subarray(a[2],a[3]):_;break}case"ArrayBuffer":{const g=a[1],_=R0(g);r[i]=_;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const g=l.slice(9);r[i]=Temporal[g].from(a[1]);break}case"URL":{const g=new URL(a[1]);r[i]=g;break}case"URLSearchParams":{const g=new URLSearchParams(a[1]);r[i]=g;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[i]=l;for(let u=0;u<a.length;u+=1){const h=a[u];h!==k0&&(l[u]=s(h))}}else{const l={};r[i]=l;for(const u in a){if(u==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const h=a[u];l[u]=s(h)}}return r[i]}return s(0)}const L0=new Set(["link","style","script","noscript"]),F0=new Set(["title","titleTemplate","script","style","noscript"]),Hm=new Set(["base","meta","link","style","script","noscript"]),U0=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),$0=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),H0=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),j0=new Set(["onload","onerror"]),B0=new Set(["templateParams","htmlAttrs","bodyAttrs"]),zf=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),Ho={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},q0={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},Cv={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${zn(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?zn(t):`${zn(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${zn(t)} ${e}`}},charset:{}};function zn(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:Ho.META.has(e.slice(0,n))||Ho.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function kv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function Rh(t){return Array.isArray(t)?t.map(Rh):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[zn(e),Rh(n)]))}function Nv(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([o,a])=>{if(i){const u=i({key:o,value:a});if(u!==void 0)return u}const l=typeof a=="object"?Nv(a,e):typeof a=="number"?a.toString():typeof a=="string"&&s?`${s}${a.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:a;return`${o}${r}${l}`}).join(n)}function jm(t,e){const n=kv(e),r=zn(t),s=Ov(r);if(!zf.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([o,a])=>[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return Lc(i||{}).sort((o,a)=>(o[s]?.length||0)-(a[s]?.length||0))}function Ov(t){if(Cv[t]?.metaKey==="http-equiv"||Ho.HTTP_EQUIV.has(t))return"http-equiv";const e=zn(t),n=e.indexOf(":");return n===-1?"name":Ho.OG.has(e.slice(0,n))?"property":"name"}function W0(t){return q0[t]||zn(t)}function K0(t,e){return e==="refresh"?`${t.seconds};url=${t.url}`:Nv(Rh(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:n,key:r})=>n===null?"":typeof n=="boolean"?r:void 0,...Cv[e]?.unpack})}function Lc(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of i)if(typeof o=="object"&&o!==null){const a=[],l=[];for(const[u,h]of Object.entries(o)){const d=`${s}${u==="url"?"":`:${u}`}`,p=Lc({[d]:h});(u==="url"?a:l).push(...p)}e.push(...a,...l)}else e.push(...typeof o=="string"?Lc({[s]:o}):jm(s,o));continue}if(typeof i=="object"&&i)if(Ho.MEDIA.has(s)){const o=s.startsWith("twitter")?"twitter":"og",a=s.replace(/^(og|twitter)/,"").toLowerCase(),l=o==="twitter"?"name":"property";i.url&&e.push({[l]:`${o}:${a}`,content:i.url}),i.secureUrl&&e.push({[l]:`${o}:${a}:secure_url`,content:i.secureUrl});for(const[u,h]of Object.entries(i))u!=="url"&&u!=="secureUrl"&&e.push({[l]:`${o}:${a}:${u}`,content:h})}else zf.has(zn(s))?e.push(...jm(s,i)):n[s]=kv(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const o=Ov(s),a=W0(s),l=i===null?"_null":typeof i=="object"?K0(i,s):typeof i=="number"?i.toString():i;return o==="http-equiv"?{"http-equiv":a,content:l}:{[o]:a,content:l}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const z0={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(Lc(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}},G0=["name","property","http-equiv"],Q0=new Set(["viewport","description","keywords","robots"]);function Dv(t){const e=t.split(":");return e.length?zf.has(e[1]):!1}function Sh(t){const{props:e,tag:n}=t;if($0.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of G0)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=Q0.has(s),l=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(F0.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function Bm(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function Fc(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>Fc(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=Fc(s[o],e,o);return i}return s}function Y0(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(l=>l.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function Vv(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=Y0(n,r);return}if(H0.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function J0(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=Vv({tag:t,props:{}},n);return r.key&&L0.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function X0(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=Fc(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(J0(s,o))}),r.flat()}const qm=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Wm={base:-10,title:10},Z0={critical:-8,high:-1,low:2},Km={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},eC=/@import/,to=t=>t===""||t===!0;function tC(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=Z0[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Km;if(e.tag in Wm)n=Wm[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=Km.meta[i])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?to(e.props.async)?n=s.script.async:e.props.src&&!to(e.props.defer)&&!to(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=s.script.sync:to(e.props.defer)&&e.props.src&&!to(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&eC.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function zm(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function nC(t={}){const e=Tv();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>zm(o,a),push(a,l){const u={...l||{}};delete u.head;const h=u._index??o._entryCount++,d={_i:h,input:a,options:u},p={_poll(g=!1){o.dirty=!0,!g&&i.add(h),e.callHook("entries:updated",o)},dispose(){r.delete(h)&&o.invalidate()},patch(g){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(d.input=g,r.set(h,d),p._poll())}};return p.patch(a),p},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const p=i.values().next().value;i.delete(p);const g=r.get(p);if(g){const _={tags:X0(g.input,t.propResolvers||[]).map(E=>Object.assign(E,g.options)),entry:g};await e.callHook("entries:normalize",_),g._tags=_.tags.map((E,R)=>(E._w=tC(o,E),E._p=(g._i<<10)+R,E._d=Sh(E),E))}}let l=!1;a.entries.flatMap(p=>(p._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(qm).reduce((p,g)=>{const _=String(g._d||g._p);if(!p.has(_))return p.set(_,g);const E=p.get(_);if((g?.tagDuplicateStrategy||(B0.has(g.tag)?"merge":null)||(g.key&&g.key===E.key?"merge":null))==="merge"){const D={...E.props};Object.entries(g.props).forEach(([N,w])=>D[N]=N==="style"?new Map([...E.props.style||new Map,...w]):N==="class"?new Set([...E.props.class||new Set,...w]):w),p.set(_,{...g,props:D})}else g._p>>10===E._p>>10&&g.tag==="meta"&&Dv(_)?(p.set(_,Object.assign([...Array.isArray(E)?E:[E],g],g)),l=!0):(g._w===E._w?g._p>E._p:g?._w<E?._w)&&p.set(_,g);return p},a.tagMap);const u=a.tagMap.get("title"),h=a.tagMap.get("titleTemplate");if(o._title=u?.textContent,h){const p=h?.textContent;if(o._titleTemplate=p,p){let g=typeof p=="function"?p(u?.textContent):p;typeof g=="string"&&!o.plugins.has("template-params")&&(g=g.replace("%s",u?.textContent||"")),u?g===null?a.tagMap.delete("title"):a.tagMap.set("title",{...u,textContent:g}):(h.tag="title",h.textContent=g)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(qm)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const d=[];for(const p of a.tags){const{innerHTML:g,tag:_,props:E}=p;if(U0.has(_)&&!(Object.keys(E).length===0&&!p.innerHTML&&!p.textContent)&&!(_==="meta"&&!E.content&&!E["http-equiv"]&&!E.charset)){if(_==="script"&&g){if(E.type?.endsWith("json")){const R=typeof g=="string"?g:JSON.stringify(g);p.innerHTML=R.replace(/</g,"\\u003C")}else typeof g=="string"&&(p.innerHTML=g.replace(new RegExp(`</${_}`,"g"),`<\\/${_}`));p._d=Sh(p)}d.push(p)}}return d},invalidate(){for(const a of r.values())i.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>zm(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}function rC(t={}){const e=[];let n=-1;const r=(s=!1)=>({get(i,o,a){if(!s){const l=Reflect.get(i,o,a);if(typeof l<"u")return l;n++,e[n]=[]}return e[n].push({type:"get",key:o}),new Proxy(()=>{},r(!0))},apply(i,o,a){e[n].push({type:"apply",key:"",args:a})}});return{proxy:new Proxy(t||{},r()),stack:e}}function sC(t){const e={get(n,r,s){const i=Reflect.get(n,r,s);return typeof i=="object"?new Proxy(i,e):i},apply(n,r,s){Reflect.apply(n,r,s)}};return new Proxy(t,e)}function iC(t,e){e.forEach(n=>{let r=t,s=t;n.forEach(({type:i,key:o,args:a})=>{i==="get"?(s=r,r=r[o]):i==="apply"&&(r=r.call(s,...a))})})}function oC(t){return t.key||t.src||(typeof t.innerHTML=="string"?t.innerHTML:"")}const aC=["preconnect","dns-prefetch"];function cC(t,e,n){const r=typeof e=="string"?{src:e}:e,s=n||{},i=oC(r),o=t._scripts?.[i];if(o)return o.setupTriggerHandler(s.trigger),o;s.beforeInit?.();const a=_=>{p.status=_,t.hooks.callHook("script:updated",g)};j0.forEach(_=>{const E=_,R=typeof r[E]=="function"?r[E].bind(s.eventContext):null;r[E]=D=>{a(_==="onload"?"loaded":_==="onerror"?"error":"loading"),R?.(D)}});const l={loaded:[],error:[]},u=new Set,h=(_,E,R)=>{if(!t.ssr){if(R?.key){const D=`${R?.key}:${R.key}`;if(u.has(D))return;u.add(D)}if(l[_]){const D=l[_].push(E);return()=>l[_]?.splice(D-1,1)}return E(p.instance),()=>{}}},d=new Promise(_=>{if(t.ssr)return;const E=D=>requestAnimationFrame(()=>_(D)),R=t.hooks.hook("script:updated",({script:D})=>{const N=D.status;if(D.id===i&&(N==="loaded"||N==="error")){if(N==="loaded")if(typeof s.use=="function"){const w=s.use();w&&E(w)}else E({});else N==="error"&&_(!1);R()}})}),p={_loadPromise:d,instance:!t.ssr&&s?.use?.()||null,proxy:null,id:i,status:"awaitingLoad",remove(){return p._triggerAbortController?.abort(),p._triggerPromises=[],p._warmupEl?.dispose(),p.entry?(p.entry.dispose(),p.entry=void 0,a("removed"),delete t._scripts?.[i],!0):!1},warmup(_){const{src:E}=r,R=!E.startsWith("/")||E.startsWith("//"),D=_&&aC.includes(_);let N=E;if(!_||D&&!R)return;if(D){const k=new URL(E);N=`${k.protocol}//${k.host}`}const w={href:N,rel:_,crossorigin:typeof r.crossorigin<"u"?r.crossorigin:R?"anonymous":void 0,referrerpolicy:typeof r.referrerpolicy<"u"?r.referrerpolicy:R?"no-referrer":void 0,fetchpriority:typeof r.fetchpriority<"u"?r.fetchpriority:"low",integrity:r.integrity,as:_==="preload"?"script":void 0};return p._warmupEl=t.push({link:[w]},{head:t,tagPriority:"high"}),p._warmupEl},load(_){if(p._triggerAbortController?.abort(),p._triggerPromises=[],!p.entry){a("loading");const E={defer:!0,fetchpriority:"low"};r.src&&(r.src.startsWith("http")||r.src.startsWith("//"))&&(E.crossorigin="anonymous",E.referrerpolicy="no-referrer"),p.entry=t.push({script:[{...E,...r}]},s)}return _&&h("loaded",_),d},onLoaded(_,E){return h("loaded",_,E)},onError(_,E){return h("error",_,E)},setupTriggerHandler(_){if(p.status==="awaitingLoad")if((typeof _>"u"||_==="client")&&!t.ssr||_==="server")p.load();else if(_ instanceof Promise){if(t.ssr)return;p._triggerAbortController||(p._triggerAbortController=new AbortController,p._triggerAbortPromise=new Promise(R=>{p._triggerAbortController.signal.addEventListener("abort",()=>{p._triggerAbortController=null,R()})})),p._triggerPromises=p._triggerPromises||[];const E=p._triggerPromises.push(Promise.race([_.then(R=>typeof R>"u"||R?p.load:void 0),p._triggerAbortPromise]).catch(()=>{}).then(R=>{R?.()}).finally(()=>{p._triggerPromises?.splice(E,1)}))}else typeof _=="function"&&_(p.load)},_cbs:l};d.then(_=>{_!==!1?(p.instance=_,l.loaded?.forEach(E=>E(_)),l.loaded=null):(l.error?.forEach(E=>E()),l.error=null)});const g={script:p};if(p.setupTriggerHandler(s.trigger),s.use){const{proxy:_,stack:E}=rC(t.ssr?{}:s.use()||{});p.proxy=_,p.onLoaded(R=>{iC(R,E),p.proxy=sC(R)})}return!s.warmupStrategy&&(typeof s.trigger>"u"||s.trigger==="client")&&(s.warmupStrategy="preload"),s.warmupStrategy&&p.warmup(s.warmupStrategy),t._scripts=Object.assign(t._scripts||{},{[i]:p}),p}const lC=(t,e)=>Je(e)?yf(e):e,Gf="usehead";function uC(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Gf,t)}}.install}function Qf(){if(oa()){const t=wt(Gf);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function xv(t,e={}){const n=e.head||Qf();return n.ssr?n.push(t||{},e):hC(n,t,e)}function hC(t,e,n={}){const r=Be(!1);let s;return EE(()=>{const o=r.value?{}:Fc(e,lC);s?s.patch(o):s=t.push(o,n)}),mt()&&(Si(()=>{s.dispose()}),Rf(()=>{r.value=!0}),bf(()=>{r.value=!1})),s}function fC(t={},e={}){(e.head||Qf()).use(z0);const{title:r,titleTemplate:s,...i}=t;return xv({title:r,titleTemplate:s,_flatMeta:i},e)}function dC(t,e){if(!e)return;const n=(r,s)=>{if(!t._cbs[r])return s(t.instance),()=>{};let i=t._cbs[r].push(s);const o=()=>{i&&(t._cbs[r]?.splice(i-1,1),i=null)};return oi(o),o};t.onLoaded=r=>n("loaded",r),t.onError=r=>n("error",r),oi(()=>{t._triggerAbortController?.abort()})}function pC(t,e){const n=typeof t=="string"?{src:t}:t,r=e||{},s=r?.head||Qf();r.head=s;const i=mt();if(r.eventContext=i,i&&typeof r.trigger>"u")r.trigger=xn;else if(Je(r.trigger)){const a=r.trigger;let l;r.trigger=new Promise(u=>{l=an(a,h=>{h&&u(!0)},{immediate:!0}),oi(()=>u(!1),!0)}).then(u=>(l?.(),u))}s._scriptStatusWatcher=s._scriptStatusWatcher||s.hooks.hook("script:updated",({script:a})=>{a._statusRef.value=a.status});const o=cC(s,n,r);return o._statusRef=o._statusRef||Be(o.status),dC(o,i),new Proxy(o,{get(a,l,u){return Reflect.get(a,l==="status"?"_statusRef":l,u)}})}function Pl(t){const e=t||ze();return e.ssrContext?.head||e.runWithContext(()=>{if(oa()){const n=wt(Gf);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function Mv(t,e={}){const n=Pl(e.nuxt);return xv(t,{head:n,...e})}function $F(t,e={}){const n=Pl(e.nuxt);return fC(t,{head:n,...e})}const mC="modulepreload",gC=function(t,e){return new URL(t,e).href},Gm={},ce=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=u(n.map(h=>{if(h=gC(h,r),h in Gm)return;Gm[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(r)for(let _=o.length-1;_>=0;_--){const E=o[_];if(E.href===h&&(!d||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":mC,d||(g.as="script"),g.crossOrigin="",g.href=h,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((_,E)=>{g.addEventListener("load",_),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let nc,rc;function _C(){return nc=$fetch(Wf(`builds/meta/${la().app.buildId}.json`),{responseType:"json"}),nc.then(t=>{rc=g0(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),nc}function Lv(){return nc||_C()}async function Fv(t){const e=typeof t=="string"?t:t.path;if(await Lv(),!rc)return console.error("[nuxt] Error creating app manifest matcher.",rc),{};try{return bl({},...rc.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function yC(t){return null}let cs=null;async function EC(){if(cs)return cs;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await vC(t.textContent||""),n=t.dataset.src?await yC(t.dataset.src):void 0;return cs={...e,...n,...window.__NUXT__},cs.config?.public&&(cs.config.public=Ln(cs.config.public)),cs}async function vC(t){return await x0(t,ze()._payloadRevivers)}function TC(t,e){ze()._payloadRevivers[t]=e}const wC=[["NuxtError",t=>Ts(t)],["EmptyShallowRef",t=>tn(t==="_"?void 0:t==="0n"?BigInt(0):Oc(t))],["EmptyRef",t=>Be(t==="_"?void 0:t==="0n"?BigInt(0):Oc(t))],["ShallowRef",t=>tn(t)],["ShallowReactive",t=>Pn(t)],["Ref",t=>Be(t)],["Reactive",t=>Ln(t)]],IC=zt({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of wC)TC(r,s);Object.assign(t.payload,([e,n]=ti(()=>t.runWithContext(EC)),e=await e,n(),e)),delete window.__NUXT__}});async function Yf(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(g=>{t.resolveTags().then(_=>{g(_.map(E=>{const R=i.get(E._d)||0,D={tag:E,id:(R?`${E._d}:${R}`:E._d)||Bm(E),shouldRender:!0};return E._d&&Dv(E._d)&&i.set(E._d,R+1),D}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const g of["body","head"]){const _=n[g]?.children;for(const E of _){const R=E.tagName.toLowerCase();if(!Hm.has(R))continue;const D=Vv({tag:R,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((N,w)=>(N[w]=E.getAttribute(w),N),{})||{}});if(D.key=E.getAttribute("data-hid")||void 0,D._d=Sh(D)||Bm(D),a.elMap.has(D._d)){let N=1,w=D._d;for(;a.elMap.has(w);)w=`${D._d}:${N++}`;a.elMap.set(w,E)}else a.elMap.set(D._d,E)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(g,_,E){const R=`${g}:${_}`;a.sideEffects[R]=E,delete a.pendingSideEffects[R]}function u({id:g,$el:_,tag:E}){const R=E.tag.endsWith("Attrs");a.elMap.set(g,_),R||(E.textContent&&E.textContent!==_.textContent&&(_.textContent=E.textContent),E.innerHTML&&E.innerHTML!==_.innerHTML&&(_.innerHTML=E.innerHTML),l(g,"el",()=>{_?.remove(),a.elMap.delete(g)}));for(const D in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,D))continue;const N=E.props[D];if(D.startsWith("on")&&typeof N=="function"){const k=_?.dataset;if(k&&k[`${D}fired`]){const V=D.slice(0,-5);N.call(_,new Event(V.substring(2)))}_.getAttribute(`data-${D}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:_).addEventListener(D.substring(2),N.bind(_)),_.setAttribute(`data-${D}`,""));continue}const w=`attr:${D}`;if(D==="class"){if(!N)continue;for(const k of N)R&&l(g,`${w}:${k}`,()=>_.classList.remove(k)),!_.classList.contains(k)&&_.classList.add(k)}else if(D==="style"){if(!N)continue;for(const[k,V]of N)l(g,`${w}:${k}`,()=>{_.style.removeProperty(k)}),_.style.setProperty(k,V)}else N!==!1&&N!==null&&(_.getAttribute(D)!==N&&_.setAttribute(D,N===!0?"":String(N)),R&&l(g,w,()=>_.removeAttribute(D)))}}const h=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},p=await o;for(const g of p){const{tag:_,shouldRender:E,id:R}=g;if(E){if(_.tag==="title"){n.title=_.textContent,l("title","",()=>n.title=a.title);continue}g.$el=g.$el||a.elMap.get(R),g.$el?u(g):Hm.has(_.tag)&&h.push(g)}}for(const g of h){const _=g.tag.tagPosition||"head";g.$el=n.createElement(g.tag.tag),u(g),d[_]=d[_]||n.createDocumentFragment(),d[_].appendChild(g.$el)}for(const g of p)await t.hooks.callHook("dom:renderTag",g,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const g in a.pendingSideEffects)a.pendingSideEffects[g]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:p}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function AC(t={}){const e=t.domOptions?.render||Yf;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return nC({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function bC(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function RC(t={}){const e=AC({domOptions:{render:bC(()=>Yf(e),n=>setTimeout(n,0))},...t});return e.install=uC(e),e}const SC={disableDefaults:!0},PC=zt({name:"nuxt:head",enforce:"pre",setup(t){const e=RC(SC);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await Yf(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ws=typeof document<"u";function Uv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function CC(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Uv(t.default)}const ke=Object.assign;function Du(t,e){const n={};for(const r in e){const s=e[r];n[r]=yn(s)?s.map(t):t(s)}return n}const To=()=>{},yn=Array.isArray,$v=/#/g,kC=/&/g,NC=/\//g,OC=/=/g,DC=/\?/g,Hv=/\+/g,VC=/%5B/g,xC=/%5D/g,jv=/%5E/g,MC=/%60/g,Bv=/%7B/g,LC=/%7C/g,qv=/%7D/g,FC=/%20/g;function Jf(t){return encodeURI(""+t).replace(LC,"|").replace(VC,"[").replace(xC,"]")}function UC(t){return Jf(t).replace(Bv,"{").replace(qv,"}").replace(jv,"^")}function Ph(t){return Jf(t).replace(Hv,"%2B").replace(FC,"+").replace($v,"%23").replace(kC,"%26").replace(MC,"`").replace(Bv,"{").replace(qv,"}").replace(jv,"^")}function $C(t){return Ph(t).replace(OC,"%3D")}function HC(t){return Jf(t).replace($v,"%23").replace(DC,"%3F")}function jC(t){return t==null?"":HC(t).replace(NC,"%2F")}function jo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const BC=/\/$/,qC=t=>t.replace(BC,"");function Vu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=GC(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:jo(o)}}function WC(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Qm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function KC(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&hi(e.matched[r],n.matched[s])&&Wv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function hi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Wv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!zC(t[n],e[n]))return!1;return!0}function zC(t,e){return yn(t)?Ym(t,e):yn(e)?Ym(e,t):t===e}function Ym(t,e){return yn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function GC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const sn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bo;(function(t){t.pop="pop",t.push="push"})(Bo||(Bo={}));var wo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(wo||(wo={}));function QC(t){if(!t)if(Ws){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),qC(t)}const YC=/^[^#]+#/;function JC(t,e){return t.replace(YC,"#")+e}function XC(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Cl=()=>({left:window.scrollX,top:window.scrollY});function ZC(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=XC(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Jm(t,e){return(history.state?history.state.position-e:-1)+t}const Ch=new Map;function ek(t,e){Ch.set(t,e)}function tk(t){const e=Ch.get(t);return Ch.delete(t),e}let nk=()=>location.protocol+"//"+location.host;function Kv(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Qm(l,"")}return Qm(n,t)+r+s}function rk(t,e,n,r){let s=[],i=[],o=null;const a=({state:p})=>{const g=Kv(t,location),_=n.value,E=e.value;let R=0;if(p){if(n.value=g,e.value=p,o&&o===_){o=null;return}R=E?p.position-E.position:0}else r(g);s.forEach(D=>{D(n.value,_,{delta:R,type:Bo.pop,direction:R?R>0?wo.forward:wo.back:wo.unknown})})};function l(){o=n.value}function u(p){s.push(p);const g=()=>{const _=s.indexOf(p);_>-1&&s.splice(_,1)};return i.push(g),g}function h(){const{history:p}=window;p.state&&p.replaceState(ke({},p.state,{scroll:Cl()}),"")}function d(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function Xm(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Cl():null}}function sk(t){const{history:e,location:n}=window,r={value:Kv(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const d=t.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:nk()+t+l;try{e[h?"replaceState":"pushState"](u,"",p),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(l,u){const h=ke({},e.state,Xm(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,h,!0),r.value=l}function a(l,u){const h=ke({},s.value,e.state,{forward:l,scroll:Cl()});i(h.current,h,!0);const d=ke({},Xm(r.value,l,null),{position:h.position+1},u);i(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function ik(t){t=QC(t);const e=sk(t),n=rk(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=ke({location:"",base:t,go:r,createHref:JC.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function ok(t){return typeof t=="string"||t&&typeof t=="object"}function zv(t){return typeof t=="string"||typeof t=="symbol"}const Gv=Symbol("");var Zm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Zm||(Zm={}));function fi(t,e){return ke(new Error,{type:t,[Gv]:!0},e)}function Hn(t,e){return t instanceof Error&&Gv in t&&(e==null||!!(t.type&e))}const eg="[^/]+?",ak={sensitive:!1,strict:!1,start:!0,end:!0},ck=/[.+*?^${}()[\]/\\]/g;function lk(t,e){const n=ke({},ak,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const p=u[d];let g=40+(n.sensitive?.25:0);if(p.type===0)d||(s+="/"),s+=p.value.replace(ck,"\\$&"),g+=40;else if(p.type===1){const{value:_,repeatable:E,optional:R,regexp:D}=p;i.push({name:_,repeatable:E,optional:R});const N=D||eg;if(N!==eg){g+=10;try{new RegExp(`(${N})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${_}" (${N}): `+k.message)}}let w=E?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;d||(w=R&&u.length<2?`(?:/${w})`:"/"+w),R&&(w+="?"),s+=w,g+=20,R&&(g+=-8),E&&(g+=-20),N===".*"&&(g+=-50)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const h=u.match(o),d={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",_=i[p-1];d[_.name]=g&&_.repeatable?g.split("/"):g}return d}function l(u){let h="",d=!1;for(const p of t){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const g of p)if(g.type===0)h+=g.value;else if(g.type===1){const{value:_,repeatable:E,optional:R}=g,D=_ in u?u[_]:"";if(yn(D)&&!E)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const N=yn(D)?D.join("/"):D;if(!N)if(R)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);h+=N}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function uk(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Qv(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=uk(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(tg(r))return 1;if(tg(s))return-1}return s.length-r.length}function tg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hk={type:0,value:""},fk=/[a-zA-Z0-9_]/;function dk(t){if(!t)return[[]];if(t==="/")return[[hk]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",h="";function d(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:fk.test(l)?p():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}function pk(t,e,n){const r=lk(dk(t.path),n),s=ke(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function mk(t,e){const n=[],r=new Map;e=ig({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,p,g){const _=!g,E=rg(d);E.aliasOf=g&&g.record;const R=ig(e,d),D=[E];if("alias"in d){const k=typeof d.alias=="string"?[d.alias]:d.alias;for(const V of k)D.push(rg(ke({},E,{components:g?g.record.components:E.components,path:V,aliasOf:g?g.record:E})))}let N,w;for(const k of D){const{path:V}=k;if(p&&V[0]!=="/"){const F=p.record.path,I=F[F.length-1]==="/"?"":"/";k.path=p.record.path+(V&&I+V)}if(N=pk(k,p,R),g?g.alias.push(N):(w=w||N,w!==N&&w.alias.push(N),_&&d.name&&!sg(N)&&o(d.name)),Yv(N)&&l(N),E.children){const F=E.children;for(let I=0;I<F.length;I++)i(F[I],N,g&&g.children[I])}g=g||N}return w?()=>{o(w)}:To}function o(d){if(zv(d)){const p=r.get(d);p&&(r.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const p=yk(d,n);n.splice(p,0,d),d.record.name&&!sg(d)&&r.set(d.record.name,d)}function u(d,p){let g,_={},E,R;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw fi(1,{location:d});R=g.record.name,_=ke(ng(p.params,g.keys.filter(w=>!w.optional).concat(g.parent?g.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),d.params&&ng(d.params,g.keys.map(w=>w.name))),E=g.stringify(_)}else if(d.path!=null)E=d.path,g=n.find(w=>w.re.test(E)),g&&(_=g.parse(E),R=g.record.name);else{if(g=p.name?r.get(p.name):n.find(w=>w.re.test(p.path)),!g)throw fi(1,{location:d,currentLocation:p});R=g.record.name,_=ke({},p.params,d.params),E=g.stringify(_)}const D=[];let N=g;for(;N;)D.unshift(N.record),N=N.parent;return{name:R,path:E,params:_,matched:D,meta:_k(D)}}t.forEach(d=>i(d));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function ng(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function rg(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:gk(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function gk(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function sg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _k(t){return t.reduce((e,n)=>ke(e,n.meta),{})}function ig(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function yk(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Qv(t,e[i])<0?r=i:n=i+1}const s=Ek(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function Ek(t){let e=t;for(;e=e.parent;)if(Yv(e)&&Qv(t,e)===0)return e}function Yv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function vk(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Hv," "),o=i.indexOf("="),a=jo(o<0?i:i.slice(0,o)),l=o<0?null:jo(i.slice(o+1));if(a in e){let u=e[a];yn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function og(t){let e="";for(let n in t){const r=t[n];if(n=$C(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(yn(r)?r.map(i=>i&&Ph(i)):[r&&Ph(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Tk(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=yn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const wk=Symbol(""),ag=Symbol(""),kl=Symbol(""),Xf=Symbol(""),kh=Symbol("");function no(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function kr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(fi(4,{from:n,to:e})):p instanceof Error?l(p):ok(p)?l(fi(2,{from:e,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let d=Promise.resolve(h);t.length<3&&(d=d.then(u)),d.catch(p=>l(p))})}function xu(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Uv(l)){const h=(l.__vccOpts||l)[e];h&&i.push(kr(h,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=CC(h)?h.default:h;o.mods[a]=h,o.components[a]=d;const g=(d.__vccOpts||d)[e];return g&&kr(g,n,r,o,a,s)()}))}}return i}function cg(t){const e=wt(kl),n=wt(Xf),r=He(()=>{const l=$e(t.to);return e.resolve(l)}),s=He(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],d=n.matched;if(!h||!d.length)return-1;const p=d.findIndex(hi.bind(null,h));if(p>-1)return p;const g=lg(l[u-2]);return u>1&&lg(h)===g&&d[d.length-1].path!==g?d.findIndex(hi.bind(null,l[u-2])):p}),i=He(()=>s.value>-1&&Sk(n.params,r.value.params)),o=He(()=>s.value>-1&&s.value===n.matched.length-1&&Wv(n.params,r.value.params));function a(l={}){if(Rk(l)){const u=e[$e(t.replace)?"replace":"push"]($e(t.to)).catch(To);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:He(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Ik(t){return t.length===1?t[0]:t}const Ak=lr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:cg,setup(t,{slots:e}){const n=Ln(cg(t)),{options:r}=wt(kl),s=He(()=>({[ug(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ug(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Ik(e.default(n));return t.custom?i:rt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),bk=Ak;function Rk(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Sk(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!yn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function lg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ug=(t,e,n)=>t??e??n,Pk=lr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=wt(kh),s=He(()=>t.route||r.value),i=wt(ag,0),o=He(()=>{let u=$e(i);const{matched:h}=s.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),a=He(()=>s.value.matched[o.value]);Es(ag,He(()=>o.value+1)),Es(wk,a),Es(kh,s);const l=Be();return an(()=>[l.value,a.value,t.name],([u,h,d],[p,g,_])=>{h&&(h.instances[d]=u,g&&g!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!hi(h,g)||!p)&&(h.enterCallbacks[d]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,d=a.value,p=d&&d.components[h];if(!p)return hg(n.default,{Component:p,route:u});const g=d.props[h],_=g?g===!0?u.params:typeof g=="function"?g(u):g:null,R=rt(p,ke({},_,e,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return hg(n.default,{Component:R,route:u})||R}}});function hg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Jv=Pk;function Ck(t){const e=mk(t.routes,t),n=t.parseQuery||vk,r=t.stringifyQuery||og,s=t.history,i=no(),o=no(),a=no(),l=tn(sn);let u=sn;Ws&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Du.bind(null,H=>""+H),d=Du.bind(null,jC),p=Du.bind(null,jo);function g(H,Z){let Y,ie;return zv(H)?(Y=e.getRecordMatcher(H),ie=Z):ie=H,e.addRoute(ie,Y)}function _(H){const Z=e.getRecordMatcher(H);Z&&e.removeRoute(Z)}function E(){return e.getRoutes().map(H=>H.record)}function R(H){return!!e.getRecordMatcher(H)}function D(H,Z){if(Z=ke({},Z||l.value),typeof H=="string"){const O=Vu(n,H,Z.path),M=e.resolve({path:O.path},Z),B=s.createHref(O.fullPath);return ke(O,M,{params:p(M.params),hash:jo(O.hash),redirectedFrom:void 0,href:B})}let Y;if(H.path!=null)Y=ke({},H,{path:Vu(n,H.path,Z.path).path});else{const O=ke({},H.params);for(const M in O)O[M]==null&&delete O[M];Y=ke({},H,{params:d(O)}),Z.params=d(Z.params)}const ie=e.resolve(Y,Z),Re=H.hash||"";ie.params=h(p(ie.params));const Le=WC(r,ke({},H,{hash:UC(Re),path:ie.path})),S=s.createHref(Le);return ke({fullPath:Le,hash:Re,query:r===og?Tk(H.query):H.query||{}},ie,{redirectedFrom:void 0,href:S})}function N(H){return typeof H=="string"?Vu(n,H,l.value.path):ke({},H)}function w(H,Z){if(u!==H)return fi(8,{from:Z,to:H})}function k(H){return I(H)}function V(H){return k(ke(N(H),{replace:!0}))}function F(H){const Z=H.matched[H.matched.length-1];if(Z&&Z.redirect){const{redirect:Y}=Z;let ie=typeof Y=="function"?Y(H):Y;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=N(ie):{path:ie},ie.params={}),ke({query:H.query,hash:H.hash,params:ie.path!=null?{}:H.params},ie)}}function I(H,Z){const Y=u=D(H),ie=l.value,Re=H.state,Le=H.force,S=H.replace===!0,O=F(Y);if(O)return I(ke(N(O),{state:typeof O=="object"?ke({},Re,O.state):Re,force:Le,replace:S}),Z||Y);const M=Y;M.redirectedFrom=Z;let B;return!Le&&KC(r,ie,Y)&&(B=fi(16,{to:M,from:ie}),Gt(ie,ie,!0,!1)),(B?Promise.resolve(B):A(M,ie)).catch(U=>Hn(U)?Hn(U,2)?U:vn(U):te(U,M,ie)).then(U=>{if(U){if(Hn(U,2))return I(ke({replace:S},N(U.to),{state:typeof U.to=="object"?ke({},Re,U.to.state):Re,force:Le}),Z||M)}else U=C(M,ie,!0,S,Re);return P(M,ie,U),U})}function T(H,Z){const Y=w(H,Z);return Y?Promise.reject(Y):Promise.resolve()}function y(H){const Z=dn.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(H):H()}function A(H,Z){let Y;const[ie,Re,Le]=kk(H,Z);Y=xu(ie.reverse(),"beforeRouteLeave",H,Z);for(const O of ie)O.leaveGuards.forEach(M=>{Y.push(kr(M,H,Z))});const S=T.bind(null,H,Z);return Y.push(S),At(Y).then(()=>{Y=[];for(const O of i.list())Y.push(kr(O,H,Z));return Y.push(S),At(Y)}).then(()=>{Y=xu(Re,"beforeRouteUpdate",H,Z);for(const O of Re)O.updateGuards.forEach(M=>{Y.push(kr(M,H,Z))});return Y.push(S),At(Y)}).then(()=>{Y=[];for(const O of Le)if(O.beforeEnter)if(yn(O.beforeEnter))for(const M of O.beforeEnter)Y.push(kr(M,H,Z));else Y.push(kr(O.beforeEnter,H,Z));return Y.push(S),At(Y)}).then(()=>(H.matched.forEach(O=>O.enterCallbacks={}),Y=xu(Le,"beforeRouteEnter",H,Z,y),Y.push(S),At(Y))).then(()=>{Y=[];for(const O of o.list())Y.push(kr(O,H,Z));return Y.push(S),At(Y)}).catch(O=>Hn(O,8)?O:Promise.reject(O))}function P(H,Z,Y){a.list().forEach(ie=>y(()=>ie(H,Z,Y)))}function C(H,Z,Y,ie,Re){const Le=w(H,Z);if(Le)return Le;const S=Z===sn,O=Ws?history.state:{};Y&&(ie||S?s.replace(H.fullPath,ke({scroll:S&&O&&O.scroll},Re)):s.push(H.fullPath,Re)),l.value=H,Gt(H,Z,Y,S),vn()}let b;function ue(){b||(b=s.listen((H,Z,Y)=>{if(!gr.listening)return;const ie=D(H),Re=F(ie);if(Re){I(ke(Re,{replace:!0,force:!0}),ie).catch(To);return}u=ie;const Le=l.value;Ws&&ek(Jm(Le.fullPath,Y.delta),Cl()),A(ie,Le).catch(S=>Hn(S,12)?S:Hn(S,2)?(I(ke(N(S.to),{force:!0}),ie).then(O=>{Hn(O,20)&&!Y.delta&&Y.type===Bo.pop&&s.go(-1,!1)}).catch(To),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),te(S,ie,Le))).then(S=>{S=S||C(ie,Le,!1),S&&(Y.delta&&!Hn(S,8)?s.go(-Y.delta,!1):Y.type===Bo.pop&&Hn(S,20)&&s.go(-1,!1)),P(ie,Le,S)}).catch(To)}))}let ye=no(),re=no(),pe;function te(H,Z,Y){vn(H);const ie=re.list();return ie.length?ie.forEach(Re=>Re(H,Z,Y)):console.error(H),Promise.reject(H)}function Me(){return pe&&l.value!==sn?Promise.resolve():new Promise((H,Z)=>{ye.add([H,Z])})}function vn(H){return pe||(pe=!H,ue(),ye.list().forEach(([Z,Y])=>H?Y(H):Z()),ye.reset()),H}function Gt(H,Z,Y,ie){const{scrollBehavior:Re}=t;if(!Ws||!Re)return Promise.resolve();const Le=!Y&&tk(Jm(H.fullPath,0))||(ie||!Y)&&history.state&&history.state.scroll||null;return qr().then(()=>Re(H,Z,Le)).then(S=>S&&ZC(S)).catch(S=>te(S,H,Z))}const gt=H=>s.go(H);let Fn;const dn=new Set,gr={currentRoute:l,listening:!0,addRoute:g,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:R,getRoutes:E,resolve:D,options:t,push:k,replace:V,go:gt,back:()=>gt(-1),forward:()=>gt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:re.add,isReady:Me,install(H){const Z=this;H.component("RouterLink",bk),H.component("RouterView",Jv),H.config.globalProperties.$router=Z,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>$e(l)}),Ws&&!Fn&&l.value===sn&&(Fn=!0,k(s.location).catch(Re=>{}));const Y={};for(const Re in sn)Object.defineProperty(Y,Re,{get:()=>l.value[Re],enumerable:!0});H.provide(kl,Z),H.provide(Xf,Pn(Y)),H.provide(kh,l);const ie=H.unmount;dn.add(H),H.unmount=function(){dn.delete(H),dn.size<1&&(u=sn,b&&b(),b=null,l.value=sn,Fn=!1,pe=!1),ie()}}};function At(H){return H.reduce((Z,Y)=>Z.then(()=>y(Y)),Promise.resolve())}return gr}function kk(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>hi(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>hi(u,l))||s.push(l))}return[n,r,s]}function HF(){return wt(kl)}function jF(t){return wt(Xf)}const Nk=/(:\w+)\([^)]+\)/g,Ok=/(:\w+)[?+*]/g,Dk=/:\w+/g,Vk=(t,e)=>e.path.replace(Nk,"$1").replace(Ok,"$1").replace(Dk,n=>t.params[n.slice(1)]?.toString()||""),Nh=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&Vk(t.route,n));return typeof r=="function"?r(t.route):r},xk=(t,e)=>({default:()=>t?rt(zy,t===!0?{}:t,e):e});function Zf(t){return Array.isArray(t)?t:[t]}const Mu=[{name:"blog",path:"/blog",component:()=>ce(()=>import("./CU4U_QcS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url)},{name:"about",path:"/about",component:()=>ce(()=>import("./Cqodktf-.js"),__vite__mapDeps([12,1,2,3,4,13]),import.meta.url)},{name:"codes",path:"/codes",component:()=>ce(()=>import("./CDTEiF2g.js"),__vite__mapDeps([14,1,2,3,4,9,10,15]),import.meta.url)},{name:"index",path:"/",component:()=>ce(()=>import("./Dl1Ng_X9.js"),__vite__mapDeps([16,1,2,3,4,9,10,17]),import.meta.url)},{name:"skill",path:"/skill",component:()=>ce(()=>import("./BA2Zq0yR.js"),__vite__mapDeps([18,1,2,3,4,19,6,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,39]),import.meta.url)},{name:"terms",path:"/terms",component:()=>ce(()=>import("./Bk8kP-f4.js"),__vite__mapDeps([40,1,2,3,4,41]),import.meta.url)},{name:"shadow",path:"/shadow",component:()=>ce(()=>import("./BZFvPpla.js"),__vite__mapDeps([42,1,2,3,4,19,6,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,43]),import.meta.url)},{name:"classic",path:"/classic",component:()=>ce(()=>import("./DP0OAz60.js"),__vite__mapDeps([44,1,2,3,4,19,6,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,45]),import.meta.url)},{name:"contact",path:"/contact",component:()=>ce(()=>import("./De2vgM_p.js"),__vite__mapDeps([46,1,2,3,4,47]),import.meta.url)},{name:"calendar",path:"/calendar",component:()=>ce(()=>import("./DazitHta.js"),__vite__mapDeps([48,1,2,3,4,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,49]),import.meta.url)},{name:"slug",path:"/:slug(.*)*",component:()=>ce(()=>import("./pKiroJhj.js"),__vite__mapDeps([50,1,2,3,4,5,6,7,8,9,10,51]),import.meta.url)},{name:"disclaimer",path:"/disclaimer",component:()=>ce(()=>import("./B8JDjsni.js"),__vite__mapDeps([52,1,2,3,4,53]),import.meta.url)},{name:"hero-coach",path:"/hero-coach",component:()=>ce(()=>import("./BJ0AeUBb.js"),__vite__mapDeps([54,1,2,3,4,55,21,56,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,57]),import.meta.url)},{name:"support-us",path:"/support-us",component:()=>ce(()=>import("./StgUjjZN.js"),__vite__mapDeps([58,1,2,3,4]),import.meta.url)},{name:"fated-summon",path:"/fated-summon",component:()=>ce(()=>import("./8TtfBYKG.js"),__vite__mapDeps([59,1,2,3,4,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,60]),import.meta.url)},{name:"farming-guide",path:"/farming-guide",component:()=>ce(()=>import("./wS8Uj-Jt.js"),__vite__mapDeps([61,1,2,3,4,9,10,62]),import.meta.url)},{name:"hero-database",path:"/hero-database",component:()=>ce(()=>import("./B73a_O4_.js"),__vite__mapDeps([63,1,2,3,4,55,21,56,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,64]),import.meta.url)},{name:"soul-exchange",path:"/soul-exchange",component:()=>ce(()=>import("./Ceyq8vII.js"),__vite__mapDeps([65,1,2,3,4,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,66,67,68]),import.meta.url)},{name:"privacy-policy",path:"/privacy-policy",component:()=>ce(()=>import("./C6eSZW7Y.js"),__vite__mapDeps([69,1,2,3,4,70]),import.meta.url)},{name:"tier-list-id",path:"/tier-list/:id()",component:()=>ce(()=>import("./BVjx7CfL.js"),__vite__mapDeps([71,1,2,3,4,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,72,66,73]),import.meta.url)},{name:"tier-list",path:"/tier-list",component:()=>ce(()=>import("./DUITXS7j.js"),__vite__mapDeps([74,1,2,3,4,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,55,21,56,72,66,67,75]),import.meta.url)},{name:"talent-simulator",path:"/talent-simulator",component:()=>ce(()=>import("./gMOYu-fa.js"),__vite__mapDeps([76,1,2,3,4,24,25,26,27,32,33,34,35,36,37,28,29,20,21,6,30,31,77]),import.meta.url)},{name:"tier-list-featured",path:"/tier-list/featured",component:()=>ce(()=>import("./CxWc-BJ0.js"),__vite__mapDeps([78,1,2,3,4,79]),import.meta.url)},{name:"visiting-outfitter",path:"/visiting-outfitter",component:()=>ce(()=>import("./NtNHSClk.js"),__vite__mapDeps([80,1,2,3,4,55,21,56,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,7,38,81]),import.meta.url)},{name:"tier-list-user-id",path:"/tier-list/user/:id()",component:()=>ce(()=>import("./DHme1RuN.js"),__vite__mapDeps([82,1,2,3,4,83]),import.meta.url)}],Mk=(t,e)=>({default:()=>t?rt(HE,t===!0?{}:t,e):e.default?.()}),Lk=/(:\w+)\([^)]+\)/g,Fk=/(:\w+)[?+*]/g,Uk=/:\w+/g;function fg(t){const e=t?.meta.key??t.path.replace(Lk,"$1").replace(Fk,"$1").replace(Uk,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function $k(t,e){return t===e||e===sn?!1:fg(t)!==fg(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}function Hk(t,e=!1){if(t){if(t.nodeName==="#comment"&&t.nodeValue==="[")return Xv(t,[],e);if(e){const n=t.cloneNode(!0);return n.querySelectorAll("[data-island-slot]").forEach(r=>{r.innerHTML=""}),[n.outerHTML]}return[t.outerHTML]}}function Xv(t,e=[],n=!1){if(t&&t.nodeName){if(Bk(t))return e;if(!jk(t)){const r=t.cloneNode(!0);n&&r.querySelectorAll?.("[data-island-slot]").forEach(s=>{s.innerHTML=""}),e.push(r.outerHTML)}Xv(t.nextSibling,e,n)}return e}function Lu(t,e){const n=t?Hk(t):[e];return n?CE(n.join(""),n.length):rt("div")}function jk(t){return t.nodeName==="#comment"&&t.nodeValue==="["}function Bk(t){return t.nodeName==="#comment"&&t.nodeValue==="]"}const qk={scrollBehavior(t,e,n){const r=ze(),s=Wt().options?.scrollBehaviorType??"auto";if(t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:Zv(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===sn){a(dg(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(dg(t,e,n,s)))})})}};function Zv(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function dg(t,e,n,r){if(n)return n;const s=$k(t,e);return t.hash?{el:t.hash,top:Zv(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const Wk={hashMode:!1,scrollBehaviorType:"auto"},Ar={...Wk,...qk},Kk=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=ti(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=Ts({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},zk=async t=>{let e,n;const r=([e,n]=ti(()=>Fv({path:t.path})),e=await e,n(),e);if(r.redirect)return Ds(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},Gk=[Kk,zk],Oh={};function Qk(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const u=i.includes(t.slice(o))?t.slice(o).length:1;let h=i.slice(u);return h[0]!=="/"&&(h="/"+h),km(h,"")}const a=km(r,t),l=!n||kP(a,n)?a:n;return l+(l.includes("?")?"":s)+i}const Yk=zt({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=la().app.baseURL;const s=Ar.history?.(r)??ik(r),i=Ar.routes?([e,n]=ti(()=>Ar.routes(Mu)),e=await e,n(),e??Mu):Mu;let o;const a=Ck({...Ar,scrollBehavior:(R,D,N)=>{if(D===sn){o=N;return}if(Ar.scrollBehavior){if(a.options.scrollBehavior=Ar.scrollBehavior,"scrollRestoration"in window.history){const w=a.beforeEach(()=>{w(),window.history.scrollRestoration="manual"})}return Ar.scrollBehavior(R,sn,o||N)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const l=tn(a.currentRoute.value);a.afterEach((R,D)=>{l.value=D}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const u=Qk(r,window.location,t.payload.path),h=tn(a.currentRoute.value),d=()=>{h.value=a.currentRoute.value};t.hook("page:finish",d),a.afterEach((R,D)=>{R.matched[R.matched.length-1]?.components?.default===D.matched[D.matched.length-1]?.components?.default&&d()});const p={};for(const R in h.value)Object.defineProperty(p,R,{get:()=>h.value[R],enumerable:!0});t._route=Pn(p),t._middleware||={global:[],named:{}};const g=Sl();a.afterEach(async(R,D,N)=>{delete t._processingMiddleware,!t.isHydrating&&g.value&&await t.runWithContext(b0),N&&await t.callHook("page:loading:end")});try{[e,n]=ti(()=>a.isReady()),await e,n()}catch(R){[e,n]=ti(()=>t.runWithContext(()=>ls(R))),await e,n()}const _=u!==a.currentRoute.value.fullPath?a.resolve(u):a.currentRoute.value;d();const E=t.payload.state._layout;return a.beforeEach(async(R,D)=>{await t.callHook("page:loading:start"),R.meta=Ln(R.meta),t.isHydrating&&E&&!Vn(R.meta.layout)&&(R.meta.layout=E),t._processingMiddleware=!0;{const N=new Set([...Gk,...t._middleware.global]);for(const w of R.matched){const k=w.meta.middleware;if(k)for(const V of Zf(k))N.add(V)}{const w=await t.runWithContext(()=>Fv({path:R.path}));if(w.appMiddleware)for(const k in w.appMiddleware)w.appMiddleware[k]?N.add(k):N.delete(k)}for(const w of N){const k=typeof w=="string"?t._middleware.named[w]||await Oh[w]?.().then(V=>V.default||V):w;if(!k)throw new Error(`Unknown route middleware: '${w}'.`);try{const V=await t.runWithContext(()=>k(R,D));if(!t.payload.serverRendered&&t.isHydrating&&(V===!1||V instanceof Error)){const F=V||Ts({statusCode:404,statusMessage:`Page Not Found: ${u}`});return await t.runWithContext(()=>ls(F)),!1}if(V===!0)continue;if(V===!1)return V;if(V)return Pv(V)&&V.fatal&&await t.runWithContext(()=>ls(V)),V}catch(V){const F=Ts(V);return F.fatal&&await t.runWithContext(()=>ls(F)),F}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(R=>{if(R.matched.length===0)return t.runWithContext(()=>ls(Ts({statusCode:404,fatal:!1,statusMessage:`Page not found: ${R.fullPath}`,data:{path:R.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in _&&(_.name=void 0),await a.replace({..._,force:!0}),a.options.scrollBehavior=Ar.scrollBehavior}catch(R){await t.runWithContext(()=>ls(R))}}),{provide:{router:a}}}}),BF=Symbol.for("nuxt:client-only"),Ba="<div></div>",Fu=new WeakMap;function Jk(t){if(Fu.has(t))return Fu.get(t);const e={...t};return e.render?e.render=(n,r,s,i,o,a)=>{if(i.mounted$??n.mounted$){const l=t.render?.bind(n)(n,r,s,i,o,a);return l.children===null||typeof l.children=="string"?nn(l):rt(l)}return Lu(n._.vnode.el,Ba)}:e.template&&=`
      <template v-if="mounted$">${t.template}</template>
      <template v-else>${Ba}</template>
    `,e.setup=(n,r)=>{const s=ze(),i=tn(s.isHydrating===!1),o=mt();if(s.isHydrating){const l={...o.attrs},u=Xk(o);for(const h in l)delete o.attrs[h];xn(()=>{Object.assign(o.attrs,l),o.vnode.dirs=u})}xn(()=>{i.value=!0});const a=t.setup?.(n,r)||{};return ea(a)?Promise.resolve(a).then(l=>typeof l!="function"?(l||={},l.mounted$=i,l):(...u)=>{if(i.value||!s.isHydrating){const h=l(...u);return h.children===null||typeof h.children=="string"?nn(h):rt(h)}return Lu(o?.vnode.el,Ba)}):typeof a=="function"?(...l)=>{if(i.value){const u=a(...l),h=e.inheritAttrs!==!1?r.attrs:void 0;return u.children===null||typeof u.children=="string"?nn(u,h):rt(u,h)}return Lu(o?.vnode.el,Ba)}:Object.assign(a,{mounted$:i})},Fu.set(t,e),e}function Xk(t){if(!t||!t.vnode.dirs)return null;const e=t.vnode.dirs;return t.vnode.dirs=null,e}const pg=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),qF=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),ed=t=>{const e=ze();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{pg(()=>t())}):pg(()=>t())},Zk="$s";function eT(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,r]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const s=Zk+n,i=ze(),o=vf(i.payload.state,s);if(o.value===void 0&&r){const a=r();if(Je(a))return i.payload.state[s]=a,a;o.value=a}return o}function e1(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function t1(t,e=Wt()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>t1(t,e));e._routePreloaded.add(n);for(const i of r){const o=i.components?.default;if(typeof o!="function")continue;const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}function n1(t={}){const e=t.path||window.location.pathname;let n={};try{n=Oc(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:ze().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}function r1(t={}){const e=tn(""),n=tn(t.politeness||"polite"),r=Pl();function s(u="",h="polite"){e.value=u,n.value=h}function i(u){return s(u,"polite")}function o(u){return s(u,"assertive")}function a(){s(document?.title?.trim(),n.value)}function l(){r?.hooks?.removeHook("dom:rendered",a)}return a(),r?.hooks?.hook("dom:rendered",()=>{a()}),{_cleanup:l,message:e,politeness:n,set:s,polite:i,assertive:o}}function s1(t={}){const e=ze(),n=e._routeAnnouncer||=r1(t);return t.politeness!==n.politeness.value&&(n.politeness.value=t.politeness||"polite"),sa()&&(e._routeAnnouncerDeps||=0,e._routeAnnouncerDeps++,oi(()=>{e._routeAnnouncerDeps--,e._routeAnnouncerDeps===0&&(n._cleanup(),delete e._routeAnnouncer)})),n}function i1(t){typeof t.indexable<"u"&&(t.indexable=String(t.indexable)!=="false"),typeof t.trailingSlash<"u"&&!t.trailingSlash&&(t.trailingSlash=String(t.trailingSlash)!=="false"),t.url&&!Ds(String(t.url),{acceptRelative:!0,strict:!1})&&(t.url=PP(String(t.url)));const e=Object.keys(t).sort((r,s)=>r.localeCompare(s)),n={};for(const r of e)n[r]=t[r];return n}function o1(t){const n=[];function r(i){if(!i||typeof i!="object"||Object.keys(i).length===0)return()=>{};i._context;const o={};for(const l in i){const u=i[l];typeof u<"u"&&u!==""&&(o[l]=u)}let a;return Object.keys(o).filter(l=>!l.startsWith("_")).length>0&&(a=n.push(o)),()=>{typeof a<"u"&&n.splice(a-1,1)}}function s(i){const o={};i?.debug&&(o._context={}),o._priority={};for(const a in n.sort((l,u)=>(l._priority||0)-(u._priority||0)))for(const l in n[a]){const u=l,h=i?.resolveRefs?yf(n[a][l]):n[a][l];!l.startsWith("_")&&typeof h<"u"&&h!==""&&(o[l]=h,typeof n[a]._priority<"u"&&n[a]._priority!==-1&&(o._priority[u]=n[a]._priority),i?.debug&&(o._context[u]=n[a]._context?.[u]||n[a]._context||"anonymous"))}return i?.skipNormalize?o:i1(o)}return{stack:n,push:r,get:s}}const a1=zt({name:"nuxt-site-config:init",enforce:"pre",async setup(t){const e=o1(),n=eT("site-config");{const r=n.value||window.__NUXT_SITE_CONFIG__||{};for(const s in r)s[0]!=="_"&&e.push({[s]:r[s],_priority:r._priority?.[s]||-1})}return{provide:{nuxtSiteConfig:e}}}}),c1=zt(()=>{const t=Wt();ed(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),l1=zt(t=>{let e;async function n(){let r;try{r=await Lv()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}e&&clearTimeout(e),e=setTimeout(n,Lm);try{const s=await $fetch(Wf("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(t.hooks.callHook("app:manifest:update",s),e&&clearTimeout(e))}catch{}}ed(()=>{e=setTimeout(n,Lm)})}),u1=zt({name:"nuxt:chunk-reload",setup(t){const e=Wt(),n=la(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=pv(n.app.baseURL,i.fullPath);n1({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});function h1(){return la().public["nuxt-scripts"]}function f1(t){return t.key||t.src||(typeof t.innerHTML=="string"?t.innerHTML:"")}function d1(t,e){t=typeof t=="string"?{src:t}:t,e=bl(e,h1()?.defaultScriptOptions);const n=String(f1(t)),r=ze();if(e.head=e.head||Pl(),!e.head)throw new Error("useScript() has been called without Nuxt context.");r.$scripts=r.$scripts||Ln({}),r.$scripts?.[n],(e.trigger==="onNuxtReady"||e.trigger==="client")&&(e.warmupStrategy||(e.warmupStrategy="preload"),e.trigger==="onNuxtReady"&&(e.trigger=ed));const s=pC(t,e),i=s.remove;return s.remove=()=>(r.$scripts[n]=void 0,i()),r.$scripts[n]=s,s}const td=Object.freeze(Object.assign(()=>{},{__mock__:!0})),p1=td,mg=td,m1=td;function g1(t){return(la().public.scripts||{})[t]}function _1(t,e,n){const r=g1(t),s=Object.assign(n||{},typeof r=="object"?r:{}),i=e(s),o=bl(s.scriptInput,i.scriptInput,{key:t}),a=Object.assign(s?.scriptOptions||{},i.scriptOptions||{}),l=a.beforeInit;return a.beforeInit=()=>{l?.(),i.clientInit?.()},d1(o,a)}p1({id:mg(),l:m1(mg())});function y1(t){return _1(t?.key||"googleAnalytics",e=>{const n=e?.l??"dataLayer",r=window;return{scriptInput:{src:Bf("https://www.googletagmanager.com/gtag/js",{id:e?.id,l:e?.l})},schema:void 0,scriptOptions:{use:()=>({dataLayer:r[n],gtag:r.gtag}),performanceMarkFeature:"nuxt-third-parties-ga",tagPriority:1},clientInit:()=>{r[n]=r[n]||[],r.gtag=function(){r[n].push(arguments)},t?.onBeforeGtagStart?.(r.gtag),r.gtag("js",new Date),r.gtag("config",e?.id)}}},t)}const E1=zt({name:"scripts:init",env:{islands:!1},parallel:!0,setup(){return{provide:{$scripts:{googleAnalytics:y1({id:"G-3MMX13LZNF"})}}}}}),v1=xe(()=>ce(()=>import("./CRXxKQqa.js"),__vite__mapDeps([84,3]),import.meta.url).then(t=>t.default||t.default||t)),T1=xe(()=>ce(()=>import("./nQ___iDY.js"),__vite__mapDeps([85,2]),import.meta.url).then(t=>t.default||t.default||t)),w1=xe(()=>ce(()=>import("./CBkBqsfN.js"),__vite__mapDeps([86,2]),import.meta.url).then(t=>t.default||t.default||t)),I1=xe(()=>ce(()=>import("./Cuj-PgIX.js"),__vite__mapDeps([87,2]),import.meta.url).then(t=>t.default||t.default||t)),A1=xe(()=>ce(()=>import("./zXRCCsZo.js"),[],import.meta.url).then(t=>t.default||t.default||t)),b1=xe(()=>ce(()=>import("./DyoU-Y6j.js"),[],import.meta.url).then(t=>t.default||t.default||t)),R1=xe(()=>ce(()=>import("./D1KLYiEv.js"),[],import.meta.url).then(t=>t.default||t.default||t)),S1=xe(()=>ce(()=>import("./D3E8IP-B.js"),[],import.meta.url).then(t=>t.default||t.default||t)),P1=xe(()=>ce(()=>import("./1jttGpbP.js"),[],import.meta.url).then(t=>t.default||t.default||t)),C1=xe(()=>ce(()=>import("./CykWMcrt.js"),[],import.meta.url).then(t=>t.default||t.default||t)),k1=xe(()=>ce(()=>import("./Dw2bo_06.js"),__vite__mapDeps([88,2]),import.meta.url).then(t=>t.default||t.default||t)),N1=xe(()=>ce(()=>import("./DPftlk9M.js"),[],import.meta.url).then(t=>t.default||t.default||t)),O1=xe(()=>ce(()=>import("./Bu7J7ayG.js"),__vite__mapDeps([89,2]),import.meta.url).then(t=>t.default||t.default||t)),D1=xe(()=>ce(()=>import("./CVhVNpv5.js"),__vite__mapDeps([90,2]),import.meta.url).then(t=>t.default||t.default||t)),V1=xe(()=>ce(()=>import("./B7FhVXLW.js"),__vite__mapDeps([91,2]),import.meta.url).then(t=>t.default||t.default||t)),x1=xe(()=>ce(()=>import("./7k-5PsHk.js"),__vite__mapDeps([92,93]),import.meta.url).then(t=>t.default||t.default||t)),M1=xe(()=>ce(()=>import("./D4bo1n05.js"),[],import.meta.url).then(t=>t.default||t.default||t)),L1=xe(()=>ce(()=>import("./CzoUPAR8.js"),__vite__mapDeps([94,2]),import.meta.url).then(t=>t.default||t.default||t)),F1=xe(()=>ce(()=>import("./CyZhhXKD.js"),__vite__mapDeps([95,2]),import.meta.url).then(t=>t.default||t.default||t)),U1=xe(()=>ce(()=>import("./CgCG3VMt.js"),__vite__mapDeps([96,2]),import.meta.url).then(t=>t.default||t.default||t)),$1=xe(()=>ce(()=>import("./CfSO45Eb.js"),__vite__mapDeps([97,2]),import.meta.url).then(t=>t.default||t.default||t)),H1=xe(()=>ce(()=>import("./B6BX568L.js"),__vite__mapDeps([98,2]),import.meta.url).then(t=>t.default||t.default||t)),j1=xe(()=>ce(()=>import("./CjuZE4k6.js"),__vite__mapDeps([99,2]),import.meta.url).then(t=>t.default||t.default||t)),B1=xe(()=>ce(()=>import("./Do9w3vp-.js"),__vite__mapDeps([100,2]),import.meta.url).then(t=>t.default||t.default||t)),q1=xe(()=>ce(()=>import("./NOJiRtAl.js"),__vite__mapDeps([101,2]),import.meta.url).then(t=>t.default||t.default||t)),W1=[["ProseA",v1],["ProseBlockquote",T1],["ProseCode",w1],["ProseEm",I1],["ProseH1",A1],["ProseH2",b1],["ProseH3",R1],["ProseH4",S1],["ProseH5",P1],["ProseH6",C1],["ProseHr",k1],["ProseImg",N1],["ProseLi",O1],["ProseOl",D1],["ProseP",V1],["ProsePre",x1],["ProseScript",M1],["ProseStrong",L1],["ProseTable",F1],["ProseTbody",U1],["ProseTd",$1],["ProseTh",H1],["ProseThead",j1],["ProseTr",B1],["ProseUl",q1]],K1=zt({name:"nuxt:global-components",setup(t){for(const[e,n]of W1)t.vueApp.component(e,n),t.vueApp.component("Lazy"+e,n)}}),qa={},z1=zt({name:"nuxt:prefetch",setup(t){const e=Wt();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof qa[r]=="function"&&await qa[r]()})}),t.hooks.hook("link:prefetch",n=>{if(Ds(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=Zf(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Oh[o]=="function"&&Oh[o]();typeof s=="string"&&s in qa&&e1(qa[s])})}}),G1=globalThis.setInterval,Q1=zt(t=>{const e=Date.now(),n=1440*60*1e3,r=()=>{Date.now()-e>n&&(console.info("Application has been active for more than 24 hours. Performing automatic reload to ensure the latest version."),window.location.reload())};Wt().afterEach(()=>{r()});const i=G1(r,3600*1e3);t.hook("app:unmounted",()=>{clearInterval(i)})}),Y1=zt(t=>{t.hook("app:error",n=>{const r=n.message||"";(r.includes("Fetching CSS chunk")||r.includes("Loading chunk")||r.includes("Failed to fetch")||r.includes("Dynamically imported module"))&&(console.warn("New version detected or network error. Reloading..."),window.location.reload())}),Wt().onError((n,r)=>{(n.message.includes("404")||n.message.includes("not found")||n.message.includes("chunk"))&&(console.warn("Navigation error detected. Performing hard refresh to fetch latest assets."),window.location.href=r.fullPath)})}),J1=zt(()=>{const t=Kf(),e="https://empuzzled.com",n=He(()=>{const r=t.path==="/"?"":t.path.replace(/\/$/,"");return`${e}${r}`});Mv({link:[{rel:"canonical",href:n}]})}),X1=zt(()=>{const t=Kf(),e=Wt();an(()=>t.path,n=>{if(n!=="/"&&n.endsWith("/")){const r=n.replace(/\/$/,"");e.replace({path:r,query:t.query,hash:t.hash})}},{immediate:!0})}),Z1=[IC,PC,Yk,a1,c1,l1,u1,E1,K1,z1,Q1,Y1,J1,X1];function eN(t,e){const n=e/t*100;return 2/Math.PI*100*Math.atan(n/50)}function tN(t={}){const{duration:e=2e3,throttle:n=200,hideDelay:r=500,resetDelay:s=400}=t,i=t.estimatedProgress||eN,o=ze(),a=tn(0),l=tn(!1),u=tn(!1);let h=!1,d,p,g,_;const E=(I={})=>{w(),u.value=!1,R(0,I)};function R(I=0,T={}){if(o.isHydrating)return;if(I>=100)return N({force:T.force});k(),a.value=I<0?0:I;const y=T.force?0:n;y?p=setTimeout(()=>{l.value=!0,V()},y):(l.value=!0,V())}function D(){g=setTimeout(()=>{l.value=!1,_=setTimeout(()=>{a.value=0},s)},r)}function N(I={}){a.value=100,h=!0,k(),w(),I.error&&(u.value=!0),I.force?(a.value=0,l.value=!1):D()}function w(){clearTimeout(g),clearTimeout(_)}function k(){clearTimeout(p),cancelAnimationFrame(d)}function V(){h=!1;let I;function T(y){if(h)return;I??=y;const A=y-I;a.value=Math.max(0,Math.min(100,i(e,A))),d=requestAnimationFrame(T)}d=requestAnimationFrame(T)}let F=()=>{};{const I=o.hook("page:loading:start",()=>{E()}),T=o.hook("page:loading:end",()=>{N()}),y=o.hook("vue:error",()=>N());F=()=>{y(),I(),T(),k()}}return{_cleanup:F,progress:He(()=>a.value),isLoading:He(()=>l.value),error:He(()=>u.value),start:E,set:R,finish:N,clear:k}}function nN(t={}){const e=ze(),n=e._loadingIndicator||=tN(t);return sa()&&(e._loadingIndicatorDeps||=0,e._loadingIndicatorDeps++,oi(()=>{e._loadingIndicatorDeps--,e._loadingIndicatorDeps===0&&(n._cleanup(),delete e._loadingIndicator)})),n}const rN=lr({name:"NuxtLoadingIndicator",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},hideDelay:{type:Number,default:500},resetDelay:{type:Number,default:400},height:{type:Number,default:3},color:{type:[String,Boolean],default:"repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)"},errorColor:{type:String,default:"repeating-linear-gradient(to right,#f87171 0%,#ef4444 100%)"},estimatedProgress:{type:Function,required:!1}},setup(t,{slots:e,expose:n}){const{progress:r,isLoading:s,error:i,start:o,finish:a,clear:l}=nN({duration:t.duration,throttle:t.throttle,hideDelay:t.hideDelay,resetDelay:t.resetDelay,estimatedProgress:t.estimatedProgress});return n({progress:r,isLoading:s,error:i,start:o,finish:a,clear:l}),()=>rt("div",{class:"nuxt-loading-indicator",style:{position:"fixed",top:0,right:0,left:0,pointerEvents:"none",width:"auto",height:`${t.height}px`,opacity:s.value?1:0,background:i.value?t.errorColor:t.color||void 0,backgroundSize:`${r.value>0?100/r.value*100:0}% auto`,transform:`scaleX(${r.value}%)`,transformOrigin:"left",transition:"transform 0.1s, height 0.4s, opacity 0.4s",zIndex:999999}},e)}}),sN=lr({name:"NuxtRouteAnnouncer",props:{atomic:{type:Boolean,default:!1},politeness:{type:String,default:"polite"}},setup(t,{slots:e,expose:n}){const{set:r,polite:s,assertive:i,message:o,politeness:a}=s1({politeness:t.politeness});return n({set:r,polite:s,assertive:i,message:o,politeness:a}),()=>rt("span",{class:"nuxt-route-announcer",style:{position:"absolute"}},rt("span",{role:"alert","aria-live":a.value,"aria-atomic":t.atomic,style:{border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",width:"1px",overflow:"hidden",position:"absolute","white-space":"nowrap","word-wrap":"normal",margin:"-1px",padding:"0"}},e.default?e.default({message:o.value}):o.value))}}),tT=(t="RouteProvider")=>lr({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Es(Rl,Pn(s)),()=>e.vnode?rt(e.vnode,{ref:e.vnodeRef}):e.vnode}}),iN=tT(),gg=new WeakMap,oN=lr({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=ze(),i=Be(),o=wt(Rl,null);let a;r({pageRef:i});const l=wt(w0,null);let u;const h=s.deferHydration();if(s.isHydrating){const p=s.hooks.hookOnce("app:error",h);Wt().beforeEach(p)}t.pageKey&&an(()=>t.pageKey,(p,g)=>{p!==g&&s.callHook("page:loading:start")});let d=!1;{const p=Wt().beforeResolve(()=>{d=!1});Si(()=>{p()})}return()=>rt(Jv,{name:t.name,route:t.route,...e},{default:p=>{const g=cN(o,p.route,p.Component),_=o&&o.matched.length===p.route.matched.length;if(!p.Component){if(u&&!_)return u;h();return}if(u&&l&&!l.isCurrent(p.route))return u;if(g&&o&&(!l||l?.isCurrent(o)))return _?u:null;const E=Nh(p,t.pageKey),R=lN(o,p.route,p.Component);!s.isHydrating&&a===E&&!R&&qr(()=>{d=!0,s.callHook("page:loading:end")}),a=E;const D=!!(t.transition??p.route.meta.pageTransition??xm),N=D&&aN([t.transition,p.route.meta.pageTransition,xm,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",p.Component)}}]),w=t.keepalive??p.route.meta.keepalive??o0;return u=Mk(D&&N,xk(w,rt(Mf,{suspensible:!0,onPending:()=>{D&&(s._runningTransition=!0),s.callHook("page:start",p.Component)},onResolve:()=>{qr(()=>s.callHook("page:finish",p.Component).then(()=>{if(delete s._runningTransition,!d&&!R)return d=!0,s.callHook("page:loading:end")}).finally(h))}},{default:()=>{const k={key:E||void 0,vnode:n.default?uN(n.default,p):p.Component,route:p.route,renderKey:E||void 0,trackRootNodes:D,vnodeRef:i};if(!w)return rt(iN,k);const V=p.Component.type,F=V;let I=gg.get(F);return I||(I=tT(V.name||V.__name),gg.set(F,I)),rt(I,k)}}))).default(),u}})}});function aN(t){const e=[];for(const n of t)n&&e.push({...n,onAfterLeave:n.onAfterLeave?Zf(n.onAfterLeave):void 0});return bl(...e)}function cN(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&Nh({route:e,Component:n})!==Nh({route:t,Component:n})}function lN(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function uN(t,e){const n=t(e);return n.length===1?rt(n[0]):rt(lt,void 0,n)}const hN=()=>{};var _g={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new dN;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pN=function(t){const e=nT(t);return rT.encodeByteArray(e,!0)},Uc=function(t){return pN(t).replace(/\./g,"")},sT=function(t){try{return rT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=()=>mN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof _g>"u")return;const t=_g.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sT(t[1]);return e&&JSON.parse(e)},Nl=()=>{try{return hN()||gN()||_N()||yN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iT=t=>Nl()?.emulatorHosts?.[t],EN=t=>{const e=iT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oT=()=>Nl()?.config,aT=t=>Nl()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uc(JSON.stringify(n)),Uc(JSON.stringify(o)),""].join(".")}const Io={};function wN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Io))Io[e]?t.emulator.push(e):t.prod.push(e);return t}function IN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yg=!1;function lT(t,e){if(typeof window>"u"||typeof document>"u"||!Pi(window.location.host)||Io[t]===e||Io[t]||yg)return;Io[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=wN().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{yg=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=IN(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),R=document.getElementById(E)||document.createElement("a"),D=n("preprendIcon"),N=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;a(w),h(R,E);const k=u();l(N,D),w.append(N,_,R,k),document.body.appendChild(w)}i?(_.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function bN(){const t=Nl()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CN(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kN(){return!bN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DN,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?VN(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new hr(s,a,r)}}function VN(t,e){return t.replace(xN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xN=/\{\$([^}]+)}/g;function MN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Eg(i)&&Eg(o)){if(!rr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Eg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ao(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function co(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LN(t,e){const n=new FN(t,e);return n.subscribe.bind(n)}class FN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Uu),s.error===void 0&&(s.error=Uu),s.complete===void 0&&(s.complete=Uu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HN(t){return t===us?void 0:t}function jN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $N(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const qN={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},WN=ve.INFO,KN={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},zN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=KN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nd{constructor(e){this.name=e,this._logLevel=WN,this._logHandler=zN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const GN=(t,e)=>e.some(n=>t instanceof n);let vg,Tg;function QN(){return vg||(vg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YN(){return Tg||(Tg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Dh=new WeakMap,hT=new WeakMap,$u=new WeakMap,rd=new WeakMap;function JN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ur(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,t)}).catch(()=>{}),rd.set(e,t),e}function XN(t){if(Dh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Dh.set(t,e)}let Vh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZN(t){Vh=t(Vh)}function eO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hu(this),e,...n);return hT.set(r,e.sort?e.sort():[e]),Ur(r)}:YN().includes(t)?function(...e){return t.apply(Hu(this),e),Ur(uT.get(this))}:function(...e){return Ur(t.apply(Hu(this),e))}}function tO(t){return typeof t=="function"?eO(t):(t instanceof IDBTransaction&&XN(t),GN(t,QN())?new Proxy(t,Vh):t)}function Ur(t){if(t instanceof IDBRequest)return JN(t);if($u.has(t))return $u.get(t);const e=tO(t);return e!==t&&($u.set(t,e),rd.set(e,t)),e}const Hu=t=>rd.get(t);function nO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ur(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ur(o.result),l.oldVersion,l.newVersion,Ur(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const rO=["get","getKey","getAll","getAllKeys","count"],sO=["put","add","delete","clear"],ju=new Map;function wg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ju.get(e))return ju.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=sO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rO.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return ju.set(e,i),i}ZN(t=>({...t,get:(e,n,r)=>wg(e,n)||t.get(e,n,r),has:(e,n)=>!!wg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oO(t){return t.getComponent()?.type==="VERSION"}const xh="@firebase/app",Ig="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new nd("@firebase/app"),aO="@firebase/app-compat",cO="@firebase/analytics-compat",lO="@firebase/analytics",uO="@firebase/app-check-compat",hO="@firebase/app-check",fO="@firebase/auth",dO="@firebase/auth-compat",pO="@firebase/database",mO="@firebase/data-connect",gO="@firebase/database-compat",_O="@firebase/functions",yO="@firebase/functions-compat",EO="@firebase/installations",vO="@firebase/installations-compat",TO="@firebase/messaging",wO="@firebase/messaging-compat",IO="@firebase/performance",AO="@firebase/performance-compat",bO="@firebase/remote-config",RO="@firebase/remote-config-compat",SO="@firebase/storage",PO="@firebase/storage-compat",CO="@firebase/firestore",kO="@firebase/ai",NO="@firebase/firestore-compat",OO="firebase",DO="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",VO={[xh]:"fire-core",[aO]:"fire-core-compat",[lO]:"fire-analytics",[cO]:"fire-analytics-compat",[hO]:"fire-app-check",[uO]:"fire-app-check-compat",[fO]:"fire-auth",[dO]:"fire-auth-compat",[pO]:"fire-rtdb",[mO]:"fire-data-connect",[gO]:"fire-rtdb-compat",[_O]:"fire-fn",[yO]:"fire-fn-compat",[EO]:"fire-iid",[vO]:"fire-iid-compat",[TO]:"fire-fcm",[wO]:"fire-fcm-compat",[IO]:"fire-perf",[AO]:"fire-perf-compat",[bO]:"fire-rc",[RO]:"fire-rc-compat",[SO]:"fire-gcs",[PO]:"fire-gcs-compat",[CO]:"fire-fst",[NO]:"fire-fst-compat",[kO]:"fire-vertex","fire-js":"fire-js",[OO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,xO=new Map,Lh=new Map;function Ag(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function di(t){const e=t.name;if(Lh.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Lh.set(e,t);for(const n of qo.values())Ag(n,t);for(const n of xO.values())Ag(n,t);return!0}function sd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new ua("app","Firebase",MO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=DO;function fT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Mh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw $r.create("bad-app-name",{appName:String(s)});if(n||(n=oT()),!n)throw $r.create("no-options");const i=qo.get(s);if(i){if(rr(n,i.options)&&rr(r,i.config))return i;throw $r.create("duplicate-app",{appName:s})}const o=new BN(s);for(const l of Lh.values())o.addComponent(l);const a=new LO(n,r,o);return qo.set(s,a),a}function dT(t=Mh){const e=qo.get(t);if(!e&&t===Mh&&oT())return fT();if(!e)throw $r.create("no-app",{appName:t});return e}function bg(){return Array.from(qo.values())}function Hr(t,e,n){let r=VO[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(o.join(" "));return}di(new Rs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebase-heartbeat-database",UO=1,Wo="firebase-heartbeat-store";let Bu=null;function pT(){return Bu||(Bu=nO(FO,UO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw $r.create("idb-open",{originalErrorMessage:t.message})})),Bu}async function $O(t){try{const n=(await pT()).transaction(Wo),r=await n.objectStore(Wo).get(mT(t));return await n.done,r}catch(e){if(e instanceof hr)sr.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function Rg(t,e){try{const r=(await pT()).transaction(Wo,"readwrite");await r.objectStore(Wo).put(e,mT(t)),await r.done}catch(n){if(n instanceof hr)sr.warn(n.message);else{const r=$r.create("idb-set",{originalErrorMessage:n?.message});sr.warn(r.message)}}}function mT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=1024,jO=30;class BO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>jO){const s=KO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sg(),{heartbeatsToSend:n,unsentEntries:r}=qO(this._heartbeatsCache.heartbeats),s=Uc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return sr.warn(e),""}}}function Sg(){return new Date().toISOString().substring(0,10)}function qO(t,e=HO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $O(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pg(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}function KO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){di(new Rs("platform-logger",e=>new iO(e),"PRIVATE")),di(new Rs("heartbeat",e=>new BO(e),"PRIVATE")),Hr(xh,Ig,t),Hr(xh,Ig,"esm2020"),Hr("fire-js","")}zO("");var GO="firebase",QO="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(GO,QO,"app");var Cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,gT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function y(){}y.prototype=T.prototype,I.F=T.prototype,I.prototype=new y,I.prototype.constructor=I,I.D=function(A,P,C){for(var b=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)b[ue-2]=arguments[ue];return T.prototype[P].apply(A,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,T,y){y||(y=0);const A=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)A[P]=T.charCodeAt(y++)|T.charCodeAt(y++)<<8|T.charCodeAt(y++)<<16|T.charCodeAt(y++)<<24;else for(P=0;P<16;++P)A[P]=T[y++]|T[y++]<<8|T[y++]<<16|T[y++]<<24;T=I.g[0],y=I.g[1],P=I.g[2];let C=I.g[3],b;b=T+(C^y&(P^C))+A[0]+3614090360&4294967295,T=y+(b<<7&4294967295|b>>>25),b=C+(P^T&(y^P))+A[1]+3905402710&4294967295,C=T+(b<<12&4294967295|b>>>20),b=P+(y^C&(T^y))+A[2]+606105819&4294967295,P=C+(b<<17&4294967295|b>>>15),b=y+(T^P&(C^T))+A[3]+3250441966&4294967295,y=P+(b<<22&4294967295|b>>>10),b=T+(C^y&(P^C))+A[4]+4118548399&4294967295,T=y+(b<<7&4294967295|b>>>25),b=C+(P^T&(y^P))+A[5]+1200080426&4294967295,C=T+(b<<12&4294967295|b>>>20),b=P+(y^C&(T^y))+A[6]+2821735955&4294967295,P=C+(b<<17&4294967295|b>>>15),b=y+(T^P&(C^T))+A[7]+4249261313&4294967295,y=P+(b<<22&4294967295|b>>>10),b=T+(C^y&(P^C))+A[8]+1770035416&4294967295,T=y+(b<<7&4294967295|b>>>25),b=C+(P^T&(y^P))+A[9]+2336552879&4294967295,C=T+(b<<12&4294967295|b>>>20),b=P+(y^C&(T^y))+A[10]+4294925233&4294967295,P=C+(b<<17&4294967295|b>>>15),b=y+(T^P&(C^T))+A[11]+2304563134&4294967295,y=P+(b<<22&4294967295|b>>>10),b=T+(C^y&(P^C))+A[12]+1804603682&4294967295,T=y+(b<<7&4294967295|b>>>25),b=C+(P^T&(y^P))+A[13]+4254626195&4294967295,C=T+(b<<12&4294967295|b>>>20),b=P+(y^C&(T^y))+A[14]+2792965006&4294967295,P=C+(b<<17&4294967295|b>>>15),b=y+(T^P&(C^T))+A[15]+1236535329&4294967295,y=P+(b<<22&4294967295|b>>>10),b=T+(P^C&(y^P))+A[1]+4129170786&4294967295,T=y+(b<<5&4294967295|b>>>27),b=C+(y^P&(T^y))+A[6]+3225465664&4294967295,C=T+(b<<9&4294967295|b>>>23),b=P+(T^y&(C^T))+A[11]+643717713&4294967295,P=C+(b<<14&4294967295|b>>>18),b=y+(C^T&(P^C))+A[0]+3921069994&4294967295,y=P+(b<<20&4294967295|b>>>12),b=T+(P^C&(y^P))+A[5]+3593408605&4294967295,T=y+(b<<5&4294967295|b>>>27),b=C+(y^P&(T^y))+A[10]+38016083&4294967295,C=T+(b<<9&4294967295|b>>>23),b=P+(T^y&(C^T))+A[15]+3634488961&4294967295,P=C+(b<<14&4294967295|b>>>18),b=y+(C^T&(P^C))+A[4]+3889429448&4294967295,y=P+(b<<20&4294967295|b>>>12),b=T+(P^C&(y^P))+A[9]+568446438&4294967295,T=y+(b<<5&4294967295|b>>>27),b=C+(y^P&(T^y))+A[14]+3275163606&4294967295,C=T+(b<<9&4294967295|b>>>23),b=P+(T^y&(C^T))+A[3]+4107603335&4294967295,P=C+(b<<14&4294967295|b>>>18),b=y+(C^T&(P^C))+A[8]+1163531501&4294967295,y=P+(b<<20&4294967295|b>>>12),b=T+(P^C&(y^P))+A[13]+2850285829&4294967295,T=y+(b<<5&4294967295|b>>>27),b=C+(y^P&(T^y))+A[2]+4243563512&4294967295,C=T+(b<<9&4294967295|b>>>23),b=P+(T^y&(C^T))+A[7]+1735328473&4294967295,P=C+(b<<14&4294967295|b>>>18),b=y+(C^T&(P^C))+A[12]+2368359562&4294967295,y=P+(b<<20&4294967295|b>>>12),b=T+(y^P^C)+A[5]+4294588738&4294967295,T=y+(b<<4&4294967295|b>>>28),b=C+(T^y^P)+A[8]+2272392833&4294967295,C=T+(b<<11&4294967295|b>>>21),b=P+(C^T^y)+A[11]+1839030562&4294967295,P=C+(b<<16&4294967295|b>>>16),b=y+(P^C^T)+A[14]+4259657740&4294967295,y=P+(b<<23&4294967295|b>>>9),b=T+(y^P^C)+A[1]+2763975236&4294967295,T=y+(b<<4&4294967295|b>>>28),b=C+(T^y^P)+A[4]+1272893353&4294967295,C=T+(b<<11&4294967295|b>>>21),b=P+(C^T^y)+A[7]+4139469664&4294967295,P=C+(b<<16&4294967295|b>>>16),b=y+(P^C^T)+A[10]+3200236656&4294967295,y=P+(b<<23&4294967295|b>>>9),b=T+(y^P^C)+A[13]+681279174&4294967295,T=y+(b<<4&4294967295|b>>>28),b=C+(T^y^P)+A[0]+3936430074&4294967295,C=T+(b<<11&4294967295|b>>>21),b=P+(C^T^y)+A[3]+3572445317&4294967295,P=C+(b<<16&4294967295|b>>>16),b=y+(P^C^T)+A[6]+76029189&4294967295,y=P+(b<<23&4294967295|b>>>9),b=T+(y^P^C)+A[9]+3654602809&4294967295,T=y+(b<<4&4294967295|b>>>28),b=C+(T^y^P)+A[12]+3873151461&4294967295,C=T+(b<<11&4294967295|b>>>21),b=P+(C^T^y)+A[15]+530742520&4294967295,P=C+(b<<16&4294967295|b>>>16),b=y+(P^C^T)+A[2]+3299628645&4294967295,y=P+(b<<23&4294967295|b>>>9),b=T+(P^(y|~C))+A[0]+4096336452&4294967295,T=y+(b<<6&4294967295|b>>>26),b=C+(y^(T|~P))+A[7]+1126891415&4294967295,C=T+(b<<10&4294967295|b>>>22),b=P+(T^(C|~y))+A[14]+2878612391&4294967295,P=C+(b<<15&4294967295|b>>>17),b=y+(C^(P|~T))+A[5]+4237533241&4294967295,y=P+(b<<21&4294967295|b>>>11),b=T+(P^(y|~C))+A[12]+1700485571&4294967295,T=y+(b<<6&4294967295|b>>>26),b=C+(y^(T|~P))+A[3]+2399980690&4294967295,C=T+(b<<10&4294967295|b>>>22),b=P+(T^(C|~y))+A[10]+4293915773&4294967295,P=C+(b<<15&4294967295|b>>>17),b=y+(C^(P|~T))+A[1]+2240044497&4294967295,y=P+(b<<21&4294967295|b>>>11),b=T+(P^(y|~C))+A[8]+1873313359&4294967295,T=y+(b<<6&4294967295|b>>>26),b=C+(y^(T|~P))+A[15]+4264355552&4294967295,C=T+(b<<10&4294967295|b>>>22),b=P+(T^(C|~y))+A[6]+2734768916&4294967295,P=C+(b<<15&4294967295|b>>>17),b=y+(C^(P|~T))+A[13]+1309151649&4294967295,y=P+(b<<21&4294967295|b>>>11),b=T+(P^(y|~C))+A[4]+4149444226&4294967295,T=y+(b<<6&4294967295|b>>>26),b=C+(y^(T|~P))+A[11]+3174756917&4294967295,C=T+(b<<10&4294967295|b>>>22),b=P+(T^(C|~y))+A[2]+718787259&4294967295,P=C+(b<<15&4294967295|b>>>17),b=y+(C^(P|~T))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.v=function(I,T){T===void 0&&(T=I.length);const y=T-this.blockSize,A=this.C;let P=this.h,C=0;for(;C<T;){if(P==0)for(;C<=y;)s(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<T;)if(A[P++]=I.charCodeAt(C++),P==this.blockSize){s(this,A),P=0;break}}else for(;C<T;)if(A[P++]=I[C++],P==this.blockSize){s(this,A),P=0;break}}this.h=P,this.o+=T},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;T=this.o*8;for(var y=I.length-8;y<I.length;++y)I[y]=T&255,T/=256;for(this.v(I),I=Array(16),T=0,y=0;y<4;++y)for(let A=0;A<32;A+=8)I[T++]=this.g[y]>>>A&255;return I};function i(I,T){var y=a;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=T(I)}function o(I,T){this.h=T;const y=[];let A=!0;for(let P=I.length-1;P>=0;P--){const C=I[P]|0;A&&C==T||(y[P]=C,A=!1)}this.g=y}var a={};function l(I){return-128<=I&&I<128?i(I,function(T){return new o([T|0],T<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(I<0)return R(u(-I));const T=[];let y=1;for(let A=0;I>=y;A++)T[A]=I/y|0,y*=4294967296;return new o(T,0)}function h(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return R(h(I.substring(1),T));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const y=u(Math.pow(T,8));let A=d;for(let C=0;C<I.length;C+=8){var P=Math.min(8,I.length-C);const b=parseInt(I.substring(C,C+P),T);P<8?(P=u(Math.pow(T,P)),A=A.j(P).add(u(b))):(A=A.j(y),A=A.add(u(b)))}return A}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-R(this).m();let I=0,T=1;for(let y=0;y<this.g.length;y++){const A=this.i(y);I+=(A>=0?A:4294967296+A)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(E(this))return"-"+R(this).toString(I);const T=u(Math.pow(I,6));var y=this;let A="";for(;;){const P=k(y,T).g;y=D(y,P.j(T));let C=((y.g.length>0?y.g[0]:y.h)>>>0).toString(I);if(y=P,_(y))return C+A;for(;C.length<6;)C="0"+C;A=C+A}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(let T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=D(this,I),E(I)?-1:_(I)?0:1};function R(I){const T=I.g.length,y=[];for(let A=0;A<T;A++)y[A]=~I.g[A];return new o(y,~I.h).add(p)}t.abs=function(){return E(this)?R(this):this},t.add=function(I){const T=Math.max(this.g.length,I.g.length),y=[];let A=0;for(let P=0;P<=T;P++){let C=A+(this.i(P)&65535)+(I.i(P)&65535),b=(C>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);A=b>>>16,C&=65535,b&=65535,y[P]=b<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function D(I,T){return I.add(R(T))}t.j=function(I){if(_(this)||_(I))return d;if(E(this))return E(I)?R(this).j(R(I)):R(R(this).j(I));if(E(I))return R(this.j(R(I)));if(this.l(g)<0&&I.l(g)<0)return u(this.m()*I.m());const T=this.g.length+I.g.length,y=[];for(var A=0;A<2*T;A++)y[A]=0;for(A=0;A<this.g.length;A++)for(let P=0;P<I.g.length;P++){const C=this.i(A)>>>16,b=this.i(A)&65535,ue=I.i(P)>>>16,ye=I.i(P)&65535;y[2*A+2*P]+=b*ye,N(y,2*A+2*P),y[2*A+2*P+1]+=C*ye,N(y,2*A+2*P+1),y[2*A+2*P+1]+=b*ue,N(y,2*A+2*P+1),y[2*A+2*P+2]+=C*ue,N(y,2*A+2*P+2)}for(I=0;I<T;I++)y[I]=y[2*I+1]<<16|y[2*I];for(I=T;I<2*T;I++)y[I]=0;return new o(y,0)};function N(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function w(I,T){this.g=I,this.h=T}function k(I,T){if(_(T))throw Error("division by zero");if(_(I))return new w(d,d);if(E(I))return T=k(R(I),T),new w(R(T.g),R(T.h));if(E(T))return T=k(I,R(T)),new w(R(T.g),T.h);if(I.g.length>30){if(E(I)||E(T))throw Error("slowDivide_ only works with positive integers.");for(var y=p,A=T;A.l(I)<=0;)y=V(y),A=V(A);var P=F(y,1),C=F(A,1);for(A=F(A,2),y=F(y,2);!_(A);){var b=C.add(A);b.l(I)<=0&&(P=P.add(y),C=b),A=F(A,1),y=F(y,1)}return T=D(I,P.j(T)),new w(P,T)}for(P=d;I.l(T)>=0;){for(y=Math.max(1,Math.floor(I.m()/T.m())),A=Math.ceil(Math.log(y)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),C=u(y),b=C.j(T);E(b)||b.l(I)>0;)y-=A,C=u(y),b=C.j(T);_(C)&&(C=p),P=P.add(C),I=D(I,b)}return new w(P,I)}t.B=function(I){return k(this,I).h},t.and=function(I){const T=Math.max(this.g.length,I.g.length),y=[];for(let A=0;A<T;A++)y[A]=this.i(A)&I.i(A);return new o(y,this.h&I.h)},t.or=function(I){const T=Math.max(this.g.length,I.g.length),y=[];for(let A=0;A<T;A++)y[A]=this.i(A)|I.i(A);return new o(y,this.h|I.h)},t.xor=function(I){const T=Math.max(this.g.length,I.g.length),y=[];for(let A=0;A<T;A++)y[A]=this.i(A)^I.i(A);return new o(y,this.h^I.h)};function V(I){const T=I.g.length+1,y=[];for(let A=0;A<T;A++)y[A]=I.i(A)<<1|I.i(A-1)>>>31;return new o(y,I.h)}function F(I,T){const y=T>>5;T%=32;const A=I.g.length-y,P=[];for(let C=0;C<A;C++)P[C]=T>0?I.i(C+y)>>>T|I.i(C+y+1)<<32-T:I.i(C+y);return new o(P,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,jr=o}).apply(typeof Cg<"u"?Cg:typeof self<"u"?self:typeof window<"u"?window:{});var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,lo,yT,sc,Fh,ET,vT,TT;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wa=="object"&&Wa];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(f){var m=[],v;for(v in f)Object.prototype.hasOwnProperty.call(f,v)&&m.push([v,f[v]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,m){return c.call.apply(c.bind,arguments)}function u(c,f,m){return u=l,u.apply(null,arguments)}function h(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function d(c,f){function m(){}m.prototype=f.prototype,c.Z=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Ob=function(v,x,L){for(var Q=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)Q[_e-2]=arguments[_e];return f.prototype[x].apply(v,Q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const f=c.length;if(f>0){const m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function _(c,f){for(let v=1;v<arguments.length;v++){const x=arguments[v];var m=typeof x;if(m=m!="object"?m:x?Array.isArray(x)?"array":m:"null",m=="array"||m=="object"&&typeof x.length=="number"){m=c.length||0;const L=x.length||0;c.length=m+L;for(let Q=0;Q<L;Q++)c[m+Q]=x[Q]}else c.push(x)}}class E{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function R(c){o.setTimeout(()=>{throw c},0)}function D(){var c=I;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class N{constructor(){this.h=this.g=null}add(f,m){const v=w.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var w=new E(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let V,F=!1,I=new N,T=()=>{const c=Promise.resolve(void 0);V=()=>{c.then(y)}};function y(){for(var c;c=D();){try{c.h.call(c.g)}catch(m){R(m)}var f=w;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}F=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return c})();function b(c){return/^[\s\xa0]*$/.test(c)}function ue(c,f){P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}d(ue,P),ue.prototype.init=function(c,f){const m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),re=0;function pe(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++re,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,f,m){for(const v in c)f.call(m,c[v],v,c)}function vn(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function Gt(c){const f={};for(const m in c)f[m]=c[m];return f}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fn(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let L=0;L<gt.length;L++)m=gt[L],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function dn(c){this.src=c,this.g={},this.h=0}dn.prototype.add=function(c,f,m,v,x){const L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);const Q=At(c,f,v,x);return Q>-1?(f=c[Q],m||(f.fa=!1)):(f=new pe(f,this.src,L,!!v,x),f.fa=m,c.push(f)),f};function gr(c,f){const m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),L;(L=x>=0)&&Array.prototype.splice.call(v,x,1),L&&(te(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function At(c,f,m,v){for(let x=0;x<c.length;++x){const L=c[x];if(!L.da&&L.listener==f&&L.capture==!!m&&L.ha==v)return x}return-1}var H="closure_lm_"+(Math.random()*1e6|0),Z={};function Y(c,f,m,v,x){if(Array.isArray(f)){for(let L=0;L<f.length;L++)Y(c,f[L],m,v,x);return null}return m=q(m),c&&c[ye]?c.J(f,m,a(v)?!!v.capture:!1,x):ie(c,f,m,!1,v,x)}function ie(c,f,m,v,x,L){if(!f)throw Error("Invalid event type");const Q=a(x)?!!x.capture:!!x;let _e=B(c);if(_e||(c[H]=_e=new dn(c)),m=_e.add(f,m,v,Q,L),m.proxy)return m;if(v=Re(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)C||(x=Q),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(O(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Re(){function c(m){return f.call(c.src,c.listener,m)}const f=M;return c}function Le(c,f,m,v,x){if(Array.isArray(f))for(var L=0;L<f.length;L++)Le(c,f[L],m,v,x);else v=a(v)?!!v.capture:!!v,m=q(m),c&&c[ye]?(c=c.i,L=String(f).toString(),L in c.g&&(f=c.g[L],m=At(f,m,v,x),m>-1&&(te(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete c.g[L],c.h--)))):c&&(c=B(c))&&(f=c.g[f.toString()],c=-1,f&&(c=At(f,m,v,x)),(m=c>-1?f[c]:null)&&S(m))}function S(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[ye])gr(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(O(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=B(f))?(gr(m,c),m.h==0&&(m.src=null,f[H]=null)):te(c)}}}function O(c){return c in Z?Z[c]:Z[c]="on"+c}function M(c,f){if(c.da)c=!0;else{f=new ue(f,this);const m=c.listener,v=c.ha||c.src;c.fa&&S(c),c=m.call(v,f)}return c}function B(c){return c=c[H],c instanceof dn?c:null}var U="__closure_events_fn_"+(Math.random()*1e9>>>0);function q(c){return typeof c=="function"?c:(c[U]||(c[U]=function(f){return c.handleEvent(f)}),c[U])}function z(){A.call(this),this.i=new dn(this),this.M=this,this.G=null}d(z,A),z.prototype[ye]=!0,z.prototype.removeEventListener=function(c,f,m,v){Le(this,c,f,m,v)};function W(c,f){var m,v=c.G;if(v)for(m=[];v;v=v.G)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new P(f,c);else if(f instanceof P)f.target=f.target||c;else{var x=f;f=new P(v,c),Fn(f,x)}x=!0;let L,Q;if(m)for(Q=m.length-1;Q>=0;Q--)L=f.g=m[Q],x=G(L,v,!0,f)&&x;if(L=f.g=c,x=G(L,v,!0,f)&&x,x=G(L,v,!1,f)&&x,m)for(Q=0;Q<m.length;Q++)L=f.g=m[Q],x=G(L,v,!1,f)&&x}z.prototype.N=function(){if(z.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const m=c.g[f];for(let v=0;v<m.length;v++)te(m[v]);delete c.g[f],c.h--}}this.G=null},z.prototype.J=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},z.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function G(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let x=!0;for(let L=0;L<f.length;++L){const Q=f[L];if(Q&&!Q.da&&Q.capture==m){const _e=Q.listener,at=Q.ha||Q.src;Q.fa&&gr(c.i,Q),x=_e.call(at,v)!==!1&&x}}return x&&!v.defaultPrevented}function K(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function ae(c){c.g=K(()=>{c.g=null,c.i&&(c.i=!1,ae(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class X extends A{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(c){A.call(this),this.h=c,this.g={}}d(se,A);var de=[];function Ee(c){Me(c.g,function(f,m){this.g.hasOwnProperty(m)&&S(f)},c),c.g={}}se.prototype.N=function(){se.Z.N.call(this),Ee(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=o.JSON.stringify,Pe=o.JSON.parse,bt=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function it(){}function Ft(){}var ot={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Un(){P.call(this,"d")}d(Un,P);function Ls(){P.call(this,"c")}d(Ls,P);var Xe={},Qt=null;function ts(){return Qt=Qt||new z}Xe.Ia="serverreachability";function Li(c){P.call(this,Xe.Ia,c)}d(Li,P);function Fi(c){const f=ts();W(f,new Li(f))}Xe.STAT_EVENT="statevent";function np(c,f){P.call(this,Xe.STAT_EVENT,c),this.stat=f}d(np,P);function xt(c){const f=ts();W(f,new np(f,c))}Xe.Ja="timingevent";function rp(c,f){P.call(this,Xe.Ja,c),this.size=f}d(rp,P);function Ui(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function $i(){this.g=!0}$i.prototype.ua=function(){this.g=!1};function OI(c,f,m,v,x,L){c.info(function(){if(c.g)if(L){var Q="",_e=L.split("&");for(let Fe=0;Fe<_e.length;Fe++){var at=_e[Fe].split("=");if(at.length>1){const ft=at[0];at=at[1];const wn=ft.split("_");Q=wn.length>=2&&wn[1]=="type"?Q+(ft+"="+at+"&"):Q+(ft+"=redacted&")}}}else Q=null;else Q=L;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+Q})}function DI(c,f,m,v,x,L,Q){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+L+" "+Q})}function Fs(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+xI(c,m)+(v?" "+v:"")})}function VI(c,f){c.info(function(){return"TIMEOUT: "+f})}$i.prototype.info=function(){};function xI(c,f){if(!c.g)return f;if(!f)return null;try{const L=JSON.parse(f);if(L){for(c=0;c<L.length;c++)if(Array.isArray(L[c])){var m=L[c];if(!(m.length<2)){var v=m[1];if(Array.isArray(v)&&!(v.length<1)){var x=v[0];if(x!="noop"&&x!="stop"&&x!="close")for(let Q=1;Q<v.length;Q++)v[Q]=""}}}}return Ce(L)}catch{return f}}var Ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sp={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ip;function ru(){}d(ru,it),ru.prototype.g=function(){return new XMLHttpRequest},ip=new ru;function Hi(c){return encodeURIComponent(String(c))}function MI(c){var f=1;c=c.split(":");const m=[];for(;f>0&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function _r(c,f,m,v){this.j=c,this.i=f,this.l=m,this.S=v||1,this.V=new se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new op}function op(){this.i=null,this.g="",this.h=!1}var ap={},su={};function iu(c,f,m){c.M=1,c.A=Ia(Tn(f)),c.u=m,c.R=!0,cp(c,null)}function cp(c,f){c.F=Date.now(),wa(c),c.B=Tn(c.A);var m=c.B,v=c.S;Array.isArray(v)||(v=[String(v)]),Tp(m.i,"t",v),c.C=0,m=c.j.L,c.h=new op,c.g=Up(c.j,m?f:null,!c.u),c.P>0&&(c.O=new X(u(c.Y,c,c.g),c.P)),f=c.V,m=c.g,v=c.ba;var x="readystatechange";Array.isArray(x)||(x&&(de[0]=x.toString()),x=de);for(let L=0;L<x.length;L++){const Q=Y(m,x[L],v||f.handleEvent,!1,f.h||f);if(!Q)break;f.g[Q.key]=Q}f=c.J?Gt(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),Fi(),OI(c.i,c.v,c.B,c.l,c.S,c.u)}_r.prototype.ba=function(c){c=c.target;const f=this.O;f&&vr(c)==3?f.j():this.Y(c)},_r.prototype.Y=function(c){try{if(c==this.g)e:{const _e=vr(this.g),at=this.g.ya(),Fe=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||Pp(this.g)))){this.K||_e!=4||at==7||(at==8||Fe<=0?Fi(3):Fi(2)),ou(this);var f=this.g.ca();this.X=f;var m=LI(this);if(this.o=f==200,DI(this.i,this.v,this.B,this.l,this.S,_e,f),this.o){if(this.U&&!this.L){t:{if(this.g){var v,x=this.g;if((v=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(v)){var L=v;break t}}L=null}if(c=L)Fs(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,au(this,c);else{this.o=!1,this.m=3,xt(12),ns(this),ji(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<m.length;)if(ft=FI(this,m),ft==su){_e==4&&(this.m=4,xt(14),c=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==ap){this.m=4,xt(15),Fs(this.i,this.l,m,"[Invalid Chunk]"),c=!1;break}else Fs(this.i,this.l,ft,null),au(this,ft);if(lp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||m.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)Fs(this.i,this.l,m,"[Invalid Chunked Response]"),ns(this),ji(this);else if(m.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),mu(Q),Q.P=!0,xt(11))}}else Fs(this.i,this.l,m,null),au(this,m);_e==4&&ns(this),this.o&&!this.K&&(_e==4?xp(this.j,this):(this.o=!1,wa(this)))}else XI(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),ns(this),ji(this)}}}catch{}finally{}};function LI(c){if(!lp(c))return c.g.la();const f=Pp(c.g);if(f==="")return"";let m="";const v=f.length,x=vr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ns(c),ji(c),"";c.h.i=new o.TextDecoder}for(let L=0;L<v;L++)c.h.h=!0,m+=c.h.i.decode(f[L],{stream:!(x&&L==v-1)});return f.length=0,c.h.g+=m,c.C=0,c.h.g}function lp(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function FI(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?su:(m=Number(f.substring(m,v)),isNaN(m)?ap:(v+=1,v+m>f.length?su:(f=f.slice(v,v+m),c.C=v+m,f)))}_r.prototype.cancel=function(){this.K=!0,ns(this)};function wa(c){c.T=Date.now()+c.H,up(c,c.H)}function up(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ui(u(c.aa,c),f)}function ou(c){c.D&&(o.clearTimeout(c.D),c.D=null)}_r.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(VI(this.i,this.B),this.M!=2&&(Fi(),xt(17)),ns(this),this.m=2,ji(this)):up(this,this.T-c)};function ji(c){c.j.I==0||c.K||xp(c.j,c)}function ns(c){ou(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,Ee(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function au(c,f){try{var m=c.j;if(m.I!=0&&(m.g==c||cu(m.h,c))){if(!c.L&&cu(m.h,c)&&m.I==3){try{var v=m.Ba.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<c.F)Pa(m),Ra(m);else break e;pu(m),xt(18)}}else m.xa=x[1],0<m.xa-m.K&&x[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Ui(u(m.Va,m),6e3));dp(m.h)<=1&&m.ta&&(m.ta=void 0)}else ss(m,11)}else if((c.L||m.g==c)&&Pa(m),!b(f))for(x=m.Ba.g.parse(f),f=0;f<x.length;f++){let Fe=x[f];const ft=Fe[0];if(!(ft<=m.K))if(m.K=ft,Fe=Fe[1],m.I==2)if(Fe[0]=="c"){m.M=Fe[1],m.ba=Fe[2];const wn=Fe[3];wn!=null&&(m.ka=wn,m.j.info("VER="+m.ka));const is=Fe[4];is!=null&&(m.za=is,m.j.info("SVER="+m.za));const Tr=Fe[5];Tr!=null&&typeof Tr=="number"&&Tr>0&&(v=1.5*Tr,m.O=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const wr=c.g;if(wr){const ka=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var L=v.h;L.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(lu(L,L.h),L.h=null))}if(v.G){const gu=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;gu&&(v.wa=gu,qe(v.J,v.G,gu))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-c.F,m.j.info("Handshake RTT: "+m.T+"ms")),v=m;var Q=c;if(v.na=Fp(v,v.L?v.ba:null,v.W),Q.L){pp(v.h,Q);var _e=Q,at=v.O;at&&(_e.H=at),_e.D&&(ou(_e),wa(_e)),v.g=Q}else Dp(v);m.i.length>0&&Sa(m)}else Fe[0]!="stop"&&Fe[0]!="close"||ss(m,7);else m.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?ss(m,7):du(m):Fe[0]!="noop"&&m.l&&m.l.qa(Fe),m.A=0)}}Fi(4)}catch{}}var UI=class{constructor(c,f){this.g=c,this.map=f}};function hp(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fp(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function dp(c){return c.h?1:c.g?c.g.size:0}function cu(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function lu(c,f){c.g?c.g.add(f):c.h=f}function pp(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}hp.prototype.cancel=function(){if(this.i=mp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mp(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.G);return f}return g(c.i)}var gp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $I(c,f){if(c){c=c.split("&");for(let m=0;m<c.length;m++){const v=c[m].indexOf("=");let x,L=null;v>=0?(x=c[m].substring(0,v),L=c[m].substring(v+1)):x=c[m],f(x,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function yr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof yr?(this.l=c.l,Bi(this,c.j),this.o=c.o,this.g=c.g,qi(this,c.u),this.h=c.h,uu(this,wp(c.i)),this.m=c.m):c&&(f=String(c).match(gp))?(this.l=!1,Bi(this,f[1]||"",!0),this.o=Wi(f[2]||""),this.g=Wi(f[3]||"",!0),qi(this,f[4]),this.h=Wi(f[5]||"",!0),uu(this,f[6]||"",!0),this.m=Wi(f[7]||"")):(this.l=!1,this.i=new zi(null,this.l))}yr.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(Ki(f,_p,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Ki(f,_p,!0),"@"),c.push(Hi(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&c.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Ki(m,m.charAt(0)=="/"?BI:jI,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Ki(m,WI)),c.join("")},yr.prototype.resolve=function(c){const f=Tn(this);let m=!!c.j;m?Bi(f,c.j):m=!!c.o,m?f.o=c.o:m=!!c.g,m?f.g=c.g:m=c.u!=null;var v=c.h;if(m)qi(f,c.u);else if(m=!!c.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var x=f.h.lastIndexOf("/");x!=-1&&(v=f.h.slice(0,x+1)+v)}if(x=v,x==".."||x==".")v="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){v=x.lastIndexOf("/",0)==0,x=x.split("/");const L=[];for(let Q=0;Q<x.length;){const _e=x[Q++];_e=="."?v&&Q==x.length&&L.push(""):_e==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),v&&Q==x.length&&L.push("")):(L.push(_e),v=!0)}v=L.join("/")}else v=x}return m?f.h=v:m=c.i.toString()!=="",m?uu(f,wp(c.i)):m=!!c.m,m&&(f.m=c.m),f};function Tn(c){return new yr(c)}function Bi(c,f,m){c.j=m?Wi(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function qi(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function uu(c,f,m){f instanceof zi?(c.i=f,KI(c.i,c.l)):(m||(f=Ki(f,qI)),c.i=new zi(f,c.l))}function qe(c,f,m){c.i.set(f,m)}function Ia(c){return qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Wi(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ki(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,HI),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function HI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _p=/[#\/\?@]/g,jI=/[#\?:]/g,BI=/[#\?]/g,qI=/[#\?@]/g,WI=/#/g;function zi(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function rs(c){c.g||(c.g=new Map,c.h=0,c.i&&$I(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=zi.prototype,t.add=function(c,f){rs(this),this.i=null,c=Us(this,c);let m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function yp(c,f){rs(c),f=Us(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Ep(c,f){return rs(c),f=Us(c,f),c.g.has(f)}t.forEach=function(c,f){rs(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)};function vp(c,f){rs(c);let m=[];if(typeof f=="string")Ep(c,f)&&(m=m.concat(c.g.get(Us(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)m=m.concat(c[f]);return m}t.set=function(c,f){return rs(this),this.i=null,c=Us(this,c),Ep(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=vp(this,c),c.length>0?String(c[0]):f):f};function Tp(c,f,m){yp(c,f),m.length>0&&(c.i=null,c.g.set(Us(c,f),g(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let v=0;v<f.length;v++){var m=f[v];const x=Hi(m);m=vp(this,m);for(let L=0;L<m.length;L++){let Q=x;m[L]!==""&&(Q+="="+Hi(m[L])),c.push(Q)}}return this.i=c.join("&")};function wp(c){const f=new zi;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function Us(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function KI(c,f){f&&!c.j&&(rs(c),c.i=null,c.g.forEach(function(m,v){const x=v.toLowerCase();v!=x&&(yp(this,v),Tp(this,x,m))},c)),c.j=f}function zI(c,f){const m=new $i;if(o.Image){const v=new Image;v.onload=h(Er,m,"TestLoadImage: loaded",!0,f,v),v.onerror=h(Er,m,"TestLoadImage: error",!1,f,v),v.onabort=h(Er,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=h(Er,m,"TestLoadImage: timeout",!1,f,v),o.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function GI(c,f){const m=new $i,v=new AbortController,x=setTimeout(()=>{v.abort(),Er(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(L=>{clearTimeout(x),L.ok?Er(m,"TestPingServer: ok",!0,f):Er(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Er(m,"TestPingServer: error",!1,f)})}function Er(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function QI(){this.g=new bt}function hu(c){this.i=c.Sb||null,this.h=c.ab||!1}d(hu,it),hu.prototype.g=function(){return new Aa(this.i,this.h)};function Aa(c,f){z.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Aa,z),t=Aa.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,Qi(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ip(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ip(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Gi(this):Qi(this),this.readyState==3&&Ip(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Gi(this))},t.Na=function(c){this.g&&(this.response=c,Gi(this))},t.ga=function(){this.g&&Gi(this)};function Gi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qi(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Qi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ap(c){let f="";return Me(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function fu(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Ap(m),typeof c=="string"?m!=null&&Hi(m):qe(c,f,m))}function Qe(c){z.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Qe,z);var YI=/^https?$/i,JI=["POST","PUT"];t=Qe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ip.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(L){bp(this,L);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const L of v.keys())m.set(L,v.get(L));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),x=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(JI,f,void 0)>=0)||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,Q]of m)this.g.setRequestHeader(L,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(L){bp(this,L)}};function bp(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,Rp(c),ba(c)}function Rp(c){c.A||(c.A=!0,W(c,"complete"),W(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,W(this,"complete"),W(this,"abort"),ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ba(this,!0)),Qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Sp(this):this.Xa())},t.Xa=function(){Sp(this)};function Sp(c){if(c.h&&typeof i<"u"){if(c.v&&vr(c)==4)setTimeout(c.Ca.bind(c),0);else if(W(c,"readystatechange"),vr(c)==4){c.h=!1;try{const L=c.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=L===0){let Q=String(c.D).match(gp)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),v=!YI.test(Q?Q.toLowerCase():"")}m=v}if(m)W(c,"complete"),W(c,"success");else{c.o=6;try{var x=vr(c)>2?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.ca()+"]",Rp(c)}}finally{ba(c)}}}}function ba(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const m=c.g;c.g=null,f||W(c,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Pe(f)}};function Pp(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function XI(c){const f={};c=(c.g&&vr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(b(c[v]))continue;var m=MI(c[v]);const x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=f[x]||[];f[x]=L,L.push(m)}vn(f,function(v){return v.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Cp(c){this.za=0,this.i=[],this.j=new $i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,c),this.Za=Yi("retryDelaySeedMs",1e4,c),this.Ta=Yi("forwardChannelMaxRetries",2,c),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new hp(c&&c.concurrentRequestLimit),this.Ba=new QI,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Cp.prototype,t.ka=8,t.I=1,t.connect=function(c,f,m,v){xt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.J=Fp(this,null,this.W),Sa(this)};function du(c){if(kp(c),c.I==3){var f=c.V++,m=Tn(c.J);if(qe(m,"SID",c.M),qe(m,"RID",f),qe(m,"TYPE","terminate"),Ji(c,m),f=new _r(c,c.j,f),f.M=2,f.A=Ia(Tn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=Up(f.j,null),f.g.ea(f.A)),f.F=Date.now(),wa(f)}Lp(c)}function Ra(c){c.g&&(mu(c),c.g.cancel(),c.g=null)}function kp(c){Ra(c),c.v&&(o.clearTimeout(c.v),c.v=null),Pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Sa(c){if(!fp(c.h)&&!c.m){c.m=!0;var f=c.Ea;V||T(),F||(V(),F=!0),I.add(f,c),c.D=0}}function ZI(c,f){return dp(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ui(u(c.Ea,c,f),Mp(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const x=new _r(this,this.j,c);let L=this.o;if(this.U&&(L?(L=Gt(L),Fn(L,this.U)):L=this.U),this.u!==null||this.R||(x.J=L,L=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Op(this,x,f),m=Tn(this.J),qe(m,"RID",c),qe(m,"CVER",22),this.G&&qe(m,"X-HTTP-Session-Id",this.G),Ji(this,m),L&&(this.R?f="headers="+Hi(Ap(L))+"&"+f:this.u&&fu(m,this.u,L)),lu(this.h,x),this.Ra&&qe(m,"TYPE","init"),this.S?(qe(m,"$req",f),qe(m,"SID","null"),x.U=!0,iu(x,m,null)):iu(x,m,f),this.I=2}}else this.I==3&&(c?Np(this,c):this.i.length==0||fp(this.h)||Np(this))};function Np(c,f){var m;f?m=f.l:m=c.V++;const v=Tn(c.J);qe(v,"SID",c.M),qe(v,"RID",m),qe(v,"AID",c.K),Ji(c,v),c.u&&c.o&&fu(v,c.u,c.o),m=new _r(c,c.j,m,c.D+1),c.u===null&&(m.J=c.o),f&&(c.i=f.G.concat(c.i)),f=Op(c,m,1e3),m.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),lu(c.h,m),iu(m,v,f)}function Ji(c,f){c.H&&Me(c.H,function(m,v){qe(f,v,m)}),c.l&&Me({},function(m,v){qe(f,v,m)})}function Op(c,f,m){m=Math.min(c.i.length,m);const v=c.l?u(c.l.Ka,c.l,c):null;e:{var x=c.i;let _e=-1;for(;;){const at=["count="+m];_e==-1?m>0?(_e=x[0].g,at.push("ofs="+_e)):_e=0:at.push("ofs="+_e);let Fe=!0;for(let ft=0;ft<m;ft++){var L=x[ft].g;const wn=x[ft].map;if(L-=_e,L<0)_e=Math.max(0,x[ft].g-100),Fe=!1;else try{L="req"+L+"_"||"";try{var Q=wn instanceof Map?wn:Object.entries(wn);for(const[is,Tr]of Q){let wr=Tr;a(Tr)&&(wr=Ce(Tr)),at.push(L+is+"="+encodeURIComponent(wr))}}catch(is){throw at.push(L+"type="+encodeURIComponent("_badmap")),is}}catch{v&&v(wn)}}if(Fe){Q=at.join("&");break e}}Q=void 0}return c=c.i.splice(0,m),f.G=c,Q}function Dp(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;V||T(),F||(V(),F=!0),I.add(f,c),c.A=0}}function pu(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ui(u(c.Da,c),Mp(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Vp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ui(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Ra(this),Vp(this))};function mu(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Vp(c){c.g=new _r(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=Tn(c.na);qe(f,"RID","rpc"),qe(f,"SID",c.M),qe(f,"AID",c.K),qe(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&qe(f,"TO",c.ia),qe(f,"TYPE","xmlhttp"),Ji(c,f),c.u&&c.o&&fu(f,c.u,c.o),c.O&&(c.g.H=c.O);var m=c.g;c=c.ba,m.M=1,m.A=Ia(Tn(f)),m.u=null,m.R=!0,cp(m,c)}t.Va=function(){this.C!=null&&(this.C=null,Ra(this),pu(this),xt(19))};function Pa(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function xp(c,f){var m=null;if(c.g==f){Pa(c),mu(c),c.g=null;var v=2}else if(cu(c.h,f))m=f.G,pp(c.h,f),v=1;else return;if(c.I!=0){if(f.o)if(v==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var x=c.D;v=ts(),W(v,new rp(v,m)),Sa(c)}else Dp(c);else if(x=f.m,x==3||x==0&&f.X>0||!(v==1&&ZI(c,f)||v==2&&pu(c)))switch(m&&m.length>0&&(f=c.h,f.i=f.i.concat(m)),x){case 1:ss(c,5);break;case 4:ss(c,10);break;case 3:ss(c,6);break;default:ss(c,2)}}}function Mp(c,f){let m=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(m*=2),m*f}function ss(c,f){if(c.j.info("Error code "+f),f==2){var m=u(c.bb,c),v=c.Ua;const x=!v;v=new yr(v||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bi(v,"https"),Ia(v),x?zI(v.toString(),m):GI(v.toString(),m)}else xt(2);c.I=0,c.l&&c.l.pa(f),Lp(c),kp(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Lp(c){if(c.I=0,c.ja=[],c.l){const f=mp(c.h);(f.length!=0||c.i.length!=0)&&(_(c.ja,f),_(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function Fp(c,f,m){var v=m instanceof yr?Tn(m):new yr(m);if(v.g!="")f&&(v.g=f+"."+v.g),qi(v,v.u);else{var x=o.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;const L=new yr(null);v&&Bi(L,v),f&&(L.g=f),x&&qi(L,x),m&&(L.h=m),v=L}return m=c.G,f=c.wa,m&&f&&qe(v,m,f),qe(v,"VER",c.ka),Ji(c,v),v}function Up(c,f,m){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new Qe(new hu({ab:m})):new Qe(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $p(){}t=$p.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ca(){}Ca.prototype.g=function(c,f){return new Yt(c,f)};function Yt(c,f){z.call(this),this.g=new Cp(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!b(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!b(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new $s(this)}d(Yt,z),Yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){du(this.g)},Yt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.v&&(m={},m.__data__=Ce(c),c=m);f.i.push(new UI(f.Ya++,c)),f.I==3&&Sa(f)},Yt.prototype.N=function(){this.g.l=null,delete this.j,du(this.g),delete this.g,Yt.Z.N.call(this)};function Hp(c){Un.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}d(Hp,Un);function jp(){Ls.call(this),this.status=1}d(jp,Ls);function $s(c){this.g=c}d($s,$p),$s.prototype.ra=function(){W(this.g,"a")},$s.prototype.qa=function(c){W(this.g,new Hp(c))},$s.prototype.pa=function(c){W(this.g,new jp)},$s.prototype.oa=function(){W(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,TT=function(){return new Ca},vT=function(){return ts()},ET=Xe,Fh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,sc=Ta,sp.COMPLETE="complete",yT=sp,Ft.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",z.prototype.listen=z.prototype.J,lo=Ft,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,_T=Qe}).apply(typeof Wa<"u"?Wa:typeof self<"u"?self:typeof window<"u"?window:{});const kg="@firebase/firestore",Ng="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new nd("@firebase/firestore");function Ks(){return Ss.logLevel}function ee(t,...e){if(Ss.logLevel<=ve.DEBUG){const n=e.map(id);Ss.debug(`Firestore (${ki}): ${t}`,...n)}}function ir(t,...e){if(Ss.logLevel<=ve.ERROR){const n=e.map(id);Ss.error(`Firestore (${ki}): ${t}`,...n)}}function pi(t,...e){if(Ss.logLevel<=ve.WARN){const n=e.map(id);Ss.warn(`Firestore (${ki}): ${t}`,...n)}}function id(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wT(t,r,n)}function wT(t,e,n){let r=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ir(r),new Error(r)}function Ne(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||wT(e,s,r)}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pt.UNAUTHENTICATED)))}shutdown(){}}class JO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XO{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yn,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yn)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new IT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class ZO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Og{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Og(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Og(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=nD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Uh(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return qu(s)===qu(i)?we(s,i):qu(s)?1:-1}return we(t.length,e.length)}const rD=55296,sD=57343;function qu(t){const e=t.charCodeAt(0);return e>=rD&&e<=sD}function mi(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="__name__";class Rn{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rn?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Rn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=Rn.isNumericId(e),s=Rn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Rn.extractNumericId(e).compare(Rn.extractNumericId(n)):Uh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class je extends Rn{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new je(n)}static emptyPath(){return new je([])}}const iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Rn{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return iD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dg}static keyField(){return new vt([Dg])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(je.fromString(e))}static fromName(e){return new oe(je.fromString(e).popFirst(5))}static empty(){return new oe(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oD(t,e,n,r){if(e===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vg(t){if(!oe.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xg(t){if(oe.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ol(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ol(t);throw new J($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function aD(t,e){if(e<=0)throw new J($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t,e){const n={typeString:t};return e&&(n.value=e),n}function fa(t,e){if(!bT(t))throw new J($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=-62135596800,Lg=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lg);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mg)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lg}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fa(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:st("string",We._jsonSchemaVersion),seconds:st("number"),nanoseconds:st("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new We(0,0))}static max(){return new me(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=-1;function cD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=me.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Kr(s,oe.empty(),e)}function lD(t){return new Kr(t.readTime,t.key,Ko)}class Kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kr(me.min(),oe.empty(),Ko)}static max(){return new Kr(me.max(),oe.empty(),Ko)}}function uD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ni(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==hD)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):j.reject(n)}static resolve(e){return new j(((n,r)=>{n(e)}))}static reject(e){return new j(((n,r)=>{r(e)}))}static waitFor(e){return new j(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next((s=>s?j.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new j(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next((h=>{o[u]=h,++a,a===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,n){return new j(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function dD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dl.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=-1;function Vl(t){return t==null}function $c(t){return t===0&&1/t==-1/0}function pD(t){return typeof t=="number"&&Number.isInteger(t)&&!$c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function mD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fg(e)),e=gD(t.get(n),e);return Fg(e)}function gD(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case RT:n+="";break;default:n+=i}}return n}function Fg(t){return t+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ST(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ka(this.root,e,this.comparator,!0)}}class Ka{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $g(this.data.getIterator())}getIteratorFrom(e){return new $g(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class $g{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new ut(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mi(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new PT("Invalid base64 string: "+i):i}})(e);return new It(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const _D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=_D.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="server_timestamp",kT="__type__",NT="__previous_value__",OT="__local_write_time__";function cd(t){return(t?.mapValue?.fields||{})[kT]?.stringValue===CT}function xl(t){const e=t.mapValue.fields[NT];return cd(e)?xl(e):e}function zo(t){const e=zr(t.mapValue.fields[OT].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Hc="(default)";class Go{constructor(e,n){this.projectId=e,this.database=n||Hc}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",ED="__max__",za={mapValue:{}},VT="__vector__",jc="value";function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cd(t)?4:TD(t)?9007199254740991:vD(t)?10:11:fe(28295,{value:t})}function Mn(t,e){if(t===e)return!0;const n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zo(t).isEqual(zo(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=zr(s.timestampValue),a=zr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Gr(s.bytesValue).isEqual(Gr(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Ze(s.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(s.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Ze(s.integerValue)===Ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ze(s.doubleValue),a=Ze(i.doubleValue);return o===a?$c(o)===$c(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return mi(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Ug(o)!==Ug(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mn(o[l],a[l])))return!1;return!0})(t,e);default:return fe(52216,{left:t})}}function Qo(t,e){return(t.values||[]).find((n=>Mn(n,e)))!==void 0}function gi(t,e){if(t===e)return 0;const n=Qr(t),r=Qr(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=Ze(i.integerValue||i.doubleValue),l=Ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return Hg(t.timestampValue,e.timestampValue);case 4:return Hg(zo(t),zo(e));case 5:return Uh(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=Gr(i),l=Gr(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=we(a[u],l[u]);if(h!==0)return h}return we(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=we(Ze(i.latitude),Ze(o.latitude));return a!==0?a:we(Ze(i.longitude),Ze(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jg(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},l=o.fields||{},u=a[jc]?.arrayValue,h=l[jc]?.arrayValue,d=we(u?.values?.length||0,h?.values?.length||0);return d!==0?d:jg(u,h)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===za.mapValue&&o===za.mapValue)return 0;if(i===za.mapValue)return 1;if(o===za.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=Uh(l[d],h[d]);if(p!==0)return p;const g=gi(a[l[d]],u[h[d]]);if(g!==0)return g}return we(l.length,h.length)})(t.mapValue,e.mapValue);default:throw fe(23264,{he:n})}}function Hg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=zr(t),r=zr(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function jg(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=gi(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function _i(t){return $h(t)}function $h(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=zr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Gr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$h(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$h(n.fields[o])}`;return s+"}"})(t.mapValue):fe(61005,{value:t})}function ic(t){switch(Qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xl(t);return e?16+ic(e):16;case 5:return 2*t.stringValue.length;case 6:return Gr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+ic(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Zr(r.fields,((i,o)=>{s+=i.length+ic(o)})),s})(t.mapValue);default:throw fe(13486,{value:t})}}function Bg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hh(t){return!!t&&"integerValue"in t}function ld(t){return!!t&&"arrayValue"in t}function qg(t){return!!t&&"nullValue"in t}function Wg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oc(t){return!!t&&"mapValue"in t}function vD(t){return(t?.mapValue?.fields||{})[DT]?.stringValue===VT}function Ao(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ao(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ao(t.arrayValue.values[n]);return e}return{...t}}function TD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ED}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ao(n)}setAll(e){let n=vt.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ao(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];oc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Bt(Ao(this.value))}}function xT(t){const e=[];return Zr(t.fields,((n,r)=>{const s=new vt([n]);if(oc(r)){const i=xT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,me.min(),me.min(),me.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,s){return new Nt(e,1,n,me.min(),r,s,0)}static newNoDocument(e,n){return new Nt(e,2,n,me.min(),me.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,me.min(),me.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.position=e,this.inclusive=n}}function Kg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=gi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function zg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n="asc"){this.field=e,this.dir=n}}function wD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class nt extends MT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AD(e,n,r):n==="array-contains"?new SD(e,r):n==="in"?new PD(e,r):n==="not-in"?new CD(e,r):n==="array-contains-any"?new kD(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bD(e,r):new RD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gi(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends MT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new En(e,n)}matches(e){return LT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LT(t){return t.op==="and"}function FT(t){return ID(t)&&LT(t)}function ID(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function jh(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+_i(t.value);if(FT(t))return t.filters.map((e=>jh(e))).join(",");{const e=t.filters.map((n=>jh(n))).join(",");return`${t.op}(${e})`}}function UT(t,e){return t instanceof nt?(function(r,s){return s instanceof nt&&r.op===s.op&&r.field.isEqual(s.field)&&Mn(r.value,s.value)})(t,e):t instanceof En?(function(r,s){return s instanceof En&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&UT(o,s.filters[a])),!0):!1})(t,e):void fe(19439)}function $T(t){return t instanceof nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_i(n.value)}`})(t):t instanceof En?(function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"})(t):"Filter"}class AD extends nt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class bD extends nt{constructor(e,n){super(e,"in",n),this.keys=HT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class RD extends nt{constructor(e,n){super(e,"not-in",n),this.keys=HT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HT(t,e){return(e.arrayValue?.values||[]).map((n=>oe.fromName(n.referenceValue)))}class SD extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ld(n)&&Qo(n.arrayValue,this.value)}}class PD extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class CD extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qo(this.value.arrayValue,n)}}class kD extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ld(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Qo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Gg(t,e=null,n=[],r=[],s=null,i=null,o=null){return new ND(t,e,n,r,s,i,o)}function ud(t){const e=ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jh(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Vl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_i(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_i(r))).join(",")),e.Te=n}return e.Te}function hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zg(t.startAt,e.startAt)&&zg(t.endAt,e.endAt)}function Bh(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OD(t,e,n,r,s,i,o,a){return new Di(t,e,n,r,s,i,o,a)}function Ml(t){return new Di(t)}function Qg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jT(t){return t.collectionGroup!==null}function bo(t){const e=ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(vt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Yo(i,r))})),n.has(vt.keyField().canonicalString())||e.Ie.push(new Yo(vt.keyField(),r))}return e.Ie}function Cn(t){const e=ge(t);return e.Ee||(e.Ee=DD(e,bo(t))),e.Ee}function DD(t,e){if(t.limitType==="F")return Gg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Yo(s.field,i)}));const n=t.endAt?new Bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bc(t.startAt.position,t.startAt.inclusive):null;return Gg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qh(t,e){const n=t.filters.concat([e]);return new Di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qc(t,e,n){return new Di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ll(t,e){return hd(Cn(t),Cn(e))&&t.limitType===e.limitType}function BT(t){return`${ud(Cn(t))}|lt:${t.limitType}`}function zs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>$T(s))).join(", ")}]`),Vl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>_i(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>_i(s))).join(",")),`Target(${r})`})(Cn(t))}; limitType=${t.limitType})`}function Fl(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of bo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const u=Kg(o,a,l);return o.inclusive?u<=0:u<0})(r.startAt,bo(r),s)||r.endAt&&!(function(o,a,l){const u=Kg(o,a,l);return o.inclusive?u>=0:u>0})(r.endAt,bo(r),s))})(t,e)}function VD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qT(t){return(e,n)=>{let r=!1;for(const s of bo(t)){const i=xD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function xD(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):(function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?gi(l,u):fe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Ge(oe.comparator);function or(){return MD}const WT=new Ge(oe.comparator);function uo(...t){let e=WT;for(const n of t)e=e.insert(n.key,n);return e}function KT(t){let e=WT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function hs(){return Ro()}function zT(){return Ro()}function Ro(){return new Vs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const LD=new Ge(oe.comparator),FD=new ut(oe.comparator);function Ie(...t){let e=FD;for(const n of t)e=e.add(n);return e}const UD=new ut(we);function $D(){return UD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function GT(t){return{integerValue:""+t}}function HD(t,e){return pD(e)?GT(e):fd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this._=void 0}}function jD(t,e,n){return t instanceof Jo?(function(s,i){const o={fields:{[kT]:{stringValue:CT},[OT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&cd(i)&&(i=xl(i)),i&&(o.fields[NT]=i),{mapValue:o}})(n,e):t instanceof yi?YT(t,e):t instanceof Ei?JT(t,e):(function(s,i){const o=QT(s,i),a=Yg(o)+Yg(s.Ae);return Hh(o)&&Hh(s.Ae)?GT(a):fd(s.serializer,a)})(t,e)}function BD(t,e,n){return t instanceof yi?YT(t,e):t instanceof Ei?JT(t,e):n}function QT(t,e){return t instanceof Wc?(function(r){return Hh(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Jo extends Ul{}class yi extends Ul{constructor(e){super(),this.elements=e}}function YT(t,e){const n=XT(e);for(const r of t.elements)n.some((s=>Mn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ei extends Ul{constructor(e){super(),this.elements=e}}function JT(t,e){let n=XT(e);for(const r of t.elements)n=n.filter((s=>!Mn(s,r)));return{arrayValue:{values:n}}}class Wc extends Ul{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yg(t){return Ze(t.integerValue||t.doubleValue)}function XT(t){return ld(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.field=e,this.transform=n}}function qD(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof yi&&s instanceof yi||r instanceof Ei&&s instanceof Ei?mi(r.elements,s.elements,Mn):r instanceof Wc&&s instanceof Wc?Mn(r.Ae,s.Ae):r instanceof Jo&&s instanceof Jo})(t.transform,e.transform)}class WD{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $l{}function ZT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pd(t.key,ln.none()):new da(t.key,t.data,ln.none());{const n=t.data,r=Bt.empty();let s=new ut(vt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new es(t.key,r,new Xt(s.toArray()),ln.none())}}function KD(t,e,n){t instanceof da?(function(s,i,o){const a=s.value.clone(),l=Xg(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof es?(function(s,i,o){if(!ac(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Xg(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ew(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function So(t,e,n,r){return t instanceof da?(function(i,o,a,l){if(!ac(i.precondition,o))return a;const u=i.value.clone(),h=Zg(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof es?(function(i,o,a,l){if(!ac(i.precondition,o))return a;const u=Zg(i.fieldTransforms,l,o),h=o.data;return h.setAll(ew(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,n,r):(function(i,o,a){return ac(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function zD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=QT(r.transform,s||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,i))}return n||null}function Jg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mi(r,s,((i,o)=>qD(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class da extends $l{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class es extends $l{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ew(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Xg(t,e,n){const r=new Map;Ne(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,BD(o,a,n[s]))}return r}function Zg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,jD(i,o,e))}return r}class pd extends $l{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends $l{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&KD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=So(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=So(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zT();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=ZT(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ie())}isEqual(e){return this.batchId===e.batchId&&mi(this.mutations,e.mutations,((n,r)=>Jg(n,r)))&&mi(this.baseMutations,e.baseMutations,((n,r)=>Jg(n,r)))}}class md{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return LD})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new md(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,Ae;function XD(t){switch(t){case $.OK:return fe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function tw(t){if(t===void 0)return ir("GRPC error has no .code"),$.UNKNOWN;switch(t){case tt.OK:return $.OK;case tt.CANCELLED:return $.CANCELLED;case tt.UNKNOWN:return $.UNKNOWN;case tt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case tt.INTERNAL:return $.INTERNAL;case tt.UNAVAILABLE:return $.UNAVAILABLE;case tt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case tt.NOT_FOUND:return $.NOT_FOUND;case tt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case tt.ABORTED:return $.ABORTED;case tt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case tt.DATA_LOSS:return $.DATA_LOSS;default:return fe(39323,{code:t})}}(Ae=tt||(tt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new jr([4294967295,4294967295],0);function e_(t){const e=ZD().encode(t),n=new gT;return n.update(e),new Uint8Array(n.digest())}function t_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new jr([n,r],0),new jr([s,i],0)]}class gd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ho(`Invalid padding: ${n}`);if(r<0)throw new ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ho(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(jr.fromNumber(r)));return s.compare(eV)===1&&(s=new jr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=e_(e),[r,s]=t_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new gd(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=e_(e),[r,s]=t_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,pa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hl(me.min(),s,new Ge(we),or(),Ie())}}class pa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pa(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class nw{constructor(e,n){this.targetId=e,this.Ce=n}}class rw{constructor(e,n,r=It.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class n_{constructor(){this.ve=0,this.Fe=r_(),this.Me=It.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe(38017,{changeType:i})}})),new pa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=r_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tV{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.Je=Ga(),this.He=Ga(),this.Ye=new Ge(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Bh(i))if(r===0){const o=new oe(i.path);this.et(n,o,Nt.newNoDocument(o,me.min()))}else Ne(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Gr(r).toUint8Array()}catch(l){if(l instanceof PT)return pi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new gd(o,s,i)}catch(l){return pi(l instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Bh(a.target)){const l=new oe(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Nt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Ie();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Hl(e,n,this.Ye,this.je,r);return this.je=or(),this.Je=Ga(),this.He=Ga(),this.Ye=new Ge(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new n_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ga(){return new Ge(oe.comparator)}function r_(){return new Ge(oe.comparator)}const nV={asc:"ASCENDING",desc:"DESCENDING"},rV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sV={and:"AND",or:"OR"};class iV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wh(t,e){return t.useProto3Json||Vl(e)?e:{value:e}}function Kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oV(t,e){return Kc(t,e.toTimestamp())}function kn(t){return Ne(!!t,49232),me.fromTimestamp((function(n){const r=zr(n);return new We(r.seconds,r.nanos)})(t))}function _d(t,e){return Kh(t,e).canonicalString()}function Kh(t,e){const n=(function(s){return new je(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function iw(t){const e=je.fromString(t);return Ne(uw(e),10190,{key:e.toString()}),e}function zh(t,e){return _d(t.databaseId,e.path)}function Wu(t,e){const n=iw(e);if(n.get(1)!==t.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(aw(n))}function ow(t,e){return _d(t.databaseId,e)}function aV(t){const e=iw(t);return e.length===4?je.emptyPath():aw(e)}function Gh(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aw(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s_(t,e,n){return{name:zh(t,e),fields:n.value.mapValue.fields}}function cV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(Ne(h===void 0||typeof h=="string",58123),It.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),It.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const h=u.code===void 0?$.UNKNOWN:tw(u.code);return new J(h,u.message||"")})(o);n=new rw(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wu(t,r.document.name),i=kn(r.document.updateTime),o=r.document.createTime?kn(r.document.createTime):me.min(),a=new Bt({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new cc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wu(t,r.document),i=r.readTime?kn(r.readTime):me.min(),o=Nt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new cc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wu(t,r.document),i=r.removedTargetIds||[];n=new cc([],i,s,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new JD(s,i),a=r.targetId;n=new nw(a,o)}}return n}function lV(t,e){let n;if(e instanceof da)n={update:s_(t,e.key,e.value)};else if(e instanceof pd)n={delete:zh(t,e.key)};else if(e instanceof es)n={update:s_(t,e.key,e.data),updateMask:yV(e.fieldMask)};else{if(!(e instanceof GD))return fe(16599,{Vt:e.type});n={verify:zh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof Jo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ei)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw fe(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:oV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe(27497)})(t,e.precondition)),n}function uV(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?kn(s.updateTime):kn(i);return o.isEqual(me.min())&&(o=kn(i)),new WD(o,s.transformResults||[])})(n,e)))):[]}function hV(t,e){return{documents:[ow(t,e.path)]}}function fV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ow(t,s);const i=(function(u){if(u.length!==0)return lw(En.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(p){return{field:Gs(p.field),direction:mV(p.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Wh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function dV(t){let e=aV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=(function(d){const p=cw(d);return p instanceof En&&FT(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((p=>(function(_){return new Yo(Qs(_.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(p)))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let p;return p=typeof d=="object"?d.value:d,Vl(p)?null:p})(n.limit));let l=null;n.startAt&&(l=(function(d){const p=!!d.before,g=d.values||[];return new Bc(g,p)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const p=!d.before,g=d.values||[];return new Bc(g,p)})(n.endAt)),OD(e,s,o,i,a,"F",l,u)}function pV(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qs(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Qs(n.unaryFilter.field);return nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qs(n.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qs(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nt.create(Qs(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return En.create(n.compositeFilter.filters.map((r=>cw(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe(1026)}})(n.compositeFilter.op))})(t):fe(30097,{filter:t})}function mV(t){return nV[t]}function gV(t){return rV[t]}function _V(t){return sV[t]}function Gs(t){return{fieldPath:t.canonicalString()}}function Qs(t){return vt.fromServerFormat(t.fieldPath)}function lw(t){return t instanceof nt?(function(n){if(n.op==="=="){if(Wg(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NAN"}};if(qg(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wg(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NAN"}};if(qg(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(n.field),op:gV(n.op),value:n.value}}})(t):t instanceof En?(function(n){const r=n.getFilters().map((s=>lw(s)));return r.length===1?r[0]:{compositeFilter:{op:_V(n.op),filters:r}}})(t):fe(54877,{filter:t})}function yV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,s,i=me.min(),o=me.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.yt=e}}function vV(t){const e=dV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.Cn=new wV}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Kr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class wV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hw=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(hw,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vi(0)}static cr(){return new vi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="LruGarbageCollector",IV=1048576;function a_([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class AV{constructor(e){this.Ir=e,this.buffer=new ut(a_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();a_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(o_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oi(n)?ee(o_,"Ignoring IndexedDB error during garbage collection: ",n):await Ni(n)}await this.Vr(3e5)}))}}class RV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Dl.ce);const r=new AV(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(i_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,a=Date.now(),this.removeTargets(e,r,n)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(u=Date.now(),Ks()<=ve.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function SV(t,e){return new RV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.changes=new Vs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&So(r.mutation,s,Xt.empty(),We.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ie()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ie()){const s=hs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=uo();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ie())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=or();const o=Ro(),a=(function(){return Ro()})();return n.forEach(((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof es)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),So(h.mutation,u,h.mutation.getFieldMask(),We.now())):o.set(u.key,Xt.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>a.set(u,new CV(h,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Ro();let s=new Ge(((o,a)=>o-a)),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Xt.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,d)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=zT();h.forEach((p=>{if(!i.has(p)){const g=ZT(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return j.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(hs());let a=Ko,l=i;return o.next((u=>j.forEach(u,((h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next((p=>{l=l.insert(h,p)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,Ie()))).next((h=>({batchId:a,changes:KT(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next((r=>{let s=uo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=uo();return this.indexManager.getCollectionParents(e,i).next((a=>j.forEach(a,(l=>{const u=(function(d,p){return new Di(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((h=>{h.forEach(((d,p)=>{o=o.insert(d,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Nt.newInvalidDocument(h)))}));let a=uo();return o.forEach(((l,u)=>{const h=i.get(l);h!==void 0&&So(h.mutation,u,Xt.empty(),We.now()),Fl(n,u)&&(a=a.insert(l,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:kn(s.createTime)}})(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:vV(s.bundledQuery),readTime:kn(s.readTime)}})(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.overlays=new Ge(oe.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return j.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=hs(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ge(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=hs(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=hs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>a.set(u,h))),!(a.size()>=s)););return j.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YD(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Qr=new ut(dt.$r),this.Ur=new ut(dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new dt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new oe(new je([])),r=new dt(n,e),s=new dt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new oe(new je([])),r=new dt(n,e),s=new dt(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return oe.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(dt.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QD(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new dt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?ad:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),s=new dt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(we);return n.forEach((s=>{const i=new dt(s,0),o=new dt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new dt(new oe(i),0);let a=new ut(we);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)}),o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ne(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,(s=>{const i=new dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new dt(n,0),s=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.ri=e,this.docs=(function(){return new Ge(oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Nt.newInvalidDocument(s))})),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=or();const o=n.path,a=new oe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||uD(lD(h),r)<=0||(s.has(h.key)||Fl(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe(9500)}ii(e,n){return j.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new MV(this)}getSize(e){return j.resolve(this.size)}}class MV extends PV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.persistence=e,this.si=new Vs((n=>ud(n)),hd),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.oi=0,this._i=new yd,this.targetCount=0,this.ai=vi.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),j.waitFor(i).next((()=>s))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dl(0),this.li=!1,this.li=!0,this.hi=new DV,this.referenceDelegate=e(this),this.Pi=new LV(this),this.indexManager=new TV,this.remoteDocumentCache=(function(s){return new xV(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new EV(n),this.Ii=new NV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new VV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new FV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return j.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class FV extends fD{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.Ri=new yd,this.Vi=null}static mi(e){return new Ed(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,(r=>{const s=oe.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zc{constructor(e,n){this.persistence=e,this.pi=new Vs((r=>mD(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=SV(this,n)}static mi(e,n){return new zc(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return j.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?j.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,me.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ic(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new vd(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kN()?8:dD(Vt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new UV;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ks()<=ve.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(Ks()<=ve.DEBUG&&ee("QueryEngine","Query:",zs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ks()<=ve.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(n))):j.resolve())}ys(e,n){if(Qg(n))return j.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=qc(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,qc(n,null,"F")):this.vs(e,u,n,l)}))))})))))}ws(e,n,r,s){return Qg(n)||s.isEqual(me.min())?j.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?j.resolve(null):(Ks()<=ve.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zs(n)),this.vs(e,o,n,cD(s,Ko)).next((a=>a)))}))}Ds(e,n){let r=new ut(qT(e));return n.forEach(((s,i)=>{Fl(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ks()<=ve.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",zs(n)),this.ps.getDocumentsMatchingQuery(e,n,Kr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",HV=3e8;class jV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ge(we),this.xs=new Vs((i=>ud(i)),hd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function BV(t,e,n,r){return new jV(t,e,n,r)}async function dw(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=Ie();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function qV(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,h){const d=u.batch,p=d.keys();let g=j.resolve();return p.forEach((_=>{g=g.next((()=>h.getEntry(l,_))).next((E=>{const R=u.docVersions.get(_);Ne(R!==null,48541),E.version.compareTo(R)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))}))})),g.next((()=>a.mutationQueue.removeMutationBatch(l,d)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function pw(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function WV(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((h,d)=>{const p=s.get(d);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d))));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(It.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),(function(E,R,D){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=HV?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(p,g,h)&&a.push(n.Pi.updateTargetData(i,g))}));let l=or(),u=Ie();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),a.push(KV(i,o,e.documentUpdates).next((h=>{l=h.ks,u=h.qs}))),!r.isEqual(me.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(h)}return j.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function KV(t,e,n){let r=Ie(),s=Ie();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=or();return n.forEach(((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee(Td,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function zV(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ad),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function GV(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,j.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Qh(t,e,n){const r=ge(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Oi(o))throw o;ee(Td,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function c_(t,e,n){const r=ge(t);let s=me.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const d=ge(l),p=d.xs.get(h);return p!==void 0?j.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,h)})(r,o,Cn(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:me.min(),n?i:Ie()))).next((a=>(QV(r,VD(e),a),{documents:a,Qs:i})))))}function QV(t,e,n){let r=t.Os.get(e)||me.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class l_{constructor(){this.activeTargetIds=$D()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YV{constructor(){this.Mo=new l_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="ConnectivityMonitor";class h_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(u_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(u_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa=null;function Yh(){return Qa===null?Qa=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qa++,"0x"+Qa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="RestConnection",XV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Hc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Yh(),a=this.zo(e,n.toUriEncodedString());ee(Ku,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=Pi(u);return this.Jo(e,a,l,r,h).then((d=>(ee(Ku,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw pi(Ku,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ki})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=XV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class tx extends ZV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Yh();return new Promise(((a,l)=>{const u=new _T;u.setWithCredentials(!0),u.listenOnce(yT.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case sc.NO_ERROR:const d=u.getResponseJson();ee(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case sc.TIMEOUT:ee(Rt,`RPC '${e}' ${o} timed out`),l(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const p=u.getStatus();if(ee(Rt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const E=(function(D){const N=D.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(N)>=0?N:$.UNKNOWN})(_.status);l(new J(E,_.message))}else l(new J($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new J($.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ee(Rt,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);ee(Rt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)}))}T_(e,n,r){const s=Yh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TT(),a=vT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ee(Rt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let p=!1,g=!1;const _=new ex({Yo:R=>{g?ee(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(p||(ee(Rt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),ee(Rt,`RPC '${e}' stream ${s} sending:`,R),d.send(R))},Zo:()=>d.close()}),E=(R,D,N)=>{R.listen(D,(w=>{try{N(w)}catch(k){setTimeout((()=>{throw k}),0)}}))};return E(d,lo.EventType.OPEN,(()=>{g||(ee(Rt,`RPC '${e}' stream ${s} transport opened.`),_.o_())})),E(d,lo.EventType.CLOSE,(()=>{g||(g=!0,ee(Rt,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(d))})),E(d,lo.EventType.ERROR,(R=>{g||(g=!0,pi(Rt,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),_.a_(new J($.UNAVAILABLE,"The operation could not be completed")))})),E(d,lo.EventType.MESSAGE,(R=>{if(!g){const D=R.data[0];Ne(!!D,16349);const N=D,w=N?.error||N[0]?.error;if(w){ee(Rt,`RPC '${e}' stream ${s} received error:`,w);const k=w.status;let V=(function(T){const y=tt[T];if(y!==void 0)return tw(y)})(k),F=w.message;V===void 0&&(V=$.INTERNAL,F="Unknown error status: "+k+" with message "+w.message),g=!0,_.a_(new J(V,F)),d.close()}else ee(Rt,`RPC '${e}' stream ${s} received:`,D),_.u_(D)}})),E(a,ET.STAT_EVENT,(R=>{R.stat===Fh.PROXY?ee(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===Fh.NOPROXY&&ee(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){return new iV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="PersistentStream";class gw{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ee(f_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ee(f_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nx extends gw{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cV(this.serializer,e),r=(function(i){if(!("targetChange"in i))return me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?kn(o.readTime):me.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Gh(this.serializer),n.addTarget=(function(i,o){let a;const l=o.target;if(a=Bh(l)?{documents:hV(i,l)}:{query:fV(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sw(i,o.resumeToken);const u=Wh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=Kc(i,o.snapshotVersion.toTimestamp());const u=Wh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=pV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Gh(this.serializer),n.removeTarget=e,this.q_(n)}}class rx extends gw{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uV(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Gh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>lV(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{}class ix extends sx{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Kh(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J($.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,Kh(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J($.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ox{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class ax{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{xs(this)&&(ee(Ps,"Restarting streams for network reachability change."),await(async function(l){const u=ge(l);u.Ea.add(4),await ma(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Bl(u)})(this))}))})),this.Ra=new ox(r,s)}}async function Bl(t){if(xs(t))for(const e of t.da)await e(!0)}async function ma(t){for(const e of t.da)await e(!1)}function _w(t,e){const n=ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bd(n)?Ad(n):Vi(n).O_()&&Id(n,e))}function wd(t,e){const n=ge(t),r=Vi(n);n.Ia.delete(e),r.O_()&&yw(n,e),n.Ia.size===0&&(r.O_()?r.L_():xs(n)&&n.Ra.set("Unknown"))}function Id(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vi(t).Y_(e)}function yw(t,e){t.Va.Ue(e),Vi(t).Z_(e)}function Ad(t){t.Va=new tV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vi(t).start(),t.Ra.ua()}function bd(t){return xs(t)&&!Vi(t).x_()&&t.Ia.size>0}function xs(t){return ge(t).Ea.size===0}function Ew(t){t.Va=void 0}async function cx(t){t.Ra.set("Online")}async function lx(t){t.Ia.forEach(((e,n)=>{Id(t,e)}))}async function ux(t,e){Ew(t),bd(t)?(t.Ra.ha(e),Ad(t)):t.Ra.set("Unknown")}async function hx(t,e,n){if(t.Ra.set("Online"),e instanceof rw&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){ee(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gc(t,r)}else if(e instanceof cc?t.Va.Ze(e):e instanceof nw?t.Va.st(e):t.Va.tt(e),!n.isEqual(me.min()))try{const r=await pw(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),yw(i,l);const d=new xr(h.target,l,u,h.sequenceNumber);Id(i,d)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){ee(Ps,"Failed to raise snapshot:",r),await Gc(t,r)}}async function Gc(t,e,n){if(!Oi(e))throw e;t.Ea.add(1),await ma(t),t.Ra.set("Offline"),n||(n=()=>pw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ee(Ps,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bl(t)}))}function vw(t,e){return e().catch((n=>Gc(t,n,e)))}async function ql(t){const e=ge(t),n=Yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ad;for(;fx(e);)try{const s=await zV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,dx(e,s)}catch(s){await Gc(e,s)}Tw(e)&&ww(e)}function fx(t){return xs(t)&&t.Ta.length<10}function dx(t,e){t.Ta.push(e);const n=Yr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Tw(t){return xs(t)&&!Yr(t).x_()&&t.Ta.length>0}function ww(t){Yr(t).start()}async function px(t){Yr(t).ra()}async function mx(t){const e=Yr(t);for(const n of t.Ta)e.ea(n.mutations)}async function gx(t,e,n){const r=t.Ta.shift(),s=md.from(r,e,n);await vw(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await ql(t)}async function _x(t,e){e&&Yr(t).X_&&await(async function(r,s){if((function(o){return XD(o)&&o!==$.ABORTED})(s.code)){const i=r.Ta.shift();Yr(r).B_(),await vw(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await ql(r)}})(t,e),Tw(t)&&ww(t)}async function d_(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),ee(Ps,"RemoteStore received new credentials");const r=xs(n);n.Ea.add(3),await ma(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bl(n)}async function yx(t,e){const n=ge(t);e?(n.Ea.delete(2),await Bl(n)):e||(n.Ea.add(2),await ma(n),n.Ra.set("Unknown"))}function Vi(t){return t.ma||(t.ma=(function(n,r,s){const i=ge(n);return i.sa(),new nx(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:cx.bind(null,t),t_:lx.bind(null,t),r_:ux.bind(null,t),H_:hx.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),bd(t)?Ad(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ew(t))}))),t.ma}function Yr(t){return t.fa||(t.fa=(function(n,r,s){const i=ge(n);return i.sa(),new rx(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:px.bind(null,t),r_:_x.bind(null,t),ta:mx.bind(null,t),na:gx.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ql(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(Ps,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Rd(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sd(t,e){if(ir("AsyncQueue",`${e}: ${t}`),Oi(t))return new J($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{static emptySet(e){return new ni(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=uo(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ni;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.ga=new Ge(oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ti{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new Ti(e,n,ni.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vx{constructor(){this.queries=m_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ge(n),i=s.queries;s.queries=m_(),i.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new J($.ABORTED,"Firestore shutting down"))}}function m_(){return new Vs((t=>BT(t)),Ll)}async function Pd(t,e){const n=ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Ex,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Sd(o,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&kd(n)}async function Cd(t,e){const n=ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tx(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&kd(n)}function wx(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function kd(t){t.Ca.forEach((e=>{e.next()}))}var Jh,g_;(g_=Jh||(Jh={})).Ma="default",g_.Cache="cache";class Nd{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ti(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ti.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class Ix{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=qT(e),this.tu=new ni(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new p_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,d)=>{const p=s.get(h),g=Fl(this.query,d)?d:null,_=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;p&&g?p.data.isEqual(g.data)?_!==E&&(r.track({type:3,doc:g}),R=!0):this.su(p,g)||(r.track({type:2,doc:g}),R=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),R=!0):p&&!g&&(r.track({type:1,doc:p}),R=!0,(l||u)&&(a=!0)),R&&(g?(o=o.add(g),i=E?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,d)=>(function(g,_){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:R})}};return E(g)-E(_)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Ti(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Aw(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Iw(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ti.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Od="SyncEngine";class Ax{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bx{constructor(e){this.key=e,this.hu=!1}}class Rx{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Vs((a=>BT(a)),Ll),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(oe.comparator),this.Au=new Map,this.Ru=new yd,this.Vu={},this.mu=new Map,this.fu=vi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sx(t,e,n=!0){const r=kw(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await bw(r,e,n,!0),s}async function Px(t,e){const n=kw(t);await bw(n,e,!0,!1)}async function bw(t,e,n,r){const s=await GV(t.localStore,Cn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Cx(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&_w(t.remoteStore,s),a}async function Cx(t,e,n,r,s){t.pu=(d,p,g)=>(async function(E,R,D,N){let w=R.view.ru(D);w.Cs&&(w=await c_(E.localStore,R.query,!1).then((({documents:I})=>R.view.ru(I,w))));const k=N&&N.targetChanges.get(R.targetId),V=N&&N.targetMismatches.get(R.targetId)!=null,F=R.view.applyChanges(w,E.isPrimaryClient,k,V);return y_(E,R.targetId,F.au),F.snapshot})(t,d,p,g);const i=await c_(t.localStore,e,!0),o=new Ix(e,i.Qs),a=o.ru(i.documents),l=pa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);y_(t,n,u.au);const h=new Ax(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function kx(t,e,n){const r=ge(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Ll(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qh(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wd(r.remoteStore,s.targetId),Xh(r,s.targetId)})).catch(Ni)):(Xh(r,s.targetId),await Qh(r.localStore,s.targetId,!0))}async function Nx(t,e){const n=ge(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wd(n.remoteStore,r.targetId))}async function Ox(t,e,n){const r=Ux(t);try{const s=await(function(o,a){const l=ge(o),u=We.now(),h=a.reduce(((g,_)=>g.add(_.key)),Ie());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let _=or(),E=Ie();return l.Ns.getEntries(g,h).next((R=>{_=R,_.forEach(((D,N)=>{N.isValidDocument()||(E=E.add(D))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,_))).next((R=>{d=R;const D=[];for(const N of a){const w=zD(N,d.get(N.key).overlayedDocument);w!=null&&D.push(new es(N.key,w,xT(w.value.mapValue),ln.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,D,a)})).next((R=>{p=R;const D=R.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(g,R.batchId,D)}))})).then((()=>({batchId:p.batchId,changes:KT(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ge(we)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await ga(r,s.changes),await ql(r.remoteStore)}catch(s){const i=Sd(s,"Failed to persist write");n.reject(i)}}async function Rw(t,e){const n=ge(t);try{const r=await WV(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ne(o.hu,14607):s.removedDocuments.size>0&&(Ne(o.hu,42227),o.hu=!1))})),await ga(n,r,e)}catch(r){await Ni(r)}}function __(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=ge(o);l.onlineState=a;let u=!1;l.queries.forEach(((h,d)=>{for(const p of d.Sa)p.va(a)&&(u=!0)})),u&&kd(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dx(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ge(oe.comparator);o=o.insert(i,Nt.newNoDocument(i,me.min()));const a=Ie().add(i),l=new Hl(me.min(),new Map,new Ge(we),o,a);await Rw(r,l),r.du=r.du.remove(i),r.Au.delete(e),Dd(r)}else await Qh(r.localStore,e,!1).then((()=>Xh(r,e,n))).catch(Ni)}async function Vx(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await qV(n.localStore,e);Pw(n,r,null),Sw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ga(n,s)}catch(s){await Ni(s)}}async function xx(t,e,n){const r=ge(t);try{const s=await(function(o,a){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next((d=>(Ne(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);Pw(r,e,n),Sw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ga(r,s)}catch(s){await Ni(s)}}function Sw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Pw(t,e,n){const r=ge(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Xh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Cw(t,r)}))}function Cw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Dd(t))}function y_(t,e,n){for(const r of n)r instanceof Iw?(t.Ru.addReference(r.key,e),Mx(t,r)):r instanceof Aw?(ee(Od,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Cw(t,r.key)):fe(19791,{wu:r})}function Mx(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ee(Od,"New document in limbo: "+n),t.Eu.add(r),Dd(t))}function Dd(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(je.fromString(e)),r=t.fu.next();t.Au.set(r,new bx(n)),t.du=t.du.insert(n,r),_w(t.remoteStore,new xr(Cn(Ml(n.path)),r,"TargetPurposeLimboResolution",Dl.ce))}}async function ga(t,e,n){const r=ge(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=vd.As(l.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const h=ge(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>j.forEach(u,(p=>j.forEach(p.Es,(g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g))).next((()=>j.forEach(p.ds,(g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))))))}catch(d){if(!Oi(d))throw d;ee(Td,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const g=h.Ms.get(p),_=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(p,E)}}})(r.localStore,i))}async function Lx(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){ee(Od,"User change. New user:",e.toKey());const r=await dw(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((l=>{l.reject(new J($.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ga(n,r.Ls)}}function Fx(t,e){const n=ge(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function kw(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dx.bind(null,e),e.Pu.H_=Tx.bind(null,e.eventManager),e.Pu.yu=wx.bind(null,e.eventManager),e}function Ux(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xx.bind(null,e),e}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BV(this.persistence,new $V,e.initialUser,this.serializer)}Cu(e){return new fw(Ed.mi,this.serializer)}Du(e){return new YV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class $x extends Qc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ne(this.persistence.referenceDelegate instanceof zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new fw((r=>zc.mi(r,n)),this.serializer)}}class Zh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>__(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lx.bind(null,this.syncEngine),await yx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vx})()}createDatastore(e){const n=jl(e.databaseInfo.databaseId),r=(function(i){return new tx(i)})(e.databaseInfo);return(function(i,o,a,l){return new ix(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new ax(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>__(this.syncEngine,n,0)),(function(){return h_.v()?new h_:new JV})())}createSyncEngine(e,n){return(function(s,i,o,a,l,u,h){const d=new Rx(s,i,o,a,l,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ge(n);ee(Ps,"RemoteStore shutting down."),r.Ea.add(5),await ma(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zh.provider={build:()=>new Zh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class Hx{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pt.UNAUTHENTICATED,this.clientId=od.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{ee(Jr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(ee(Jr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sd(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gu(t,e){t.asyncQueue.verifyOperationInProgress(),ee(Jr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await dw(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function E_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jx(t);ee(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>d_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>d_(e.remoteStore,s))),t._onlineComponents=e}async function jx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(Jr,"Using user provided OfflineComponentProvider");try{await Gu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;pi("Error using user provided cache. Falling back to memory cache: "+n),await Gu(t,new Qc)}}else ee(Jr,"Using default OfflineComponentProvider"),await Gu(t,new $x(void 0));return t._offlineComponents}async function Nw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(Jr,"Using user provided OnlineComponentProvider"),await E_(t,t._uninitializedComponentsProvider._online)):(ee(Jr,"Using default OnlineComponentProvider"),await E_(t,new Zh))),t._onlineComponents}function Bx(t){return Nw(t).then((e=>e.syncEngine))}async function Yc(t){const e=await Nw(t),n=e.eventManager;return n.onListen=Sx.bind(null,e.syncEngine),n.onUnlisten=kx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Px.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nx.bind(null,e.syncEngine),n}function qx(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new Vd({next:p=>{h.Nu(),o.enqueueAndForget((()=>Cd(i,d)));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new J($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new J($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Nd(Ml(a.path),h,{includeMetadataChanges:!0,qa:!0});return Pd(i,d)})(await Yc(t),t.asyncQueue,e,n,r))),r.promise}function Wx(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new Vd({next:p=>{h.Nu(),o.enqueueAndForget((()=>Cd(i,d))),p.fromCache&&l.source==="server"?u.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Nd(a,h,{includeMetadataChanges:!0,qa:!0});return Pd(i,d)})(await Yc(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firestore.googleapis.com",T_=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dw,this.ssl=T_}else this.host=e.host,this.ssl=e.ssl??T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IV)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ow(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new YO;switch(r.type){case"firstParty":return new eD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=v_.get(n);r&&(ee("ComponentProvider","Removing Datastore"),v_.delete(n),r.terminate())})(this),Promise.resolve()}}function Kx(t,e,n,r={}){t=qt(t,Wl);const s=Pi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(cT(`https://${a}`),lT("Firestore",!0)),i.host!==Dw&&i.host!==a&&pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!rr(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Pt.MOCK_USER;else{u=TN(r.mockUserToken,t._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Pt(d)}t._authCredentials=new JO(new IT(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fr(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fa(n,Ye._jsonSchema))return new Ye(e,r||null,new oe(je.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:st("string",Ye._jsonSchemaVersion),referencePath:st("string")};class Br extends fr{constructor(e,n,r){super(e,n,Ml(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new oe(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function zx(t,e,...n){if(t=ht(t),AT("collection","path",e),t instanceof Wl){const r=je.fromString(e,...n);return xg(r),new Br(t,null,r)}{if(!(t instanceof Ye||t instanceof Br))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return xg(r),new Br(t.firestore,null,r)}}function fo(t,e,...n){if(t=ht(t),arguments.length===1&&(e=od.newId()),AT("doc","path",e),t instanceof Wl){const r=je.fromString(e,...n);return Vg(r),new Ye(t,null,new oe(r))}{if(!(t instanceof Ye||t instanceof Br))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return Vg(r),new Ye(t.firestore,t instanceof Br?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mw(this,"async_queue_retry"),this._c=()=>{const r=zu();r&&ee(I_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oi(e))throw e;ee(I_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",b_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Rd.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&fe(47125,{Pc:b_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function b_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class ar extends Wl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new A_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function Gx(t,e){const n=typeof t=="object"?t:dT(),r=typeof t=="string"?t:Hc,s=sd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=EN("firestore");i&&Kx(s,...i)}return s}function Kl(t){if(t._terminated)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qx(t),t._firestoreClient}function Qx(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new yD(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Ow(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Hx(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this._byteString=e}static fromBase64String(e){try{return new on(It.fromBase64String(e))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new on(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:on._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fa(e,on._jsonSchema))return on.fromBase64String(e.bytes)}}on._jsonSchemaVersion="firestore/bytes/1.0",on._jsonSchema={type:st("string",on._jsonSchemaVersion),bytes:st("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nn._jsonSchemaVersion}}static fromJSON(e){if(fa(e,Nn._jsonSchema))return new Nn(e.latitude,e.longitude)}}Nn._jsonSchemaVersion="firestore/geoPoint/1.0",Nn._jsonSchema={type:st("string",Nn._jsonSchemaVersion),latitude:st("number"),longitude:st("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:On._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fa(e,On._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new On(e.vectorValues);throw new J($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}On._jsonSchemaVersion="firestore/vectorValue/1.0",On._jsonSchema={type:st("string",On._jsonSchemaVersion),vectorValues:st("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=/^__.*__$/;class Jx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new da(e,this.data,n,this.fieldTransforms)}}class Vw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:t})}}class Gl{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gl({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xw(this.Ac)&&Yx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Xx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jl(e)}Cc(e,n,r,s=!1){return new Gl({Ac:e,methodName:n,Dc:r,path:vt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ql(t){const e=t._freezeSettings(),n=jl(t._databaseId);return new Xx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mw(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Fd("Data must be an object, but it was:",o,r);const a=Fw(r,o);let l,u;if(i.merge)l=new Xt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const p=ef(e,d,n);if(!o.contains(p))throw new J($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);$w(h,p)||h.push(p)}l=new Xt(h),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new Jx(new Bt(a),l,u)}class Yl extends xi{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yl}}function Lw(t,e,n){return new Gl({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xd extends xi{_toFieldTransform(e){return new dd(e.path,new Jo)}isEqual(e){return e instanceof xd}}class Md extends xi{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Lw(this,e,!0),r=this.vc.map((i=>Ms(i,n))),s=new yi(r);return new dd(e.path,s)}isEqual(e){return e instanceof Md&&rr(this.vc,e.vc)}}class Ld extends xi{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Lw(this,e,!0),r=this.vc.map((i=>Ms(i,n))),s=new Ei(r);return new dd(e.path,s)}isEqual(e){return e instanceof Ld&&rr(this.vc,e.vc)}}function Zx(t,e,n,r){const s=t.Cc(1,e,n);Fd("Data must be an object, but it was:",s,r);const i=[],o=Bt.empty();Zr(r,((l,u)=>{const h=Ud(e,l,n);u=ht(u);const d=s.yc(h);if(u instanceof Yl)i.push(h);else{const p=Ms(u,d);p!=null&&(i.push(h),o.set(h,p))}}));const a=new Xt(i);return new Vw(o,a,s.fieldTransforms)}function eM(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[ef(e,r,n)],l=[s];if(i.length%2!=0)throw new J($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(ef(e,i[p])),l.push(i[p+1]);const u=[],h=Bt.empty();for(let p=a.length-1;p>=0;--p)if(!$w(u,a[p])){const g=a[p];let _=l[p];_=ht(_);const E=o.yc(g);if(_ instanceof Yl)u.push(g);else{const R=Ms(_,E);R!=null&&(u.push(g),h.set(g,R))}}const d=new Xt(u);return new Vw(h,d,o.fieldTransforms)}function tM(t,e,n,r=!1){return Ms(n,t.Cc(r?4:3,e))}function Ms(t,e){if(Uw(t=ht(t)))return Fd("Unsupported field value:",e,t),Fw(t,e);if(t instanceof xi)return(function(r,s){if(!xw(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=Ms(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=We.fromDate(r);return{timestampValue:Kc(s.serializer,i)}}if(r instanceof We){const i=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kc(s.serializer,i)}}if(r instanceof Nn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof on)return{bytesValue:sw(s.serializer,r._byteString)};if(r instanceof Ye){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_d(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof On)return(function(o,a){return{mapValue:{fields:{[DT]:{stringValue:VT},[jc]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return fd(a.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Ol(r)}`)})(t,e)}function Fw(t,e){const n={};return ST(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,((r,s)=>{const i=Ms(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function Uw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Nn||t instanceof on||t instanceof Ye||t instanceof xi||t instanceof On)}function Fd(t,e,n){if(!Uw(n)||!bT(n)){const r=Ol(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ef(t,e,n){if((e=ht(e))instanceof zl)return e._internalPath;if(typeof e=="string")return Ud(t,e);throw Jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const nM=new RegExp("[~\\*/\\[\\]]");function Ud(t,e,n){if(e.search(nM)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zl(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J($.INVALID_ARGUMENT,a+t+l)}function $w(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rM extends Hw{data(){return super.data()}}function Jl(t,e){return typeof e=="string"?Ud(t,e):e instanceof zl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $d{}class Hd extends $d{}function S_(t,e,...n){let r=[];e instanceof $d&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof jd)).length,a=i.filter((l=>l instanceof Xl)).length;if(o>1||o>0&&a>0)throw new J($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Xl extends Hd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xl(e,n,r)}_apply(e){const n=this._parse(e);return Bw(e._query,n),new fr(e.firestore,e.converter,qh(e._query,n))}_parse(e){const n=Ql(e.firestore);return(function(i,o,a,l,u,h,d){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){N_(d,h);const _=[];for(const E of d)_.push(k_(l,i,E));p={arrayValue:{values:_}}}else p=k_(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||N_(d,h),p=tM(a,o,d,h==="in"||h==="not-in");return nt.create(u,h,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KF(t,e,n){const r=e,s=Jl("where",t);return Xl._create(s,r,n)}class jd extends $d{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jd(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Bw(o,l),o=qh(o,l)})(e._query,n),new fr(e.firestore,e.converter,qh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bd extends Hd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bd(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new J($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yo(i,o)})(e._query,this._field,this._direction);return new fr(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Di(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function P_(t,e="asc"){const n=e,r=Jl("orderBy",t);return Bd._create(r,n)}class qd extends Hd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new qd(e,n,r)}_apply(e){return new fr(e.firestore,e.converter,qc(e._query,this._limit,this._limitType))}}function C_(t){return aD("limit",t),qd._create("limit",t,"F")}function k_(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new J($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&n.indexOf("/")!==-1)throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!oe.isDocumentKey(r))throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bg(t,new oe(r))}if(n instanceof Ye)return Bg(t,n._key);throw new J($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ol(n)}.`)}function N_(t,e){if(!Array.isArray(t)||t.length===0)throw new J($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bw(t,e){const n=(function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new J($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sM{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zr(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[jc].arrayValue?.values?.map((r=>Ze(r.doubleValue)));return new On(n)}convertGeoPoint(e){return new Nn(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zo(e));default:return null}}convertTimestamp(e){const n=zr(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Ne(uw(r),9688,{name:e});const s=new Go(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||ir(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ws extends Hw{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:st("string",ws._jsonSchemaVersion),bundleSource:st("string","DocumentSnapshot"),bundleName:st("string"),bundle:st("string")};class lc extends ws{data(e={}){return super.data(e)}}class Is{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new po(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new lc(this._firestore,this._userDataWriter,r.key,r,new po(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new po(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new po(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:iM(a.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Is._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=od.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){t=qt(t,Ye);const e=qt(t.firestore,ar);return qx(Kl(e),t._key).then((n=>Ww(e,t,n)))}Is._jsonSchemaVersion="firestore/querySnapshot/1.0",Is._jsonSchema={type:st("string",Is._jsonSchemaVersion),bundleSource:st("string","QuerySnapshot"),bundleName:st("string"),bundle:st("string")};class Wd extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new on(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function oM(t){t=qt(t,fr);const e=qt(t.firestore,ar),n=Kl(e),r=new Wd(e);return jw(t._query),Wx(n,t._query).then((s=>new Is(e,r,t,s)))}function Yu(t,e,n){t=qt(t,Ye);const r=qt(t.firestore,ar),s=qw(t.converter,e,n);return Zl(r,[Mw(Ql(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ln.none())])}function zF(t,e,n,...r){t=qt(t,Ye);const s=qt(t.firestore,ar),i=Ql(s);let o;return o=typeof(e=ht(e))=="string"||e instanceof zl?eM(i,"updateDoc",t._key,e,n,r):Zx(i,"updateDoc",t._key,e),Zl(s,[o.toMutation(t._key,ln.exists(!0))])}function GF(t){return Zl(qt(t.firestore,ar),[new pd(t._key,ln.none())])}function QF(t,e){const n=qt(t.firestore,ar),r=fo(t),s=qw(t.converter,e);return Zl(n,[Mw(Ql(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ln.exists(!1))]).then((()=>r))}function YF(t,...e){t=ht(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||R_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(R_(e[r])){const l=e[r];e[r]=l.next?.bind(l),e[r+1]=l.error?.bind(l),e[r+2]=l.complete?.bind(l)}let i,o,a;if(t instanceof Ye)o=qt(t.firestore,ar),a=Ml(t._key.path),i={next:l=>{e[r]&&e[r](Ww(o,t,l))},error:e[r+1],complete:e[r+2]};else{const l=qt(t,fr);o=qt(l.firestore,ar),a=l._query;const u=new Wd(o);i={next:h=>{e[r]&&e[r](new Is(o,u,l,h))},error:e[r+1],complete:e[r+2]},jw(t._query)}return(function(u,h,d,p){const g=new Vd(p),_=new Nd(h,g,d);return u.asyncQueue.enqueueAndForget((async()=>Pd(await Yc(u),_))),()=>{g.Nu(),u.asyncQueue.enqueueAndForget((async()=>Cd(await Yc(u),_)))}})(Kl(o),a,s,i)}function Zl(t,e){return(function(r,s){const i=new Yn;return r.asyncQueue.enqueueAndForget((async()=>Ox(await Bx(r),s,i))),i.promise})(Kl(t),e)}function Ww(t,e,n){const r=n.docs.get(e._key),s=new Wd(t);return new ws(t,s,e._key,r,new po(n.hasPendingWrites,n.fromCache),e.converter)}function O_(){return new xd("serverTimestamp")}function JF(...t){return new Md("arrayUnion",t)}function XF(...t){return new Ld("arrayRemove",t)}(function(e,n=!0){(function(s){ki=s})(Ci),di(new Rs("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ar(new XO(r.getProvider("auth-internal")),new tD(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Hr(kg,Ng,e),Hr(kg,Ng,"esm2020")})();function Kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aM=Kw,zw=new ua("auth","Firebase",Kw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new nd("@firebase/auth");function cM(t,...e){Xc.logLevel<=ve.WARN&&Xc.warn(`Auth (${Ci}): ${t}`,...e)}function uc(t,...e){Xc.logLevel<=ve.ERROR&&Xc.error(`Auth (${Ci}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw zd(t,...e)}function _n(t,...e){return zd(t,...e)}function Kd(t,e,n){const r={...aM(),[e]:n};return new ua("auth","Firebase",r).create(e,{appName:t.name})}function Jn(t){return Kd(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fn(t,"argument-error"),Kd(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zd(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zw.create(t,...e)}function he(t,e,...n){if(!t)throw zd(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uc(e),new Error(e)}function cr(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(){return typeof self<"u"&&self.location?.href||""}function uM(){return D_()==="http:"||D_()==="https:"}function D_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uM()||SN()||"connection"in navigator)?navigator.onLine:!0}function fM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=AN()||PN()}get(){return hM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e){cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mM=new _a(3e4,6e4);function dr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pr(t,e,n,r,s={}){return Qw(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ha({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return RN()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Pi(t.emulatorConfig.host)&&(u.credentials="include"),Gw.fetch()(await Yw(t,t.config.apiHost,n,a),u)})}async function Qw(t,e,n){t._canInitEmulator=!1;const r={...dM,...e};try{const s=new _M(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ya(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ya(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ya(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ya(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Kd(t,h,u);fn(t,h)}}catch(s){if(s instanceof hr)throw s;fn(t,"network-request-failed",{message:String(s)})}}async function ya(t,e,n,r,s={}){const i=await pr(t,e,n,r,s);return"mfaPendingCredential"in i&&fn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Yw(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Gd(t.config,s):`${t.config.apiScheme}://${s}`;return pM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function gM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _M{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),mM.get())})}}function Ya(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=_n(t,e,r);return s.customData._tokenResponse=n,s}function V_(t){return t!==void 0&&t.enterprise!==void 0}class yM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EM(t,e){return pr(t,"GET","/v2/recaptchaConfig",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){return pr(t,"POST","/v1/accounts:delete",e)}async function Zc(t,e){return pr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TM(t,e=!1){const n=ht(t),r=await n.getIdToken(e),s=Qd(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Po(Ju(s.auth_time)),issuedAtTime:Po(Ju(s.iat)),expirationTime:Po(Ju(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Ju(t){return Number(t)*1e3}function Qd(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const s=sT(n);return s?JSON.parse(s):(uc("Failed to decode base64 JWT payload"),null)}catch(s){return uc("Caught error parsing JWT payload as JSON",s?.toString()),null}}function x_(t){const e=Qd(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&wM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){const e=t.auth,n=await t.getIdToken(),r=await Xo(t,Zc(e,{idToken:n}));he(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?Jw(s.providerUserInfo):[],o=bM(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new nf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function AM(t){const e=ht(t);await el(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Jw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e){const n=await Qw(t,{},async()=>{const r=ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Yw(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Pi(t.emulatorConfig.host)&&(l.credentials="include"),Gw.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SM(t,e){return pr(t,"POST","/v2/accounts:revokeToken",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=x_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await RM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ri;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ri,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new IM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TM(this,e)}reload(){return AM(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await el(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await Xo(this,vM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:g,providerData:_,stsTokenManager:E}=n;he(d&&E,e,"internal-error");const R=ri.fromJSON(this.name,E);he(typeof d=="string",e,"internal-error"),br(r,e.name),br(s,e.name),he(typeof p=="boolean",e,"internal-error"),he(typeof g=="boolean",e,"internal-error"),br(i,e.name),br(o,e.name),br(a,e.name),br(l,e.name),br(u,e.name),br(h,e.name);const D=new mn({uid:d,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:R,createdAt:u,lastLoginAt:h});return _&&Array.isArray(_)&&(D.providerData=_.map(N=>({...N}))),l&&(D._redirectEventId=l),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new ri;s.updateFromServerResponse(n);const i=new mn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await el(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];he(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Jw(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new ri;a.updateFromIdToken(r);const l=new mn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new nf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;function Qn(t){cr(t instanceof Function,"Expected a class definition");let e=M_.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xw.type="NONE";const L_=Xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e,n){return`firebase:${t}:${e}:${n}`}class si{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=hc(this.userKey,s.apiKey,i),this.fullPersistenceKey=hc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zc(this.auth,{idToken:e}).catch(()=>{});return n?mn._fromGetAccountInfoResponse(this.auth,n,e):null}return mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new si(Qn(L_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Qn(L_);const o=hc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const p=await Zc(e,{idToken:h}).catch(()=>{});if(!p)break;d=await mn._fromGetAccountInfoResponse(e,p,h)}else d=mn._fromJSON(e,h);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new si(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new si(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sI(e))return"Blackberry";if(iI(e))return"Webos";if(eI(e))return"Safari";if((e.includes("chrome/")||tI(e))&&!e.includes("edge/"))return"Chrome";if(rI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Zw(t=Vt()){return/firefox\//i.test(t)}function eI(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tI(t=Vt()){return/crios\//i.test(t)}function nI(t=Vt()){return/iemobile/i.test(t)}function rI(t=Vt()){return/android/i.test(t)}function sI(t=Vt()){return/blackberry/i.test(t)}function iI(t=Vt()){return/webos/i.test(t)}function Yd(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PM(t=Vt()){return Yd(t)&&!!window.navigator?.standalone}function CM(){return CN()&&document.documentMode===10}function oI(t=Vt()){return Yd(t)||rI(t)||iI(t)||sI(t)||/windows phone/i.test(t)||nI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e=[]){let n;switch(t){case"Browser":n=F_(Vt());break;case"Worker":n=`${F_(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ci}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e={}){return pr(t,"GET","/v2/passwordPolicy",dr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=6;class DM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new kM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await si.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zc(this,{idToken:e}),r=await mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await el(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(Jn(this));const n=e?ht(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(Jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NM(this),n=new DM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SM(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await si.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mr(t){return ht(t)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=LN(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xM(t){eu=t}function cI(t){return eu.loadJS(t)}function MM(){return eu.recaptchaEnterpriseScript}function LM(){return eu.gapiScript}function FM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class UM{constructor(){this.enterprise=new $M}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $M{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HM="recaptcha-enterprise",lI="NO_RECAPTCHA";class jM{constructor(e){this.type=HM,this.auth=mr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{EM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new yM(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;V_(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(lI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UM().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&V_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=MM();l.length!==0&&(l+=a),cI(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function $_(t,e,n,r=!1,s=!1){const i=new jM(t);let o;if(s)o=lI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function tl(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await $_(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e){const n=sd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(rr(i,e??{}))return s;fn(s,"already-initialized")}return n.initialize({options:e})}function qM(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function WM(t,e,n){const r=mr(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=uI(e),{host:o,port:a}=KM(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(rr(u,r.config.emulator)&&rr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Pi(o)?(cT(`${i}//${o}${l}`),lT("Auth",!0)):zM()}function uI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KM(t){const e=uI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:H_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:H_(o)}}}function H_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function GM(t,e){return pr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return ya(t,"POST","/v1/accounts:signInWithPassword",dr(t,e))}async function YM(t,e){return pr(t,"POST","/v1/accounts:sendOobCode",dr(t,e))}async function JM(t,e){return YM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e){return ya(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))}async function ZM(t,e){return ya(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Jd{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Zo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tl(e,n,"signInWithPassword",QM);case"emailLink":return XM(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tl(e,r,"signUpPassword",GM);case"emailLink":return ZM(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(t,e){return ya(t,"POST","/v1/accounts:signInWithIdp",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="http://localhost";class Cs extends Jd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Cs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ii(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ii(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ii(e,n)}buildRequest(){const e={requestUri:eL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ha(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nL(t){const e=ao(co(t)).link,n=e?ao(co(e)).deep_link_id:null,r=ao(co(t)).deep_link_id;return(r?ao(co(r)).link:null)||r||n||e||t}class Xd{constructor(e){const n=ao(co(e)),r=n.apiKey??null,s=n.oobCode??null,i=tL(n.mode??null);he(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nL(e);try{return new Xd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.providerId=Mi.PROVIDER_ID}static credential(e,n){return Zo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xd.parseLink(n);return he(r,"argument-error"),Zo._fromEmailAndCode(e,r.code,r.tenantId)}}Mi.PROVIDER_ID="password";Mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Zd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ea{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Ea{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Ea{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ea{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){return ya(t,"POST","/v1/accounts:signUp",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await mn._fromIdTokenResponse(e,r,s),o=j_(r);return new ks({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=j_(r);return new ks({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function j_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends hr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nl(e,n,r,s)}}function hI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?nl._fromErrorAndOperation(t,i,e,r):i})}async function sL(t,e,n=!1){const r=await Xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e,n=!1){const{auth:r}=t;if(Jt(r.app))return Promise.reject(Jn(r));const s="reauthenticate";try{const i=await Xo(t,hI(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=Qd(i.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),ks._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&fn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(t,e,n=!1){if(Jt(t.app))return Promise.reject(Jn(t));const r="signIn",s=await hI(t,r,e),i=await ks._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function oL(t,e){return fI(mr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(t){const e=mr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZF(t,e,n){const r=mr(t);await tl(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",JM)}async function e2(t,e,n){if(Jt(t.app))return Promise.reject(Jn(t));const r=mr(t),o=await tl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&dI(t),l}),a=await ks._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function t2(t,e,n){return Jt(t.app)?Promise.reject(Jn(t)):oL(ht(t),Mi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dI(t),r})}function aL(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function cL(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function lL(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}function n2(t){return ht(t).signOut()}const rl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rl,"1"),this.storage.removeItem(rl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=1e3,hL=10;class mI extends pI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);CM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,hL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mI.type="LOCAL";const fL=mI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends pI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gI.type="SESSION";const _I=gI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await dL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=ep("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function mL(t){Dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function gL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _L(){return navigator?.serviceWorker?.controller||null}function yL(){return yI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebaseLocalStorageDb",EL=1,sl="firebaseLocalStorage",vI="fbase_key";class va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nu(t,e){return t.transaction([sl],e?"readwrite":"readonly").objectStore(sl)}function vL(){const t=indexedDB.deleteDatabase(EI);return new va(t).toPromise()}function rf(){const t=indexedDB.open(EI,EL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sl,{keyPath:vI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sl)?e(r):(r.close(),await vL(),e(await rf()))})})}async function B_(t,e,n){const r=nu(t,!0).put({[vI]:e,value:n});return new va(r).toPromise()}async function TL(t,e){const n=nu(t,!1).get(e),r=await new va(n).toPromise();return r===void 0?null:r.value}function q_(t,e){const n=nu(t,!0).delete(e);return new va(n).toPromise()}const wL=800,IL=3;class TI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tu._getInstance(yL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gL(),!this.activeServiceWorker)return;this.sender=new pL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_L()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rf();return await B_(e,rl,"1"),await q_(e,rl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>B_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nu(s,!1).getAll();return new va(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TI.type="LOCAL";const AL=TI;new _a(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e){return e?Qn(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Jd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ii(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ii(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bL(t){return fI(t.auth,new tp(t),t.bypassAuthState)}function RL(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),iL(n,new tp(t),t.bypassAuthState)}async function SL(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),sL(n,new tp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bL;case"linkViaPopup":case"linkViaRedirect":return SL;case"reauthViaPopup":case"reauthViaRedirect":return RL;default:fn(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new _a(2e3,1e4);async function r2(t,e,n){if(Jt(t.app))return Promise.reject(_n(t,"operation-not-supported-in-this-environment"));const r=mr(t);lM(t,e,Zd);const s=wI(r,n);return new fs(r,"signInViaPopup",e,s).executeNotNull()}class fs extends II{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PL.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="pendingRedirect",fc=new Map;class kL extends II{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fc.get(this.auth._key());if(!e){try{const r=await NL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fc.set(this.auth._key(),e)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NL(t,e){const n=VL(e),r=DL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function OL(t,e){fc.set(t._key(),e)}function DL(t){return Qn(t._redirectPersistence)}function VL(t){return hc(CL,t.config.apiKey,t.name)}async function xL(t,e,n=!1){if(Jt(t.app))return Promise.reject(Jn(t));const r=mr(t),s=wI(r,e),o=await new kL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=600*1e3;class LL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_n(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ML&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function FL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e={}){return pr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HL=/^https?/;async function jL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UL(t);for(const n of e)try{if(BL(n))return}catch{}fn(t,"unauthorized-domain")}function BL(t){const e=tf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HL.test(n))return!1;if($L.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new _a(3e4,6e4);function K_(){const t=Dn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WL(t){return new Promise((e,n)=>{function r(){K_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K_(),n(_n(t,"network-request-failed"))},timeout:qL.get()})}if(Dn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Dn().gapi?.load)r();else{const s=FM("iframefcb");return Dn()[s]=()=>{gapi.load?r():n(_n(t,"network-request-failed"))},cI(`${LM()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw dc=null,e})}let dc=null;function KL(t){return dc=dc||WL(t),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new _a(5e3,15e3),GL="__/auth/iframe",QL="emulator/auth/iframe",YL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XL(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gd(e,QL):`https://${t.config.authDomain}/${GL}`,r={apiKey:e.apiKey,appName:t.name,v:Ci},s=JL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ha(r).slice(1)}`}async function ZL(t){const e=await KL(t),n=Dn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:XL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=_n(t,"network-request-failed"),a=Dn().setTimeout(()=>{i(o)},zL.get());function l(){Dn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tF=500,nF=600,rF="_blank",sF="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iF(t,e,n,r=tF,s=nF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...eF,width:r.toString(),height:s.toString(),top:i,left:o},u=Vt().toLowerCase();n&&(a=tI(u)?rF:n),Zw(u)&&(e=e||sF,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(PM(u)&&a!=="_self")return oF(e||"",a),new z_(null);const d=window.open(e||"",a,h);he(d,t,"popup-blocked");try{d.focus()}catch{}return new z_(d)}function oF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="__/auth/handler",cF="emulator/auth/handler",lF=encodeURIComponent("fac");async function G_(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ci,eventId:s};if(e instanceof Zd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Ea){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${lF}=${encodeURIComponent(l)}`:"";return`${uF(t)}?${ha(a).slice(1)}${u}`}function uF({config:t}){return t.emulator?Gd(t,cF):`https://${t.authDomain}/${aF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="webStorageSupport";class hF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_I,this._completeRedirectFn=xL,this._overrideRedirectResult=OL}async _openPopup(e,n,r,s){cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await G_(e,n,r,tf(),s);return iF(e,i,ep())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await G_(e,n,r,tf(),s);return mL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(cr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZL(e),r=new LL(e);return n.register("authEvent",s=>(he(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xu,{type:Xu},s=>{const i=s?.[0]?.[Xu];i!==void 0&&n(!!i),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oI()||eI()||Yd()}}const fF=hF;var Q_="@firebase/auth",Y_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mF(t){di(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aI(t)},u=new VM(r,s,i,l);return qM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),di(new Rs("auth-internal",e=>{const n=mr(e.getProvider("auth").getImmediate());return(r=>new dF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(Q_,Y_,pF(t)),Hr(Q_,Y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=300,_F=aT("authIdTokenMaxAge")||gF;let J_=null;const yF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_F)return;const s=n?.token;J_!==s&&(J_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function EF(t=dT()){const e=sd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BM(t,{popupRedirectResolver:fF,persistence:[AL,fL,_I]}),r=aT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=yF(i.toString());cL(n,o,()=>o(n.currentUser)),aL(n,a=>o(a))}}const s=iT("auth");return s&&WM(n,`http://${s}`),n}function vF(){return document.getElementsByTagName("head")?.[0]??document}xM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=_n("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",vF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mF("Browser");const TF={apiKey:"AIzaSyAaqnWcFLOwmNYoyFgyRCe1z5EhSbDKXRc",authDomain:"empuzzled-3de4d.firebaseapp.com",projectId:"empuzzled-3de4d",storageBucket:"empuzzled-3de4d.firebasestorage.app",messagingSenderId:"984365730335",appId:"1:984365730335:web:19c961e053a66399c92251"},bI=bg().length===0?fT(TF):bg()[0],ro=Gx(bI),pc=EF(bI),Co=Be([]),RI=Be({}),SI=Be([]),PI=Be({}),CI=Be({}),sf=Be(!0),kI=Be(null);let X_=!1;const wF=async()=>{if(!(X_||Co.value.length>0)){X_=!0;try{const e=await(await fetch("https://raw.githubusercontent.com/vabe44/31f5d518-epzl-cdn/main/assets/cached_configurations/characters.json")).json(),n=Object.values(e.charactersConfig.heroes),i=(await(await fetch("https://raw.githubusercontent.com/vabe44/31f5d518-epzl-cdn/main/assets/languages/English")).text()).split(`
`).slice(1),o={},a={},l={};for(const R of i){const D=R.split(",");if(D.length>=2){const N=D[0]?D[0].trim().replace(/"/g,""):"",w=D.slice(1).join(",").trim().replace(/"/g,"");N&&w&&(N.startsWith("heroes.name.")||N.startsWith("heroes.name_fancy.")||N.startsWith("specials.name."))?o[N]=w:N&&w&&N.startsWith("herocard.family.title.")?a[N.replace("herocard.family.title.","")]=w:N&&w&&N.startsWith("limitbreak.gift.title.")&&(l[N.replace("limitbreak.gift.title.","")]=w)}}RI.value=a,CI.value=l;const u=e.charactersConfig.heroes,d=await(await fetch("https://raw.githubusercontent.com/vabe44/31f5d518-epzl-cdn/main/assets/heroes_audio_map.json")).json(),g=await(await fetch("https://raw.githubusercontent.com/vabe44/31f5d518-epzl-cdn/main/assets/data_en.json")).json();PI.value=g.family_values||{},SI.value=g.families_bonus||[];const _=new Set(g.allHeroes.map(R=>R.name)),E=new Map;for(const R of g.allHeroes){const D=R.name+" C1";R.hasCostume=_.has(D),E.set(R.heroId,R)}Co.value=n.map(R=>{const D=R.specialId;let N=R.specialId;if(R.parentHeroId){const P=u[R.parentHeroId];P&&(N=P.specialId)}const w=`heroes.name.${R.id}`,k=`heroes.name_fancy.${R.id}`,V=`specials.name.${N}`,F=R.canBeReceivedDate??549590400,I=new Date("2000-01-01T00:00:00Z").getTime(),T=new Date(I+F*1e3),y=d[R.id]||[],A=E.get(R.id);return{...R,costume:!!R.parentHeroId,trainer:!!R.trainerType,specialId:N,specialImageId:D,name:o[w]||A?.name||R.id,fancyName:o[k],specialName:o[V],canBeReceivedDateParsed:T,specialAudioFiles:y,heroData:A||null}}),sf.value=!1}catch(t){console.log("Error fetching heroes:",t),kI.value=t,sf.value=!1}}};function IF(){const t=Be(!1),e=Be(!1),n=He(()=>{let u=Co.value;return t.value||(u=u.filter(h=>!h.costume)),e.value||(u=u.filter(h=>!h.trainer)),u}),r=He(()=>Co.value),s=He(()=>{const u=new Map;return Co.value.forEach(h=>{u.set(h.id,h)}),u}),i=He(()=>RI.value),o=He(()=>CI.value),a=He(()=>SI.value),l=He(()=>PI.value);return xn(wF),{heroesAll:r,heroesById:s,heroes:n,loading:sf,error:kI,showCostumes:t,familiesAll:i,aetherGiftsAll:o,familiesBonusAll:a,familiesValuesAll:l}}const Z_=Be(null),Zu=Be([]),so=Be(!1);function NI(){const{heroesAll:t,loading:e}=IF(),n=(a,l)=>{const u=l.filter(_=>_.claimed),h=u.length,d=u.reduce((_,E)=>{const R=t.value.find(D=>D.id===E.answerId);if(R&&R.heroData){const D=R.heroData.lb2||R.heroData.lb1||R.heroData;return _+(D.power||0)+125}return _},0),p=l.length,g=l.filter(_=>_.won).length;return{totalPower:d,claimedCount:h,gamesPlayed:p,gamesWon:g}},r=async(a,l)=>{const u=pc.currentUser;if(!u)return l;if(t.value.length===0||e.value){let g=0;for(;(t.value.length===0||e.value)&&g<20;)await new Promise(_=>setTimeout(_,500)),g++}const h=fo(ro,"users",u.uid),d=fo(ro,"users",u.uid,"gameData",a),p=fo(ro,"leaderboard",u.uid);try{so.value=!0;const g=await Qu(h),_=g.exists()?g.data():{stats:{}},E=_.displayName||u.displayName||"Hero",R=_.photoURL||u.photoURL||"",D=await Qu(d);let N=[];D.exists()&&(N=D.data().results||[]);const w=[...N];l.forEach(y=>{const A=w.findIndex(P=>P.gameDocId===y.gameDocId&&P.difficulty===y.difficulty);A===-1?w.push(y):((y.won&&!w[A].won||y.claimed&&!w[A].claimed)&&(w[A]={...w[A],...y}),y.guessesHistory?.length>(w[A].guessesHistory?.length||0)&&(w[A].guessesHistory=y.guessesHistory,w[A].guesses=y.guesses))}),await Yu(d,{results:w},{merge:!0});const k=n(a,w),V=["shadow","classic","skill"].filter(y=>y!==a);let F=k.totalPower;V.forEach(y=>{F+=_.stats?.[y]?.totalPower||0});const I={displayName:E,photoURL:R,lastUpdated:O_(),totalPowerScore:F,stats:{[a]:k}};await Yu(h,I,{merge:!0});const T={uid:u.uid,displayName:E,photoURL:R,lastUpdated:O_(),totalPowerScore:F,stats:{[a]:{totalPower:k.totalPower,claimedCount:k.claimedCount}}};return await Yu(p,T,{merge:!0}),w}catch(g){return console.error(`Error syncing ${a} results:`,g),l}finally{so.value=!1}},s=async()=>{if(!pc.currentUser)return;const a=["shadow","classic","skill"];for(const l of a){const u=localStorage.getItem(`${l}ModeResults`);if(u)try{const h=JSON.parse(u);await r(l,h)}catch(h){console.error(`Error parsing local results for ${l}:`,h)}else await r(l,[])}await i()},i=async()=>{const a=pc.currentUser;if(a)try{const l=fo(ro,"users",a.uid),u=await Qu(l);u.exists()&&(Z_.value=u.data())}catch(l){console.error("Error fetching profile:",l)}};return{profile:Z_,leaderboard:Zu,loading:so,syncGameResults:r,syncAllModes:s,fetchProfile:i,calculateStats:n,fetchLeaderboard:async(a="shadow",l=20)=>{try{so.value=!0,Zu.value=[];const u=zx(ro,"leaderboard");let h;a==="global"?h=S_(u,P_("totalPowerScore","desc"),C_(l)):h=S_(u,P_(`stats.${a}.totalPower`,"desc"),C_(l));const d=await oM(h),p=[];d.forEach(g=>{p.push({uid:g.id,...g.data()})}),Zu.value=p}catch(u){console.error("Error fetching leaderboard:",u)}finally{so.value=!1}}}}const eh=Be(null),ey=Be(!0),AF=Be(!1);let ty=!1;function bF(){const{syncAllModes:t}=NI();return!ty&&typeof window<"u"&&(ty=!0,lL(pc,async e=>{eh.value=e,e&&await t(),ey.value=!1})),{user:eh,loading:ey,isAuthenticated:He(()=>!!eh.value),showLoginModal:AF}}function RF(){const{profile:t,loading:e}=NI(),{user:n,loading:r}=bF(),s=He(()=>!(r.value||n.value&&e.value&&!t.value||t.value&&t.value.noAds===!0));return typeof window<"u"&&an(s,i=>{try{window.adsbygoogle&&((window.adsbygoogle=window.adsbygoogle||[]).pauseAdRequests=i?0:1)}catch{}},{immediate:!0}),{showAds:s}}function SF(){const t=eT("showKofiWidget",()=>!0);return{showKofiWidget:t,toggleKofiWidget:()=>{t.value=!t.value}}}const PF=Jk(sN),CF={key:2,class:"kofi-widget-container"},kF={__name:"app",setup(t){const{showAds:e}=RF(),{showKofiWidget:n}=SF();return Mv(He(()=>e.value?{script:[{src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4399006908140733",async:!0,crossorigin:"anonymous"}]}:{})),xn(()=>{an(n,r=>{if(r){const s=document.getElementById("hide-kofi-widget-style");if(s&&s.remove(),document.querySelectorAll(".floatingchat-container-wrap, .floatingchat-container-wrap-mobi, .floating-chat-kofi").forEach(o=>o.style.setProperty("display","block","important")),document.getElementById("kofi-widget-script"))window.kofiWidgetOverlay&&window.kofiWidgetOverlay.draw("empuzzled",{type:"floating-chat","floating-chat.donateButton.text":"","floating-chat.donateButton.background-color":"#f7c96b","floating-chat.donateButton.text-color":"#222"});else{const o=document.createElement("script");o.id="kofi-widget-script",o.src="https://storage.ko-fi.com/cdn/scripts/overlay-widget.js",o.onload=()=>{window.kofiWidgetOverlay&&n.value&&window.kofiWidgetOverlay.draw("empuzzled",{type:"floating-chat","floating-chat.donateButton.text":"","floating-chat.donateButton.background-color":"#f7c96b","floating-chat.donateButton.text-color":"#222"})},document.body.appendChild(o)}}else{if(!document.getElementById("hide-kofi-widget-style")){const i=document.createElement("style");i.id="hide-kofi-widget-style",i.innerHTML=`
          .floatingchat-container-wrap, 
          .floatingchat-container-wrap-mobi, 
          .floating-chat-kofi,
          [id^="kofi-widget-overlay"] { 
            display: none !important; 
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
          }
        `,document.head.appendChild(i)}document.querySelectorAll(".floatingchat-container-wrap, .floatingchat-container-wrap-mobi, .floating-chat-kofi").forEach(i=>i.style.setProperty("display","none","important"))}},{immediate:!0})}),(r,s)=>{const i=rN,o=PF,a=oN;return Ht(),Ac("div",null,[Ke(i,{color:"#e2b04a",height:3}),Ke(o),Ke(a),ec("",!0),ec("",!0),$e(n)?(Ht(),Ac("div",CF,[...s[0]||(s[0]=[wl("div",{id:"kofi-widget-anchor"},null,-1)])])):ec("",!0)])}}},NF={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,h=s?xe(()=>ce(()=>import("./gSFhPMiZ.js"),__vite__mapDeps([102,3,2,103]),import.meta.url)):xe(()=>ce(()=>import("./CAvHtQND.js"),__vite__mapDeps([104,2,105]),import.meta.url));return(d,p)=>(Ht(),Sn($e(h),uf(Lf({statusCode:$e(r),statusMessage:$e(i),description:$e(o),stack:$e(a)})),null,16))}},OF={key:0},ny={__name:"nuxt-root",setup(t){const e=()=>null,n=ze(),r=n.deferHydration();if(n.isHydrating){const u=n.hooks.hookOnce("app:error",r);Wt().beforeEach(u)}const s=!1;Es(Rl,Kf()),n.hooks.callHookWith(u=>u.map(h=>h()),"vue:setup");const i=Sl(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Pf((u,h,d)=>{if(n.hooks.callHook("vue:error",u,h,d).catch(p=>console.error("[nuxt] Error in `vue:error` hook",p)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",u),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,u),!1;if(Pv(u)&&(u.fatal||u.unhandled))return n.runWithContext(()=>ls(u)),!1});const l=!1;return(u,h)=>(Ht(),Sn(Mf,{onResolve:$e(r)},{default:ml(()=>[$e(o)?(Ht(),Ac("div",OF)):$e(i)?(Ht(),Sn($e(NF),{key:1,error:$e(i)},null,8,["error"])):$e(l)?(Ht(),Sn($e(e),{key:2,context:$e(l)},null,8,["context"])):$e(s)?(Ht(),Sn(eE($e(s)),{key:3})):(Ht(),Sn($e(kF),{key:4}))]),_:1},8,["onResolve"]))}};let ry;{let t;ry=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?jf(ny):Nc(ny),s=u0({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=Ts(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&Mm.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(Mm.id)?.remove()});try{await d0(s,Z1)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(a0),await s.hooks.callHook("app:mounted",r),await qr()}catch(o){i(o)}return r},t=ry().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{mt as $,xn as A,Ob as B,$f as C,nN as D,HF as E,lt as F,bF as G,NI as H,IF as I,El as J,G1 as K,Ai as L,YS as M,fo as N,ro as O,YF as P,Zb as Q,tn as R,rt as S,HE as T,LE as U,be as V,dl as W,kc as X,XS as Y,EE as Z,Vb as _,wl as a,kE as a$,xe as a0,Fr as a1,et as a2,Oc as a3,ce as a4,la as a5,rR as a6,Ts as a7,Si as a8,ME as a9,ne as aA,wi as aB,ms as aC,IA as aD,AA as aE,bA as aF,RA as aG,oy as aH,Kt as aI,pA as aJ,VF as aK,DF as aL,bk as aM,sa as aN,oi as aO,cb as aP,mR as aQ,dR as aR,Lb as aS,nR as aT,uf as aU,Lf as aV,Es as aW,_f as aX,vf as aY,wt as aZ,yf as a_,Qu as aa,O_ as ab,Yu as ac,QF as ad,zx as ae,We as af,eE as ag,GF as ah,S_ as ai,KF as aj,P_ as ak,C_ as al,oM as am,zF as an,sS as ao,Zt as ap,Ve as aq,Oe as ar,of as as,un as at,tA as au,Ii as av,pt as aw,Te as ax,De as ay,Js as az,Ke as b,Sf as b0,WE as b1,pc as b2,JF as b3,XF as b4,jF as b5,ze as b6,FF as b7,Qy as b8,BF as b9,xF as bA,dP as bB,pR as bC,Vc as ba,p0 as bb,SF as bc,lL as bd,Je as be,t2 as bf,e2 as bg,ZF as bh,Or as bi,r2 as bj,n2 as bk,ed as bl,pg as bm,qF as bn,hv as bo,A0 as bp,t1 as bq,Ds as br,pv as bs,UF as bt,AP as bu,LF as bv,JE as bw,bl as bx,MF as by,_v as bz,Ac as c,Ff as d,RF as e,ec as f,$e as g,CE as h,$F as i,Kf as j,yR as k,eT as l,an as m,He as n,Ht as o,Wt as p,tR as q,Be as r,qr as s,ff as t,Mv as u,Sn as v,ml as w,bi as x,lr as y,Ln as z};
