import{c as s,o as l,a as r,y as z,r as c,n as v,B as F,f,X as B,x as m,Y as D,F as $,q as V,b as G,d as N,g,L as O,t as R}from"#entry";import{o as j}from"./qUoY24b3.js";import{F as T}from"./Dw8P0qyA.js";import{h as L}from"./CUgBIT3E.js";function te(a,b){return l(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}const U=["placeholder"],q=["onClick"],A={class:"relative w-12 h-12 mr-4 flex-shrink-0 rounded-lg border border-white/10 overflow-hidden bg-slate-950"},K=["src","alt"],P={class:"flex items-center gap-2"},E={class:"text-xl font-black tracking-tight group-hover:text-yellow-400 transition-colors"},M={key:0,class:"text-[10px] bg-purple-500 text-white px-1.5 py-0.5 rounded uppercase font-black"},W="https://raw.githubusercontent.com/vabe44/31f5d518-epzl-cdn/main",X=z({__name:"HeroSelectInput",props:{placeholder:{type:String,default:"Guess a hero..."},heroes:{type:Array,required:!0},direction:{type:String,default:"up"}},emits:["update:selectedHero"],setup(a,{emit:b}){const x=a,k=b,n=c(""),u=c(!1),d=c(!1),p=c(null);j(p,()=>{u.value=!1});const w=W;function y(o){return`${w}/portraits/${o}.webp`}const _={keys:["name"],threshold:.4,includeScore:!0},i=v(()=>n.value?new T((x.heroes||[]).filter(e=>e.name&&e.id),_).search(n.value).map(e=>e.item):[]),C=v(()=>!d.value&&!n.value);function H(){d.value=!0,window.innerWidth<768&&setTimeout(()=>{p.value?.scrollIntoView({behavior:"smooth",block:"center"})},100)}function I(){d.value=!1}function S(o){o?.target&&o.target.blur(),i.value.length>0&&h(i.value[0])}function h(o){n.value="",u.value=!1,k("update:selectedHero",o)}return(o,t)=>(l(),s("div",{ref_key:"dropdownRef",ref:p,class:"autocomplete-container w-full max-w-lg relative z-50"},[F(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),placeholder:a.placeholder,onFocus:t[1]||(t[1]=()=>{u.value=!0,H()}),onBlur:I,onKeydown:t[2]||(t[2]=D(e=>S(e),["enter"])),class:m(["w-full px-6 py-4 text-xl text-white bg-slate-900/90 backdrop-blur-md border-2 border-slate-700 rounded-2xl shadow-2xl focus:outline-none focus:border-yellow-400 transition-all duration-300 ease-in-out",C.value?"guess-input-animated":""]),ref:"guessInputRef"},null,42,U),[[B,n.value]]),u.value&&i.value.length>0?(l(),s("ul",{key:0,class:m(["dropdown absolute z-[60] w-full bg-slate-900/95 backdrop-blur-xl border-2 border-slate-700 rounded-2xl shadow-2xl max-h-80 overflow-y-auto flex custom-scrollbar",a.direction==="up"?"bottom-full mb-2 flex-col-reverse":"top-full mt-2 flex-col"])},[(l(!0),s($,null,V(i.value,e=>(l(),s("li",{key:e.id,onClick:Y=>h(e),class:"px-4 py-3 text-white cursor-pointer hover:bg-slate-800 flex items-center shrink-0 group border-b border-white/5 last:border-0 transition-colors"},[r("div",A,[r("div",{class:"absolute inset-0 opacity-100 z-0",style:O({backgroundImage:`url(${g(w)}/Uncompressed/herocard_colors_${(e.element||e.heroData?.color||"default").toLowerCase()}.png)`,backgroundRepeat:"repeat-x",backgroundSize:"auto 100%"})},null,4),e.id?(l(),s("img",{key:0,src:y(e.id),alt:e.id,class:"w-full h-full object-cover relative z-10 group-hover:scale-110 transition-transform duration-300",loading:"lazy"},null,8,K)):f("",!0)]),r("div",P,[r("span",E,R(e.name),1),e.costume?(l(),s("span",M,"Costume")):f("",!0)])],8,q))),128)),r("li",{class:m(["sticky z-20 bg-slate-900 pb-1 pt-0.5 px-1",a.direction==="up"?"top-0 border-b border-white/10":"bottom-0 border-t border-white/10"])},[r("button",{onClick:t[3]||(t[3]=e=>u.value=!1),class:"w-full py-2 bg-slate-800 hover:bg-slate-700 rounded-xl text-slate-400 hover:text-white flex items-center justify-center gap-2 transition-colors cursor-pointer text-[10px] font-black uppercase tracking-widest"},[G(g(L),{class:"w-4 h-4"}),t[4]||(t[4]=N(" Close Search ",-1))])],2)],2)):f("",!0)],512))}}),oe=Object.assign(X,{__name:"HeroSelectInput"});export{oe as H,te as r};
